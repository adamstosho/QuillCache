function Wd(u,d){for(var c=0;c<d.length;c++){const m=d[c];if(typeof m!="string"&&!Array.isArray(m)){for(const w in m)if(w!=="default"&&!(w in u)){const p=Object.getOwnPropertyDescriptor(m,w);p&&Object.defineProperty(u,w,p.get?p:{enumerable:!0,get:()=>m[w]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))m(w);new MutationObserver(w=>{for(const p of w)if(p.type==="childList")for(const I of p.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&m(I)}).observe(document,{childList:!0,subtree:!0});function c(w){const p={};return w.integrity&&(p.integrity=w.integrity),w.referrerPolicy&&(p.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?p.credentials="include":w.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function m(w){if(w.ep)return;w.ep=!0;const p=c(w);fetch(w.href,p)}})();var ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Yu={exports:{}},Go={},Xu={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function Gd(){if(w0)return tt;w0=1;var u=Symbol.for("react.element"),d=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,X={};function Q(V,re,He){this.props=V,this.context=re,this.refs=X,this.updater=He||W}Q.prototype.isReactComponent={},Q.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},Q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=Q.prototype;function he(V,re,He){this.props=V,this.context=re,this.refs=X,this.updater=He||W}var te=he.prototype=new ne;te.constructor=he,K(te,Q.prototype),te.isPureReactComponent=!0;var pe=Array.isArray,ze=Object.prototype.hasOwnProperty,De={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function Le(V,re,He){var Be,st={},me=null,pt=null;if(re!=null)for(Be in re.ref!==void 0&&(pt=re.ref),re.key!==void 0&&(me=""+re.key),re)ze.call(re,Be)&&!oe.hasOwnProperty(Be)&&(st[Be]=re[Be]);var Ve=arguments.length-2;if(Ve===1)st.children=He;else if(1<Ve){for(var xt=Array(Ve),tn=0;tn<Ve;tn++)xt[tn]=arguments[tn+2];st.children=xt}if(V&&V.defaultProps)for(Be in Ve=V.defaultProps,Ve)st[Be]===void 0&&(st[Be]=Ve[Be]);return{$$typeof:u,type:V,key:me,ref:pt,props:st,_owner:De.current}}function ie(V,re){return{$$typeof:u,type:V.type,key:re,ref:V.ref,props:V.props,_owner:V._owner}}function gt(V){return typeof V=="object"&&V!==null&&V.$$typeof===u}function $e(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(He){return re[He]})}var Me=/\/+/g;function We(V,re){return typeof V=="object"&&V!==null&&V.key!=null?$e(""+V.key):re.toString(36)}function _e(V,re,He,Be,st){var me=typeof V;(me==="undefined"||me==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(me){case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case u:case d:pt=!0}}if(pt)return pt=V,st=st(pt),V=Be===""?"."+We(pt,0):Be,pe(st)?(He="",V!=null&&(He=V.replace(Me,"$&/")+"/"),_e(st,re,He,"",function(tn){return tn})):st!=null&&(gt(st)&&(st=ie(st,He+(!st.key||pt&&pt.key===st.key?"":(""+st.key).replace(Me,"$&/")+"/")+V)),re.push(st)),1;if(pt=0,Be=Be===""?".":Be+":",pe(V))for(var Ve=0;Ve<V.length;Ve++){me=V[Ve];var xt=Be+We(me,Ve);pt+=_e(me,re,He,xt,st)}else if(xt=B(V),typeof xt=="function")for(V=xt.call(V),Ve=0;!(me=V.next()).done;)me=me.value,xt=Be+We(me,Ve++),pt+=_e(me,re,He,xt,st);else if(me==="object")throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return pt}function q(V,re,He){if(V==null)return V;var Be=[],st=0;return _e(V,Be,"","",function(me){return re.call(He,me,st++)}),Be}function Ze(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(He){(V._status===0||V._status===-1)&&(V._status=1,V._result=He)},function(He){(V._status===0||V._status===-1)&&(V._status=2,V._result=He)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var Ce={current:null},xe={transition:null},Ne={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:xe,ReactCurrentOwner:De};function we(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:q,forEach:function(V,re,He){q(V,function(){re.apply(this,arguments)},He)},count:function(V){var re=0;return q(V,function(){re++}),re},toArray:function(V){return q(V,function(re){return re})||[]},only:function(V){if(!gt(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},tt.Component=Q,tt.Fragment=c,tt.Profiler=w,tt.PureComponent=he,tt.StrictMode=m,tt.Suspense=v,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,tt.act=we,tt.cloneElement=function(V,re,He){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Be=K({},V.props),st=V.key,me=V.ref,pt=V._owner;if(re!=null){if(re.ref!==void 0&&(me=re.ref,pt=De.current),re.key!==void 0&&(st=""+re.key),V.type&&V.type.defaultProps)var Ve=V.type.defaultProps;for(xt in re)ze.call(re,xt)&&!oe.hasOwnProperty(xt)&&(Be[xt]=re[xt]===void 0&&Ve!==void 0?Ve[xt]:re[xt])}var xt=arguments.length-2;if(xt===1)Be.children=He;else if(1<xt){Ve=Array(xt);for(var tn=0;tn<xt;tn++)Ve[tn]=arguments[tn+2];Be.children=Ve}return{$$typeof:u,type:V.type,key:st,ref:me,props:Be,_owner:pt}},tt.createContext=function(V){return V={$$typeof:I,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:p,_context:V},V.Consumer=V},tt.createElement=Le,tt.createFactory=function(V){var re=Le.bind(null,V);return re.type=V,re},tt.createRef=function(){return{current:null}},tt.forwardRef=function(V){return{$$typeof:O,render:V}},tt.isValidElement=gt,tt.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:Ze}},tt.memo=function(V,re){return{$$typeof:C,type:V,compare:re===void 0?null:re}},tt.startTransition=function(V){var re=xe.transition;xe.transition={};try{V()}finally{xe.transition=re}},tt.unstable_act=we,tt.useCallback=function(V,re){return Ce.current.useCallback(V,re)},tt.useContext=function(V){return Ce.current.useContext(V)},tt.useDebugValue=function(){},tt.useDeferredValue=function(V){return Ce.current.useDeferredValue(V)},tt.useEffect=function(V,re){return Ce.current.useEffect(V,re)},tt.useId=function(){return Ce.current.useId()},tt.useImperativeHandle=function(V,re,He){return Ce.current.useImperativeHandle(V,re,He)},tt.useInsertionEffect=function(V,re){return Ce.current.useInsertionEffect(V,re)},tt.useLayoutEffect=function(V,re){return Ce.current.useLayoutEffect(V,re)},tt.useMemo=function(V,re){return Ce.current.useMemo(V,re)},tt.useReducer=function(V,re,He){return Ce.current.useReducer(V,re,He)},tt.useRef=function(V){return Ce.current.useRef(V)},tt.useState=function(V){return Ce.current.useState(V)},tt.useSyncExternalStore=function(V,re,He){return Ce.current.useSyncExternalStore(V,re,He)},tt.useTransition=function(){return Ce.current.useTransition()},tt.version="18.3.1",tt}var C0;function wc(){return C0||(C0=1,Xu.exports=Gd()),Xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function Yd(){if(E0)return Go;E0=1;var u=wc(),d=Symbol.for("react.element"),c=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,w=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function I(O,v,C){var b,_={},B=null,W=null;C!==void 0&&(B=""+C),v.key!==void 0&&(B=""+v.key),v.ref!==void 0&&(W=v.ref);for(b in v)m.call(v,b)&&!p.hasOwnProperty(b)&&(_[b]=v[b]);if(O&&O.defaultProps)for(b in v=O.defaultProps,v)_[b]===void 0&&(_[b]=v[b]);return{$$typeof:d,type:O,key:B,ref:W,props:_,_owner:w.current}}return Go.Fragment=c,Go.jsx=I,Go.jsxs=I,Go}var A0;function Xd(){return A0||(A0=1,Yu.exports=Yd()),Yu.exports}var S=Xd(),z=wc();const en=yc(z);var ul={},Qu={exports:{}},Gn={},Zu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function Qd(){return v0||(v0=1,function(u){function d(xe,Ne){var we=xe.length;xe.push(Ne);e:for(;0<we;){var V=we-1>>>1,re=xe[V];if(0<w(re,Ne))xe[V]=Ne,xe[we]=re,we=V;else break e}}function c(xe){return xe.length===0?null:xe[0]}function m(xe){if(xe.length===0)return null;var Ne=xe[0],we=xe.pop();if(we!==Ne){xe[0]=we;e:for(var V=0,re=xe.length,He=re>>>1;V<He;){var Be=2*(V+1)-1,st=xe[Be],me=Be+1,pt=xe[me];if(0>w(st,we))me<re&&0>w(pt,st)?(xe[V]=pt,xe[me]=we,V=me):(xe[V]=st,xe[Be]=we,V=Be);else if(me<re&&0>w(pt,we))xe[V]=pt,xe[me]=we,V=me;else break e}}return Ne}function w(xe,Ne){var we=xe.sortIndex-Ne.sortIndex;return we!==0?we:xe.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;u.unstable_now=function(){return p.now()}}else{var I=Date,O=I.now();u.unstable_now=function(){return I.now()-O}}var v=[],C=[],b=1,_=null,B=3,W=!1,K=!1,X=!1,Q=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(xe){for(var Ne=c(C);Ne!==null;){if(Ne.callback===null)m(C);else if(Ne.startTime<=xe)m(C),Ne.sortIndex=Ne.expirationTime,d(v,Ne);else break;Ne=c(C)}}function pe(xe){if(X=!1,te(xe),!K)if(c(v)!==null)K=!0,Ze(ze);else{var Ne=c(C);Ne!==null&&Ce(pe,Ne.startTime-xe)}}function ze(xe,Ne){K=!1,X&&(X=!1,ne(Le),Le=-1),W=!0;var we=B;try{for(te(Ne),_=c(v);_!==null&&(!(_.expirationTime>Ne)||xe&&!$e());){var V=_.callback;if(typeof V=="function"){_.callback=null,B=_.priorityLevel;var re=V(_.expirationTime<=Ne);Ne=u.unstable_now(),typeof re=="function"?_.callback=re:_===c(v)&&m(v),te(Ne)}else m(v);_=c(v)}if(_!==null)var He=!0;else{var Be=c(C);Be!==null&&Ce(pe,Be.startTime-Ne),He=!1}return He}finally{_=null,B=we,W=!1}}var De=!1,oe=null,Le=-1,ie=5,gt=-1;function $e(){return!(u.unstable_now()-gt<ie)}function Me(){if(oe!==null){var xe=u.unstable_now();gt=xe;var Ne=!0;try{Ne=oe(!0,xe)}finally{Ne?We():(De=!1,oe=null)}}else De=!1}var We;if(typeof he=="function")We=function(){he(Me)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,q=_e.port2;_e.port1.onmessage=Me,We=function(){q.postMessage(null)}}else We=function(){Q(Me,0)};function Ze(xe){oe=xe,De||(De=!0,We())}function Ce(xe,Ne){Le=Q(function(){xe(u.unstable_now())},Ne)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(xe){xe.callback=null},u.unstable_continueExecution=function(){K||W||(K=!0,Ze(ze))},u.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<xe?Math.floor(1e3/xe):5},u.unstable_getCurrentPriorityLevel=function(){return B},u.unstable_getFirstCallbackNode=function(){return c(v)},u.unstable_next=function(xe){switch(B){case 1:case 2:case 3:var Ne=3;break;default:Ne=B}var we=B;B=Ne;try{return xe()}finally{B=we}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(xe,Ne){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var we=B;B=xe;try{return Ne()}finally{B=we}},u.unstable_scheduleCallback=function(xe,Ne,we){var V=u.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?V+we:V):we=V,xe){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=we+re,xe={id:b++,callback:Ne,priorityLevel:xe,startTime:we,expirationTime:re,sortIndex:-1},we>V?(xe.sortIndex=we,d(C,xe),c(v)===null&&xe===c(C)&&(X?(ne(Le),Le=-1):X=!0,Ce(pe,we-V))):(xe.sortIndex=re,d(v,xe),K||W||(K=!0,Ze(ze))),xe},u.unstable_shouldYield=$e,u.unstable_wrapCallback=function(xe){var Ne=B;return function(){var we=B;B=Ne;try{return xe.apply(this,arguments)}finally{B=we}}}}(Ku)),Ku}var S0;function Zd(){return S0||(S0=1,Zu.exports=Qd()),Zu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function Kd(){if(I0)return Gn;I0=1;var u=wc(),d=Zd();function c(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=new Set,w={};function p(t,i){I(t,i),I(t+"Capture",i)}function I(t,i){for(w[t]=i,t=0;t<i.length;t++)m.add(i[t])}var O=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},_={};function B(t){return v.call(_,t)?!0:v.call(b,t)?!1:C.test(t)?_[t]=!0:(b[t]=!0,!1)}function W(t,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K(t,i,l,h){if(i===null||typeof i>"u"||W(t,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function X(t,i,l,h,y,E,M){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=E,this.removeEmptyString=M}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Q[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];Q[i]=new X(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Q[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Q[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Q[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Q[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Q[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Q[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Q[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function he(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(ne,he);Q[i]=new X(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(ne,he);Q[i]=new X(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(ne,he);Q[i]=new X(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Q[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Q[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function te(t,i,l,h){var y=Q.hasOwnProperty(i)?Q[i]:null;(y!==null?y.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(K(i,l,y,h)&&(l=null),h||y===null?B(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):y.mustUseProperty?t[y.propertyName]=l===null?y.type===3?!1:"":l:(i=y.attributeName,h=y.attributeNamespace,l===null?t.removeAttribute(i):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,h?t.setAttributeNS(h,i,l):t.setAttribute(i,l))))}var pe=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ze=Symbol.for("react.element"),De=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),gt=Symbol.for("react.provider"),$e=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),xe=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,V;function re(t){if(V===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+t}var He=!1;function Be(t,i){if(!t||He)return"";He=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var h=ee}Reflect.construct(t,[],i)}else{try{i.call()}catch(ee){h=ee}t.call(i.prototype)}else{try{throw Error()}catch(ee){h=ee}t()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),E=h.stack.split(`
`),M=y.length-1,L=E.length-1;1<=M&&0<=L&&y[M]!==E[L];)L--;for(;1<=M&&0<=L;M--,L--)if(y[M]!==E[L]){if(M!==1||L!==1)do if(M--,L--,0>L||y[M]!==E[L]){var F=`
`+y[M].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=M&&0<=L);break}}}finally{He=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?re(t):""}function st(t){switch(t.tag){case 5:return re(t.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return t=Be(t.type,!1),t;case 11:return t=Be(t.type.render,!1),t;case 1:return t=Be(t.type,!0),t;default:return""}}function me(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case De:return"Portal";case ie:return"Profiler";case Le:return"StrictMode";case We:return"Suspense";case _e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $e:return(t.displayName||"Context")+".Consumer";case gt:return(t._context.displayName||"Context")+".Provider";case Me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return i=t.displayName||null,i!==null?i:me(t.type)||"Memo";case Ze:i=t._payload,t=t._init;try{return me(t(i))}catch{}}return null}function pt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===Le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tn(t){var i=xt(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),h=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,E=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return y.call(this)},set:function(M){h=""+M,E.call(this,M)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function nn(t){t._valueTracker||(t._valueTracker=tn(t))}function Yi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return t&&(h=xt(t)?t.checked?"true":"false":t.value),t=h,t!==l?(i.setValue(t),!0):!1}function ot(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rr(t,i){var l=i.checked;return we({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Xn(t,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Ve(i.value!=null?i.value:l),t._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function hi(t,i){i=i.checked,i!=null&&te(t,"checked",i,!1)}function Yt(t,i){hi(t,i);var l=Ve(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(h==="submit"||h==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?nt(t,i.type,l):i.hasOwnProperty("defaultValue")&&nt(t,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Ct(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function nt(t,i,l){(i!=="number"||ot(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Or=Array.isArray;function ve(t,i,l,h){if(t=t.options,i){i={};for(var y=0;y<l.length;y++)i["$"+l[y]]=!0;for(l=0;l<t.length;l++)y=i.hasOwnProperty("$"+t[l].value),t[l].selected!==y&&(t[l].selected=y),y&&h&&(t[l].defaultSelected=!0)}else{for(l=""+Ve(l),i=null,y=0;y<t.length;y++){if(t[y].value===l){t[y].selected=!0,h&&(t[y].defaultSelected=!0);return}i!==null||t[y].disabled||(i=t[y])}i!==null&&(i.selected=!0)}}function gi(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(c(91));return we({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ro(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(c(92));if(Or(l)){if(1<l.length)throw Error(c(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Ve(l)}}function ur(t,i){var l=Ve(i.value),h=Ve(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),h!=null&&(t.defaultValue=""+h)}function As(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Bn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vs(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Bn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,fn=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,y){MSApp.execUnsafeLocalFunction(function(){return t(i,l,h,y)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function pi(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Il=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(t){Il.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Dr[i]=Dr[t]})});function Bt(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Dr.hasOwnProperty(t)&&Dr[t]?(""+i).trim():i+"px"}function ye(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,y=Bt(l,i[l],h);l==="float"&&(l="cssFloat"),h?t.setProperty(l,y):t[l]=y}}var Xt=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(t,i){if(i){if(Xt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(c(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(c(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(c(61))}if(i.style!=null&&typeof i.style!="object")throw Error(c(62))}}function Nt(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Xi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,et=null,Pn=null;function io(t){if(t=_o(t)){if(typeof Ss!="function")throw Error(c(280));var i=t.stateNode;i&&(i=va(i),Ss(t.stateNode,t.type,i))}}function so(t){et?Pn?Pn.push(t):Pn=[t]:et=t}function Fn(){if(et){var t=et,i=Pn;if(Pn=et=null,io(t),i)for(t=0;t<i.length;t++)io(i[t])}}function Is(t,i){return t(i)}function rn(){}var kr=!1;function Qi(t,i,l){if(kr)return t(i,l);kr=!0;try{return Is(t,i,l)}finally{kr=!1,(et!==null||Pn!==null)&&(rn(),Fn())}}function Sn(t,i){var l=t.stateNode;if(l===null)return null;var h=va(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(t=t.type,h=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!h;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(c(231,i,typeof l));return l}var oo=!1;if(O)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{oo=!1}function ao(t,i,l,h,y,E,M,L,F){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(l,ee)}catch(ue){this.onError(ue)}}var $t=!1,cr=null,mn=!1,Ee=null,xi={onError:function(t){$t=!0,cr=t}};function lo(t,i,l,h,y,E,M,L,F){$t=!1,cr=null,ao.apply(xi,arguments)}function In(t,i,l,h,y,E,M,L,F){if(lo.apply(this,arguments),$t){if($t){var ee=cr;$t=!1,cr=null}else throw Error(c(198));mn||(mn=!0,Ee=ee)}}function jn(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function Zi(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Ki(t){if(jn(t)!==t)throw Error(c(188))}function fr(t){var i=t.alternate;if(!i){if(i=jn(t),i===null)throw Error(c(188));return i!==t?null:t}for(var l=t,h=i;;){var y=l.return;if(y===null)break;var E=y.alternate;if(E===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===l)return Ki(y),t;if(E===h)return Ki(y),i;E=E.sibling}throw Error(c(188))}if(l.return!==h.return)l=y,h=E;else{for(var M=!1,L=y.child;L;){if(L===l){M=!0,l=y,h=E;break}if(L===h){M=!0,h=y,l=E;break}L=L.sibling}if(!M){for(L=E.child;L;){if(L===l){M=!0,l=E,h=y;break}if(L===h){M=!0,h=E,l=y;break}L=L.sibling}if(!M)throw Error(c(189))}}if(l.alternate!==h)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?t:i}function na(t){return t=fr(t),t!==null?ra(t):null}function ra(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=ra(t);if(i!==null)return i;t=t.sibling}return null}var Kn=d.unstable_scheduleCallback,dn=d.unstable_cancelCallback,Tt=d.unstable_shouldYield,ia=d.unstable_requestPaint,mt=d.unstable_now,uo=d.unstable_getCurrentPriorityLevel,se=d.unstable_ImmediatePriority,sa=d.unstable_UserBlockingPriority,St=d.unstable_NormalPriority,mi=d.unstable_LowPriority,oa=d.unstable_IdlePriority,lt=null,Ke=null;function rt(t){if(Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(lt,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Qt,co=Math.log,fo=Math.LN2;function Qt(t){return t>>>=0,t===0?32:31-(co(t)/fo|0)|0}var qn=64,Ns=4194304;function It(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $n(t,i){var l=t.pendingLanes;if(l===0)return 0;var h=0,y=t.suspendedLanes,E=t.pingedLanes,M=l&268435455;if(M!==0){var L=M&~y;L!==0?h=It(L):(E&=M,E!==0&&(h=It(E)))}else M=l&~y,M!==0?h=It(M):E!==0&&(h=It(E));if(h===0)return 0;if(i!==0&&i!==h&&(i&y)===0&&(y=h&-h,E=i&-i,y>=E||y===16&&(E&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=h;0<i;)l=31-On(i),y=1<<l,h|=t[l],i&=~y;return h}function Nl(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(t,i){for(var l=t.suspendedLanes,h=t.pingedLanes,y=t.expirationTimes,E=t.pendingLanes;0<E;){var M=31-On(E),L=1<<M,F=y[M];F===-1?((L&l)===0||(L&h)!==0)&&(y[M]=Nl(L,i)):F<=i&&(t.expiredLanes|=L),E&=~L}}function yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sn(){var t=qn;return qn<<=1,(qn&4194240)===0&&(qn=64),t}function G(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function D(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-On(i),t[i]=l}function Oe(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var h=t.eventTimes;for(t=t.expirationTimes;0<l;){var y=31-On(l),E=1<<y;i[y]=0,h[y]=-1,t[y]=-1,l&=~E}}function zt(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var h=31-On(l),y=1<<h;y&i|t[h]&i&&(t[h]|=i),l&=~y}}var qe=0;function aa(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ts,Nn,ke,bt,ho,go=!1,wi=[],Jn=null,dr=null,Lr=null,kt=new Map,Er=new Map,yn=[],Ue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function la(t,i){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":kt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(i.pointerId)}}function Ye(t,i,l,h,y,E){return t===null||t.nativeEvent!==E?(t={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:E,targetContainers:[y]},i!==null&&(i=_o(i),i!==null&&Nn(i)),t):(t.eventSystemFlags|=h,i=t.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),t)}function on(t,i,l,h,y){switch(i){case"focusin":return Jn=Ye(Jn,t,i,l,h,y),!0;case"dragenter":return dr=Ye(dr,t,i,l,h,y),!0;case"mouseover":return Lr=Ye(Lr,t,i,l,h,y),!0;case"pointerover":var E=y.pointerId;return kt.set(E,Ye(kt.get(E)||null,t,i,l,h,y)),!0;case"gotpointercapture":return E=y.pointerId,Er.set(E,Ye(Er.get(E)||null,t,i,l,h,y)),!0}return!1}function ua(t){var i=os(t.target);if(i!==null){var l=jn(i);if(l!==null){if(i=l.tag,i===13){if(i=Zi(l),i!==null){t.blockedOn=i,ho(t.priority,function(){ke(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ci(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=bs(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var h=new l.constructor(l.type,l);Yr=h,l.target.dispatchEvent(h),Yr=null}else return i=_o(l),i!==null&&Nn(i),t.blockedOn=l,!1;i.shift()}return!0}function po(t,i,l){Ci(t)&&l.delete(i)}function Xr(){go=!1,Jn!==null&&Ci(Jn)&&(Jn=null),dr!==null&&Ci(dr)&&(dr=null),Lr!==null&&Ci(Lr)&&(Lr=null),kt.forEach(po),Er.forEach(po)}function qi(t,i){t.blockedOn===i&&(t.blockedOn=null,go||(go=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Xr)))}function Ar(t){function i(y){return qi(y,t)}if(0<wi.length){qi(wi[0],t);for(var l=1;l<wi.length;l++){var h=wi[l];h.blockedOn===t&&(h.blockedOn=null)}}for(Jn!==null&&qi(Jn,t),dr!==null&&qi(dr,t),Lr!==null&&qi(Lr,t),kt.forEach(i),Er.forEach(i),l=0;l<yn.length;l++)h=yn[l],h.blockedOn===t&&(h.blockedOn=null);for(;0<yn.length&&(l=yn[0],l.blockedOn===null);)ua(l),l.blockedOn===null&&yn.shift()}var hr=pe.ReactCurrentBatchConfig,Br=!0;function ca(t,i,l,h){var y=qe,E=hr.transition;hr.transition=null;try{qe=1,Qr(t,i,l,h)}finally{qe=y,hr.transition=E}}function $i(t,i,l,h){var y=qe,E=hr.transition;hr.transition=null;try{qe=4,Qr(t,i,l,h)}finally{qe=y,hr.transition=E}}function Qr(t,i,l,h){if(Br){var y=bs(t,i,l,h);if(y===null)Bl(t,i,h,an,l),la(t,h);else if(on(y,t,i,l,h))h.stopPropagation();else if(la(t,h),i&4&&-1<Ue.indexOf(t)){for(;y!==null;){var E=_o(y);if(E!==null&&Ts(E),E=bs(t,i,l,h),E===null&&Bl(t,i,h,an,l),E===y)break;y=E}y!==null&&h.stopPropagation()}else Bl(t,i,h,null,l)}}var an=null;function bs(t,i,l,h){if(an=null,t=Xi(h),t=os(t),t!==null)if(i=jn(t),i===null)t=null;else if(l=i.tag,l===13){if(t=Zi(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return an=t,null}function xo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uo()){case se:return 1;case sa:return 4;case St:case mi:return 16;case oa:return 536870912;default:return 16}default:return 16}}var vr=null,mo=null,Ms=null;function fa(){if(Ms)return Ms;var t,i=mo,l=i.length,h,y="value"in vr?vr.value:vr.textContent,E=y.length;for(t=0;t<l&&i[t]===y[t];t++);var M=l-t;for(h=1;h<=M&&i[l-h]===y[E-h];h++);return Ms=y.slice(t,1<h?1-h:void 0)}function ut(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function es(){return!1}function Ht(t){function i(l,h,y,E,M){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(l=t[L],this[L]=l?l(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ji:es,this.isPropagationStopped=es,this}return we(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J=Ht(Ei),Qe=we({},Ei,{view:0,detail:0}),ln=Ht(Qe),Ai,_s,ts,Rs=we({},Qe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ts&&(ts&&t.type==="mousemove"?(Ai=t.screenX-ts.screenX,_s=t.screenY-ts.screenY):_s=Ai=0,ts=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:_s}}),da=Ht(Rs),yo=we({},Rs,{dataTransfer:0}),Zt=Ht(yo),wo=we({},Qe,{relatedTarget:0}),Mt=Ht(wo),Os=we({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=Ht(Os),Et=we({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pe=Ht(Et),Tl=we({},Ei,{data:0}),vt=Ht(Tl),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=bl[t])?!!i[t]:!1}function ns(){return gr}var ha=we({},Qe,{key:function(t){if(t.key){var i=Kr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ut(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(t){return t.type==="keypress"?ut(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ut(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Co=Ht(ha),ga=we({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=Ht(ga),Ml=we({},Qe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Si=Ht(Ml),Ao=we({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),_l=Ht(Ao),rs=we({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rl=Ht(rs),Pr=[9,13,27,32],Ii=O&&"CompositionEvent"in window,hn=null;O&&"documentMode"in document&&(hn=document.documentMode);var pa=O&&"TextEvent"in window&&!hn,er=O&&(!Ii||hn&&8<hn&&11>=hn),xa=" ",Ds=!1;function ma(t,i){switch(t){case"keyup":return Pr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wn=!1;function Ol(t,i){switch(t){case"compositionend":return vo(i);case"keypress":return i.which!==32?null:(Ds=!0,xa);case"textInput":return t=i.data,t===xa&&Ds?null:t;default:return null}}function So(t,i){if(wn)return t==="compositionend"||!Ii&&ma(t,i)?(t=fa(),Ms=mo=vr=null,wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return er&&i.locale!=="ko"?null:i.data;default:return null}}var is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function at(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!is[t.type]:i==="textarea"}function ss(t,i,l,h){so(h),i=Ca(i,"onChange"),0<i.length&&(l=new J("onChange","change",null,l,h),t.push({event:l,listeners:i}))}var N=null,e=null;function n(t){Lc(t,0)}function r(t){var i=Bs(t);if(Yi(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(O){var a;if(O){var f="oninput"in document;if(!f){var g=document.createElement("div");g.setAttribute("oninput","return;"),f=typeof g.oninput=="function"}a=f}else a=!1;o=a&&(!document.documentMode||9<document.documentMode)}function x(){N&&(N.detachEvent("onpropertychange",A),e=N=null)}function A(t){if(t.propertyName==="value"&&r(e)){var i=[];ss(i,e,t,Xi(t)),Qi(n,i)}}function T(t,i,l){t==="focusin"?(x(),N=i,e=l,N.attachEvent("onpropertychange",A)):t==="focusout"&&x()}function R(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function k(t,i){if(t==="click")return r(i)}function P(t,i){if(t==="input"||t==="change")return r(i)}function j(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var H=typeof Object.is=="function"?Object.is:j;function $(t,i){if(H(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!v.call(i,y)||!H(t[y],i[y]))return!1}return!0}function fe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function de(t,i){var l=fe(t);t=0;for(var h;l;){if(l.nodeType===3){if(h=t+l.textContent.length,t<=i&&h>=i)return{node:l,offset:i-t};t=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fe(l)}}function le(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?le(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Je(){for(var t=window,i=ot();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=ot(t.document)}return i}function Xe(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Tn(t){var i=Je(),l=t.focusedElem,h=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&le(l.ownerDocument.documentElement,l)){if(h!==null&&Xe(l)){if(i=h.start,t=h.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var y=l.textContent.length,E=Math.min(h.start,y);h=h.end===void 0?E:Math.min(h.end,y),!t.extend&&E>h&&(y=h,h=E,E=y),y=de(l,E);var M=de(l,h);y&&M&&(t.rangeCount!==1||t.anchorNode!==y.node||t.anchorOffset!==y.offset||t.focusNode!==M.node||t.focusOffset!==M.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),t.removeAllRanges(),E>h?(t.addRange(i),t.extend(M.node,M.offset)):(i.setEnd(M.node,M.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tr=O&&"documentMode"in document&&11>=document.documentMode,Kt=null,ht=null,Pt=null,Cn=!1;function qr(t,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cn||Kt==null||Kt!==ot(h)||(h=Kt,"selectionStart"in h&&Xe(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pt&&$(Pt,h)||(Pt=h,h=Ca(ht,"onSelect"),0<h.length&&(i=new J("onSelect","select",null,i,l),t.push({event:i,listeners:h}),i.target=Kt)))}function Sr(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var Ni={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Io={},Tc={};O&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function ya(t){if(Io[t])return Io[t];if(!Ni[t])return t;var i=Ni[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in Tc)return Io[t]=i[l];return t}var bc=ya("animationend"),Mc=ya("animationiteration"),_c=ya("animationstart"),Rc=ya("transitionend"),Oc=new Map,Dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,i){Oc.set(t,i),p(i,[t])}for(var Dl=0;Dl<Dc.length;Dl++){var kl=Dc[Dl],Jf=kl.toLowerCase(),ed=kl[0].toUpperCase()+kl.slice(1);Ti(Jf,"on"+ed)}Ti(bc,"onAnimationEnd"),Ti(Mc,"onAnimationIteration"),Ti(_c,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Rc,"onTransitionEnd"),I("onMouseEnter",["mouseout","mouseover"]),I("onMouseLeave",["mouseout","mouseover"]),I("onPointerEnter",["pointerout","pointerover"]),I("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),td=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function kc(t,i,l){var h=t.type||"unknown-event";t.currentTarget=l,In(h,i,void 0,t),t.currentTarget=null}function Lc(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var h=t[l],y=h.event;h=h.listeners;e:{var E=void 0;if(i)for(var M=h.length-1;0<=M;M--){var L=h[M],F=L.instance,ee=L.currentTarget;if(L=L.listener,F!==E&&y.isPropagationStopped())break e;kc(y,L,ee),E=F}else for(M=0;M<h.length;M++){if(L=h[M],F=L.instance,ee=L.currentTarget,L=L.listener,F!==E&&y.isPropagationStopped())break e;kc(y,L,ee),E=F}}}if(mn)throw t=Ee,mn=!1,Ee=null,t}function Rt(t,i){var l=i[Hl];l===void 0&&(l=i[Hl]=new Set);var h=t+"__bubble";l.has(h)||(Bc(i,t,2,!1),l.add(h))}function Ll(t,i,l){var h=0;i&&(h|=4),Bc(l,t,h,i)}var wa="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[wa]){t[wa]=!0,m.forEach(function(l){l!=="selectionchange"&&(td.has(l)||Ll(l,!1,t),Ll(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wa]||(i[wa]=!0,Ll("selectionchange",!1,i))}}function Bc(t,i,l,h){switch(xo(i)){case 1:var y=ca;break;case 4:y=$i;break;default:y=Qr}l=y.bind(null,i,l,t),y=void 0,!oo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?t.addEventListener(i,l,{capture:!0,passive:y}):t.addEventListener(i,l,!0):y!==void 0?t.addEventListener(i,l,{passive:y}):t.addEventListener(i,l,!1)}function Bl(t,i,l,h,y){var E=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var M=h.tag;if(M===3||M===4){var L=h.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(M===4)for(M=h.return;M!==null;){var F=M.tag;if((F===3||F===4)&&(F=M.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;M=M.return}for(;L!==null;){if(M=os(L),M===null)return;if(F=M.tag,F===5||F===6){h=E=M;continue e}L=L.parentNode}}h=h.return}Qi(function(){var ee=E,ue=Xi(l),ce=[];e:{var ae=Oc.get(t);if(ae!==void 0){var Ae=J,Te=t;switch(t){case"keypress":if(ut(l)===0)break e;case"keydown":case"keyup":Ae=Co;break;case"focusin":Te="focus",Ae=Mt;break;case"focusout":Te="blur",Ae=Mt;break;case"beforeblur":case"afterblur":Ae=Mt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Si;break;case bc:case Mc:case _c:Ae=Zr;break;case Rc:Ae=_l;break;case"scroll":Ae=ln;break;case"wheel":Ae=Rl;break;case"copy":case"cut":case"paste":Ae=Pe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Eo}var be=(i&4)!==0,qt=!be&&t==="scroll",Y=be?ae!==null?ae+"Capture":null:ae;be=[];for(var U=ee,Z;U!==null;){Z=U;var ge=Z.stateNode;if(Z.tag===5&&ge!==null&&(Z=ge,Y!==null&&(ge=Sn(U,Y),ge!=null&&be.push(bo(U,ge,Z)))),qt)break;U=U.return}0<be.length&&(ae=new Ae(ae,Te,null,l,ue),ce.push({event:ae,listeners:be}))}}if((i&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",Ae=t==="mouseout"||t==="pointerout",ae&&l!==Yr&&(Te=l.relatedTarget||l.fromElement)&&(os(Te)||Te[$r]))break e;if((Ae||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ae?(Te=l.relatedTarget||l.toElement,Ae=ee,Te=Te?os(Te):null,Te!==null&&(qt=jn(Te),Te!==qt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ae=null,Te=ee),Ae!==Te)){if(be=da,ge="onMouseLeave",Y="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(be=Eo,ge="onPointerLeave",Y="onPointerEnter",U="pointer"),qt=Ae==null?ae:Bs(Ae),Z=Te==null?ae:Bs(Te),ae=new be(ge,U+"leave",Ae,l,ue),ae.target=qt,ae.relatedTarget=Z,ge=null,os(ue)===ee&&(be=new be(Y,U+"enter",Te,l,ue),be.target=Z,be.relatedTarget=qt,ge=be),qt=ge,Ae&&Te)t:{for(be=Ae,Y=Te,U=0,Z=be;Z;Z=ks(Z))U++;for(Z=0,ge=Y;ge;ge=ks(ge))Z++;for(;0<U-Z;)be=ks(be),U--;for(;0<Z-U;)Y=ks(Y),Z--;for(;U--;){if(be===Y||Y!==null&&be===Y.alternate)break t;be=ks(be),Y=ks(Y)}be=null}else be=null;Ae!==null&&Pc(ce,ae,Ae,be,!1),Te!==null&&qt!==null&&Pc(ce,qt,Te,be,!0)}}e:{if(ae=ee?Bs(ee):window,Ae=ae.nodeName&&ae.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ae.type==="file")var Re=s;else if(at(ae))if(o)Re=P;else{Re=R;var Fe=T}else(Ae=ae.nodeName)&&Ae.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Re=k);if(Re&&(Re=Re(t,ee))){ss(ce,Re,l,ue);break e}Fe&&Fe(t,ae,ee),t==="focusout"&&(Fe=ae._wrapperState)&&Fe.controlled&&ae.type==="number"&&nt(ae,"number",ae.value)}switch(Fe=ee?Bs(ee):window,t){case"focusin":(at(Fe)||Fe.contentEditable==="true")&&(Kt=Fe,ht=ee,Pt=null);break;case"focusout":Pt=ht=Kt=null;break;case"mousedown":Cn=!0;break;case"contextmenu":case"mouseup":case"dragend":Cn=!1,qr(ce,l,ue);break;case"selectionchange":if(tr)break;case"keydown":case"keyup":qr(ce,l,ue)}var je;if(Ii)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else wn?ma(t,l)&&(Ge="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(er&&l.locale!=="ko"&&(wn||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&wn&&(je=fa()):(vr=ue,mo="value"in vr?vr.value:vr.textContent,wn=!0)),Fe=Ca(ee,Ge),0<Fe.length&&(Ge=new vt(Ge,t,null,l,ue),ce.push({event:Ge,listeners:Fe}),je?Ge.data=je:(je=vo(l),je!==null&&(Ge.data=je)))),(je=pa?Ol(t,l):So(t,l))&&(ee=Ca(ee,"onBeforeInput"),0<ee.length&&(ue=new vt("onBeforeInput","beforeinput",null,l,ue),ce.push({event:ue,listeners:ee}),ue.data=je))}Lc(ce,i)})}function bo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Ca(t,i){for(var l=i+"Capture",h=[];t!==null;){var y=t,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Sn(t,l),E!=null&&h.unshift(bo(t,E,y)),E=Sn(t,i),E!=null&&h.push(bo(t,E,y))),t=t.return}return h}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pc(t,i,l,h,y){for(var E=i._reactName,M=[];l!==null&&l!==h;){var L=l,F=L.alternate,ee=L.stateNode;if(F!==null&&F===h)break;L.tag===5&&ee!==null&&(L=ee,y?(F=Sn(l,E),F!=null&&M.unshift(bo(l,F,L))):y||(F=Sn(l,E),F!=null&&M.push(bo(l,F,L)))),l=l.return}M.length!==0&&t.push({event:i,listeners:M})}var nd=/\r\n?/g,rd=/\u0000|\uFFFD/g;function Fc(t){return(typeof t=="string"?t:""+t).replace(nd,`
`).replace(rd,"")}function Ea(t,i,l){if(i=Fc(i),Fc(t)!==i&&l)throw Error(c(425))}function Aa(){}var Pl=null,Fl=null;function jl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,id=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,sd=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(t){return jc.resolve(null).then(t).catch(od)}:Ul;function od(t){setTimeout(function(){throw t})}function zl(t,i){var l=i,h=0;do{var y=l.nextSibling;if(t.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(h===0){t.removeChild(y),Ar(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=y}while(l);Ar(i)}function bi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Uc(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ls,Mo="__reactProps$"+Ls,$r="__reactContainer$"+Ls,Hl="__reactEvents$"+Ls,ad="__reactListeners$"+Ls,ld="__reactHandles$"+Ls;function os(t){var i=t[Fr];if(i)return i;for(var l=t.parentNode;l;){if(i=l[$r]||l[Fr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Uc(t);t!==null;){if(l=t[Fr])return l;t=Uc(t)}return i}t=l,l=t.parentNode}return null}function _o(t){return t=t[Fr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(c(33))}function va(t){return t[Mo]||null}var Vl=[],Ps=-1;function Mi(t){return{current:t}}function Ot(t){0>Ps||(t.current=Vl[Ps],Vl[Ps]=null,Ps--)}function _t(t,i){Ps++,Vl[Ps]=t.current,t.current=i}var _i={},bn=Mi(_i),Un=Mi(!1),as=_i;function Fs(t,i){var l=t.type.contextTypes;if(!l)return _i;var h=t.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in l)y[E]=i[E];return h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=y),y}function zn(t){return t=t.childContextTypes,t!=null}function Sa(){Ot(Un),Ot(bn)}function zc(t,i,l){if(bn.current!==_i)throw Error(c(168));_t(bn,i),_t(Un,l)}function Hc(t,i,l){var h=t.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var y in h)if(!(y in i))throw Error(c(108,pt(t)||"Unknown",y));return we({},l,h)}function Ia(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_i,as=bn.current,_t(bn,t),_t(Un,Un.current),!0}function Vc(t,i,l){var h=t.stateNode;if(!h)throw Error(c(169));l?(t=Hc(t,i,as),h.__reactInternalMemoizedMergedChildContext=t,Ot(Un),Ot(bn),_t(bn,t)):Ot(Un),_t(Un,l)}var Jr=null,Na=!1,Wl=!1;function Wc(t){Jr===null?Jr=[t]:Jr.push(t)}function ud(t){Na=!0,Wc(t)}function Ri(){if(!Wl&&Jr!==null){Wl=!0;var t=0,i=qe;try{var l=Jr;for(qe=1;t<l.length;t++){var h=l[t];do h=h(!0);while(h!==null)}Jr=null,Na=!1}catch(y){throw Jr!==null&&(Jr=Jr.slice(t+1)),Kn(se,Ri),y}finally{qe=i,Wl=!1}}return null}var js=[],Us=0,Ta=null,ba=0,pr=[],xr=0,ls=null,ei=1,ti="";function us(t,i){js[Us++]=ba,js[Us++]=Ta,Ta=t,ba=i}function Gc(t,i,l){pr[xr++]=ei,pr[xr++]=ti,pr[xr++]=ls,ls=t;var h=ei;t=ti;var y=32-On(h)-1;h&=~(1<<y),l+=1;var E=32-On(i)+y;if(30<E){var M=y-y%5;E=(h&(1<<M)-1).toString(32),h>>=M,y-=M,ei=1<<32-On(i)+y|l<<y|h,ti=E+t}else ei=1<<E|l<<y|h,ti=t}function Gl(t){t.return!==null&&(us(t,1),Gc(t,1,0))}function Yl(t){for(;t===Ta;)Ta=js[--Us],js[Us]=null,ba=js[--Us],js[Us]=null;for(;t===ls;)ls=pr[--xr],pr[xr]=null,ti=pr[--xr],pr[xr]=null,ei=pr[--xr],pr[xr]=null}var nr=null,rr=null,Lt=!1,Ir=null;function Yc(t,i){var l=Cr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function Xc(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,nr=t,rr=bi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,nr=t,rr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ls!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Cr(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,nr=t,rr=null,!0):!1;default:return!1}}function Xl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ql(t){if(Lt){var i=rr;if(i){var l=i;if(!Xc(t,i)){if(Xl(t))throw Error(c(418));i=bi(l.nextSibling);var h=nr;i&&Xc(t,i)?Yc(h,l):(t.flags=t.flags&-4097|2,Lt=!1,nr=t)}}else{if(Xl(t))throw Error(c(418));t.flags=t.flags&-4097|2,Lt=!1,nr=t}}}function Qc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function Ma(t){if(t!==nr)return!1;if(!Lt)return Qc(t),Lt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!jl(t.type,t.memoizedProps)),i&&(i=rr)){if(Xl(t))throw Zc(),Error(c(418));for(;i;)Yc(t,i),i=bi(i.nextSibling)}if(Qc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){rr=bi(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}rr=null}}else rr=nr?bi(t.stateNode.nextSibling):null;return!0}function Zc(){for(var t=rr;t;)t=bi(t.nextSibling)}function zs(){rr=nr=null,Lt=!1}function Zl(t){Ir===null?Ir=[t]:Ir.push(t)}var cd=pe.ReactCurrentBatchConfig;function Ro(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(c(309));var h=l.stateNode}if(!h)throw Error(c(147,t));var y=h,E=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(M){var L=y.refs;M===null?delete L[E]:L[E]=M},i._stringRef=E,i)}if(typeof t!="string")throw Error(c(284));if(!l._owner)throw Error(c(290,t))}return t}function _a(t,i){throw t=Object.prototype.toString.call(i),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Kc(t){var i=t._init;return i(t._payload)}function qc(t){function i(Y,U){if(t){var Z=Y.deletions;Z===null?(Y.deletions=[U],Y.flags|=16):Z.push(U)}}function l(Y,U){if(!t)return null;for(;U!==null;)i(Y,U),U=U.sibling;return null}function h(Y,U){for(Y=new Map;U!==null;)U.key!==null?Y.set(U.key,U):Y.set(U.index,U),U=U.sibling;return Y}function y(Y,U){return Y=ji(Y,U),Y.index=0,Y.sibling=null,Y}function E(Y,U,Z){return Y.index=Z,t?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<U?(Y.flags|=2,U):Z):(Y.flags|=2,U)):(Y.flags|=1048576,U)}function M(Y){return t&&Y.alternate===null&&(Y.flags|=2),Y}function L(Y,U,Z,ge){return U===null||U.tag!==6?(U=Uu(Z,Y.mode,ge),U.return=Y,U):(U=y(U,Z),U.return=Y,U)}function F(Y,U,Z,ge){var Re=Z.type;return Re===oe?ue(Y,U,Z.props.children,ge,Z.key):U!==null&&(U.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Ze&&Kc(Re)===U.type)?(ge=y(U,Z.props),ge.ref=Ro(Y,U,Z),ge.return=Y,ge):(ge=el(Z.type,Z.key,Z.props,null,Y.mode,ge),ge.ref=Ro(Y,U,Z),ge.return=Y,ge)}function ee(Y,U,Z,ge){return U===null||U.tag!==4||U.stateNode.containerInfo!==Z.containerInfo||U.stateNode.implementation!==Z.implementation?(U=zu(Z,Y.mode,ge),U.return=Y,U):(U=y(U,Z.children||[]),U.return=Y,U)}function ue(Y,U,Z,ge,Re){return U===null||U.tag!==7?(U=ms(Z,Y.mode,ge,Re),U.return=Y,U):(U=y(U,Z),U.return=Y,U)}function ce(Y,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Uu(""+U,Y.mode,Z),U.return=Y,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ze:return Z=el(U.type,U.key,U.props,null,Y.mode,Z),Z.ref=Ro(Y,null,U),Z.return=Y,Z;case De:return U=zu(U,Y.mode,Z),U.return=Y,U;case Ze:var ge=U._init;return ce(Y,ge(U._payload),Z)}if(Or(U)||Ne(U))return U=ms(U,Y.mode,Z,null),U.return=Y,U;_a(Y,U)}return null}function ae(Y,U,Z,ge){var Re=U!==null?U.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Re!==null?null:L(Y,U,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ze:return Z.key===Re?F(Y,U,Z,ge):null;case De:return Z.key===Re?ee(Y,U,Z,ge):null;case Ze:return Re=Z._init,ae(Y,U,Re(Z._payload),ge)}if(Or(Z)||Ne(Z))return Re!==null?null:ue(Y,U,Z,ge,null);_a(Y,Z)}return null}function Ae(Y,U,Z,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(Z)||null,L(U,Y,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case ze:return Y=Y.get(ge.key===null?Z:ge.key)||null,F(U,Y,ge,Re);case De:return Y=Y.get(ge.key===null?Z:ge.key)||null,ee(U,Y,ge,Re);case Ze:var Fe=ge._init;return Ae(Y,U,Z,Fe(ge._payload),Re)}if(Or(ge)||Ne(ge))return Y=Y.get(Z)||null,ue(U,Y,ge,Re,null);_a(U,ge)}return null}function Te(Y,U,Z,ge){for(var Re=null,Fe=null,je=U,Ge=U=0,xn=null;je!==null&&Ge<Z.length;Ge++){je.index>Ge?(xn=je,je=null):xn=je.sibling;var ft=ae(Y,je,Z[Ge],ge);if(ft===null){je===null&&(je=xn);break}t&&je&&ft.alternate===null&&i(Y,je),U=E(ft,U,Ge),Fe===null?Re=ft:Fe.sibling=ft,Fe=ft,je=xn}if(Ge===Z.length)return l(Y,je),Lt&&us(Y,Ge),Re;if(je===null){for(;Ge<Z.length;Ge++)je=ce(Y,Z[Ge],ge),je!==null&&(U=E(je,U,Ge),Fe===null?Re=je:Fe.sibling=je,Fe=je);return Lt&&us(Y,Ge),Re}for(je=h(Y,je);Ge<Z.length;Ge++)xn=Ae(je,Y,Ge,Z[Ge],ge),xn!==null&&(t&&xn.alternate!==null&&je.delete(xn.key===null?Ge:xn.key),U=E(xn,U,Ge),Fe===null?Re=xn:Fe.sibling=xn,Fe=xn);return t&&je.forEach(function(Ui){return i(Y,Ui)}),Lt&&us(Y,Ge),Re}function be(Y,U,Z,ge){var Re=Ne(Z);if(typeof Re!="function")throw Error(c(150));if(Z=Re.call(Z),Z==null)throw Error(c(151));for(var Fe=Re=null,je=U,Ge=U=0,xn=null,ft=Z.next();je!==null&&!ft.done;Ge++,ft=Z.next()){je.index>Ge?(xn=je,je=null):xn=je.sibling;var Ui=ae(Y,je,ft.value,ge);if(Ui===null){je===null&&(je=xn);break}t&&je&&Ui.alternate===null&&i(Y,je),U=E(Ui,U,Ge),Fe===null?Re=Ui:Fe.sibling=Ui,Fe=Ui,je=xn}if(ft.done)return l(Y,je),Lt&&us(Y,Ge),Re;if(je===null){for(;!ft.done;Ge++,ft=Z.next())ft=ce(Y,ft.value,ge),ft!==null&&(U=E(ft,U,Ge),Fe===null?Re=ft:Fe.sibling=ft,Fe=ft);return Lt&&us(Y,Ge),Re}for(je=h(Y,je);!ft.done;Ge++,ft=Z.next())ft=Ae(je,Y,Ge,ft.value,ge),ft!==null&&(t&&ft.alternate!==null&&je.delete(ft.key===null?Ge:ft.key),U=E(ft,U,Ge),Fe===null?Re=ft:Fe.sibling=ft,Fe=ft);return t&&je.forEach(function(Vd){return i(Y,Vd)}),Lt&&us(Y,Ge),Re}function qt(Y,U,Z,ge){if(typeof Z=="object"&&Z!==null&&Z.type===oe&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ze:e:{for(var Re=Z.key,Fe=U;Fe!==null;){if(Fe.key===Re){if(Re=Z.type,Re===oe){if(Fe.tag===7){l(Y,Fe.sibling),U=y(Fe,Z.props.children),U.return=Y,Y=U;break e}}else if(Fe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Ze&&Kc(Re)===Fe.type){l(Y,Fe.sibling),U=y(Fe,Z.props),U.ref=Ro(Y,Fe,Z),U.return=Y,Y=U;break e}l(Y,Fe);break}else i(Y,Fe);Fe=Fe.sibling}Z.type===oe?(U=ms(Z.props.children,Y.mode,ge,Z.key),U.return=Y,Y=U):(ge=el(Z.type,Z.key,Z.props,null,Y.mode,ge),ge.ref=Ro(Y,U,Z),ge.return=Y,Y=ge)}return M(Y);case De:e:{for(Fe=Z.key;U!==null;){if(U.key===Fe)if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){l(Y,U.sibling),U=y(U,Z.children||[]),U.return=Y,Y=U;break e}else{l(Y,U);break}else i(Y,U);U=U.sibling}U=zu(Z,Y.mode,ge),U.return=Y,Y=U}return M(Y);case Ze:return Fe=Z._init,qt(Y,U,Fe(Z._payload),ge)}if(Or(Z))return Te(Y,U,Z,ge);if(Ne(Z))return be(Y,U,Z,ge);_a(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,U!==null&&U.tag===6?(l(Y,U.sibling),U=y(U,Z),U.return=Y,Y=U):(l(Y,U),U=Uu(Z,Y.mode,ge),U.return=Y,Y=U),M(Y)):l(Y,U)}return qt}var Hs=qc(!0),$c=qc(!1),Ra=Mi(null),Oa=null,Vs=null,Kl=null;function ql(){Kl=Vs=Oa=null}function $l(t){var i=Ra.current;Ot(Ra),t._currentValue=i}function Jl(t,i,l){for(;t!==null;){var h=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),t===l)break;t=t.return}}function Ws(t,i){Oa=t,Kl=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Hn=!0),t.firstContext=null)}function mr(t){var i=t._currentValue;if(Kl!==t)if(t={context:t,memoizedValue:i,next:null},Vs===null){if(Oa===null)throw Error(c(308));Vs=t,Oa.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return i}var cs=null;function eu(t){cs===null?cs=[t]:cs.push(t)}function Jc(t,i,l,h){var y=i.interleaved;return y===null?(l.next=l,eu(i)):(l.next=y.next,y.next=l),i.interleaved=l,ni(t,h)}function ni(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Oi=!1;function tu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e1(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Di(t,i,l){var h=t.updateQueue;if(h===null)return null;if(h=h.shared,(ct&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,ni(t,l)}return y=h.interleaved,y===null?(i.next=i,eu(h)):(i.next=y.next,y.next=i),h.interleaved=i,ni(t,l)}function Da(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=t.pendingLanes,l|=h,i.lanes=l,zt(t,l)}}function t1(t,i){var l=t.updateQueue,h=t.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var M={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};E===null?y=E=M:E=E.next=M,l=l.next}while(l!==null);E===null?y=E=i:E=E.next=i}else y=E=i;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:h.shared,effects:h.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function ka(t,i,l,h){var y=t.updateQueue;Oi=!1;var E=y.firstBaseUpdate,M=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var F=L,ee=F.next;F.next=null,M===null?E=ee:M.next=ee,M=F;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,L=ue.lastBaseUpdate,L!==M&&(L===null?ue.firstBaseUpdate=ee:L.next=ee,ue.lastBaseUpdate=F))}if(E!==null){var ce=y.baseState;M=0,ue=ee=F=null,L=E;do{var ae=L.lane,Ae=L.eventTime;if((h&ae)===ae){ue!==null&&(ue=ue.next={eventTime:Ae,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Te=t,be=L;switch(ae=i,Ae=l,be.tag){case 1:if(Te=be.payload,typeof Te=="function"){ce=Te.call(Ae,ce,ae);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=be.payload,ae=typeof Te=="function"?Te.call(Ae,ce,ae):Te,ae==null)break e;ce=we({},ce,ae);break e;case 2:Oi=!0}}L.callback!==null&&L.lane!==0&&(t.flags|=64,ae=y.effects,ae===null?y.effects=[L]:ae.push(L))}else Ae={eventTime:Ae,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ue===null?(ee=ue=Ae,F=ce):ue=ue.next=Ae,M|=ae;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(ue===null&&(F=ce),y.baseState=F,y.firstBaseUpdate=ee,y.lastBaseUpdate=ue,i=y.shared.interleaved,i!==null){y=i;do M|=y.lane,y=y.next;while(y!==i)}else E===null&&(y.shared.lanes=0);hs|=M,t.lanes=M,t.memoizedState=ce}}function n1(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var h=t[i],y=h.callback;if(y!==null){if(h.callback=null,h=l,typeof y!="function")throw Error(c(191,y));y.call(h)}}}var Oo={},jr=Mi(Oo),Do=Mi(Oo),ko=Mi(Oo);function fs(t){if(t===Oo)throw Error(c(174));return t}function nu(t,i){switch(_t(ko,i),_t(Do,t),_t(jr,Oo),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:vs(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=vs(i,t)}Ot(jr),_t(jr,i)}function Gs(){Ot(jr),Ot(Do),Ot(ko)}function r1(t){fs(ko.current);var i=fs(jr.current),l=vs(i,t.type);i!==l&&(_t(Do,t),_t(jr,l))}function ru(t){Do.current===t&&(Ot(jr),Ot(Do))}var Ft=Mi(0);function La(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var iu=[];function su(){for(var t=0;t<iu.length;t++)iu[t]._workInProgressVersionPrimary=null;iu.length=0}var Ba=pe.ReactCurrentDispatcher,ou=pe.ReactCurrentBatchConfig,ds=0,jt=null,un=null,gn=null,Pa=!1,Lo=!1,Bo=0,fd=0;function Mn(){throw Error(c(321))}function au(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!H(t[l],i[l]))return!1;return!0}function lu(t,i,l,h,y,E){if(ds=E,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ba.current=t===null||t.memoizedState===null?pd:xd,t=l(h,y),Lo){E=0;do{if(Lo=!1,Bo=0,25<=E)throw Error(c(301));E+=1,gn=un=null,i.updateQueue=null,Ba.current=md,t=l(h,y)}while(Lo)}if(Ba.current=Ua,i=un!==null&&un.next!==null,ds=0,gn=un=jt=null,Pa=!1,i)throw Error(c(300));return t}function uu(){var t=Bo!==0;return Bo=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?jt.memoizedState=gn=t:gn=gn.next=t,gn}function yr(){if(un===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var i=gn===null?jt.memoizedState:gn.next;if(i!==null)gn=i,un=t;else{if(t===null)throw Error(c(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},gn===null?jt.memoizedState=gn=t:gn=gn.next=t}return gn}function Po(t,i){return typeof i=="function"?i(t):i}function cu(t){var i=yr(),l=i.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var h=un,y=h.baseQueue,E=l.pending;if(E!==null){if(y!==null){var M=y.next;y.next=E.next,E.next=M}h.baseQueue=y=E,l.pending=null}if(y!==null){E=y.next,h=h.baseState;var L=M=null,F=null,ee=E;do{var ue=ee.lane;if((ds&ue)===ue)F!==null&&(F=F.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:t(h,ee.action);else{var ce={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};F===null?(L=F=ce,M=h):F=F.next=ce,jt.lanes|=ue,hs|=ue}ee=ee.next}while(ee!==null&&ee!==E);F===null?M=h:F.next=L,H(h,i.memoizedState)||(Hn=!0),i.memoizedState=h,i.baseState=M,i.baseQueue=F,l.lastRenderedState=h}if(t=l.interleaved,t!==null){y=t;do E=y.lane,jt.lanes|=E,hs|=E,y=y.next;while(y!==t)}else y===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function fu(t){var i=yr(),l=i.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var h=l.dispatch,y=l.pending,E=i.memoizedState;if(y!==null){l.pending=null;var M=y=y.next;do E=t(E,M.action),M=M.next;while(M!==y);H(E,i.memoizedState)||(Hn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),l.lastRenderedState=E}return[E,h]}function i1(){}function s1(t,i){var l=jt,h=yr(),y=i(),E=!H(h.memoizedState,y);if(E&&(h.memoizedState=y,Hn=!0),h=h.queue,du(l1.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||gn!==null&&gn.memoizedState.tag&1){if(l.flags|=2048,Fo(9,a1.bind(null,l,h,y,i),void 0,null),pn===null)throw Error(c(349));(ds&30)!==0||o1(l,i,y)}return y}function o1(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=jt.updateQueue,i===null?(i={lastEffect:null,stores:null},jt.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function a1(t,i,l,h){i.value=l,i.getSnapshot=h,u1(i)&&c1(t)}function l1(t,i,l){return l(function(){u1(i)&&c1(t)})}function u1(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!H(t,l)}catch{return!0}}function c1(t){var i=ni(t,1);i!==null&&Mr(i,t,1,-1)}function f1(t){var i=Ur();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},i.queue=t,t=t.dispatch=gd.bind(null,jt,t),[i.memoizedState,t]}function Fo(t,i,l,h){return t={tag:t,create:i,destroy:l,deps:h,next:null},i=jt.updateQueue,i===null?(i={lastEffect:null,stores:null},jt.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(h=l.next,l.next=t,t.next=h,i.lastEffect=t)),t}function d1(){return yr().memoizedState}function Fa(t,i,l,h){var y=Ur();jt.flags|=t,y.memoizedState=Fo(1|i,l,void 0,h===void 0?null:h)}function ja(t,i,l,h){var y=yr();h=h===void 0?null:h;var E=void 0;if(un!==null){var M=un.memoizedState;if(E=M.destroy,h!==null&&au(h,M.deps)){y.memoizedState=Fo(i,l,E,h);return}}jt.flags|=t,y.memoizedState=Fo(1|i,l,E,h)}function h1(t,i){return Fa(8390656,8,t,i)}function du(t,i){return ja(2048,8,t,i)}function g1(t,i){return ja(4,2,t,i)}function p1(t,i){return ja(4,4,t,i)}function x1(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function m1(t,i,l){return l=l!=null?l.concat([t]):null,ja(4,4,x1.bind(null,i,t),l)}function hu(){}function y1(t,i){var l=yr();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&au(i,h[1])?h[0]:(l.memoizedState=[t,i],t)}function w1(t,i){var l=yr();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&au(i,h[1])?h[0]:(t=t(),l.memoizedState=[t,i],t)}function C1(t,i,l){return(ds&21)===0?(t.baseState&&(t.baseState=!1,Hn=!0),t.memoizedState=l):(H(l,i)||(l=sn(),jt.lanes|=l,hs|=l,t.baseState=!0),i)}function dd(t,i){var l=qe;qe=l!==0&&4>l?l:4,t(!0);var h=ou.transition;ou.transition={};try{t(!1),i()}finally{qe=l,ou.transition=h}}function E1(){return yr().memoizedState}function hd(t,i,l){var h=Pi(t);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},A1(t))v1(i,l);else if(l=Jc(t,i,l,h),l!==null){var y=kn();Mr(l,t,h,y),S1(l,i,h)}}function gd(t,i,l){var h=Pi(t),y={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(A1(t))v1(i,y);else{var E=t.alternate;if(t.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var M=i.lastRenderedState,L=E(M,l);if(y.hasEagerState=!0,y.eagerState=L,H(L,M)){var F=i.interleaved;F===null?(y.next=y,eu(i)):(y.next=F.next,F.next=y),i.interleaved=y;return}}catch{}finally{}l=Jc(t,i,y,h),l!==null&&(y=kn(),Mr(l,t,h,y),S1(l,i,h))}}function A1(t){var i=t.alternate;return t===jt||i!==null&&i===jt}function v1(t,i){Lo=Pa=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function S1(t,i,l){if((l&4194240)!==0){var h=i.lanes;h&=t.pendingLanes,l|=h,i.lanes=l,zt(t,l)}}var Ua={readContext:mr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},pd={readContext:mr,useCallback:function(t,i){return Ur().memoizedState=[t,i===void 0?null:i],t},useContext:mr,useEffect:h1,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,Fa(4194308,4,x1.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Fa(4194308,4,t,i)},useInsertionEffect:function(t,i){return Fa(4,2,t,i)},useMemo:function(t,i){var l=Ur();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var h=Ur();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},h.queue=t,t=t.dispatch=hd.bind(null,jt,t),[h.memoizedState,t]},useRef:function(t){var i=Ur();return t={current:t},i.memoizedState=t},useState:f1,useDebugValue:hu,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=f1(!1),i=t[0];return t=dd.bind(null,t[1]),Ur().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var h=jt,y=Ur();if(Lt){if(l===void 0)throw Error(c(407));l=l()}else{if(l=i(),pn===null)throw Error(c(349));(ds&30)!==0||o1(h,i,l)}y.memoizedState=l;var E={value:l,getSnapshot:i};return y.queue=E,h1(l1.bind(null,h,E,t),[t]),h.flags|=2048,Fo(9,a1.bind(null,h,E,l,i),void 0,null),l},useId:function(){var t=Ur(),i=pn.identifierPrefix;if(Lt){var l=ti,h=ei;l=(h&~(1<<32-On(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Bo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=fd++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},xd={readContext:mr,useCallback:y1,useContext:mr,useEffect:du,useImperativeHandle:m1,useInsertionEffect:g1,useLayoutEffect:p1,useMemo:w1,useReducer:cu,useRef:d1,useState:function(){return cu(Po)},useDebugValue:hu,useDeferredValue:function(t){var i=yr();return C1(i,un.memoizedState,t)},useTransition:function(){var t=cu(Po)[0],i=yr().memoizedState;return[t,i]},useMutableSource:i1,useSyncExternalStore:s1,useId:E1,unstable_isNewReconciler:!1},md={readContext:mr,useCallback:y1,useContext:mr,useEffect:du,useImperativeHandle:m1,useInsertionEffect:g1,useLayoutEffect:p1,useMemo:w1,useReducer:fu,useRef:d1,useState:function(){return fu(Po)},useDebugValue:hu,useDeferredValue:function(t){var i=yr();return un===null?i.memoizedState=t:C1(i,un.memoizedState,t)},useTransition:function(){var t=fu(Po)[0],i=yr().memoizedState;return[t,i]},useMutableSource:i1,useSyncExternalStore:s1,useId:E1,unstable_isNewReconciler:!1};function Nr(t,i){if(t&&t.defaultProps){i=we({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}function gu(t,i,l,h){i=t.memoizedState,l=l(h,i),l=l==null?i:we({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var za={isMounted:function(t){return(t=t._reactInternals)?jn(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var h=kn(),y=Pi(t),E=ri(h,y);E.payload=i,l!=null&&(E.callback=l),i=Di(t,E,y),i!==null&&(Mr(i,t,y,h),Da(i,t,y))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var h=kn(),y=Pi(t),E=ri(h,y);E.tag=1,E.payload=i,l!=null&&(E.callback=l),i=Di(t,E,y),i!==null&&(Mr(i,t,y,h),Da(i,t,y))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=kn(),h=Pi(t),y=ri(l,h);y.tag=2,i!=null&&(y.callback=i),i=Di(t,y,h),i!==null&&(Mr(i,t,h,l),Da(i,t,h))}};function I1(t,i,l,h,y,E,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(h,E,M):i.prototype&&i.prototype.isPureReactComponent?!$(l,h)||!$(y,E):!0}function N1(t,i,l){var h=!1,y=_i,E=i.contextType;return typeof E=="object"&&E!==null?E=mr(E):(y=zn(i)?as:bn.current,h=i.contextTypes,E=(h=h!=null)?Fs(t,y):_i),i=new i(l,E),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=za,t.stateNode=i,i._reactInternals=t,h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=y,t.__reactInternalMemoizedMaskedChildContext=E),i}function T1(t,i,l,h){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==t&&za.enqueueReplaceState(i,i.state,null)}function pu(t,i,l,h){var y=t.stateNode;y.props=l,y.state=t.memoizedState,y.refs={},tu(t);var E=i.contextType;typeof E=="object"&&E!==null?y.context=mr(E):(E=zn(i)?as:bn.current,y.context=Fs(t,E)),y.state=t.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(gu(t,i,E,l),y.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&za.enqueueReplaceState(y,y.state,null),ka(t,l,y,h),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,i){try{var l="",h=i;do l+=st(h),h=h.return;while(h);var y=l}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:t,source:i,stack:y,digest:null}}function xu(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function mu(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var yd=typeof WeakMap=="function"?WeakMap:Map;function b1(t,i,l){l=ri(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){Qa||(Qa=!0,Ou=h),mu(t,i)},l}function M1(t,i,l){l=ri(-1,l),l.tag=3;var h=t.type.getDerivedStateFromError;if(typeof h=="function"){var y=i.value;l.payload=function(){return h(y)},l.callback=function(){mu(t,i)}}var E=t.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(l.callback=function(){mu(t,i),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var M=i.stack;this.componentDidCatch(i.value,{componentStack:M!==null?M:""})}),l}function _1(t,i,l){var h=t.pingCache;if(h===null){h=t.pingCache=new yd;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(l)||(y.add(l),t=Od.bind(null,t,i,l),i.then(t,t))}function R1(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function O1(t,i,l,h,y){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ri(-1,1),i.tag=2,Di(l,i,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=y,t)}var wd=pe.ReactCurrentOwner,Hn=!1;function Dn(t,i,l,h){i.child=t===null?$c(i,null,l,h):Hs(i,t.child,l,h)}function D1(t,i,l,h,y){l=l.render;var E=i.ref;return Ws(i,y),h=lu(t,i,l,h,E,y),l=uu(),t!==null&&!Hn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~y,ii(t,i,y)):(Lt&&l&&Gl(i),i.flags|=1,Dn(t,i,h,y),i.child)}function k1(t,i,l,h,y){if(t===null){var E=l.type;return typeof E=="function"&&!ju(E)&&E.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=E,L1(t,i,E,h,y)):(t=el(l.type,null,h,i,i.mode,y),t.ref=i.ref,t.return=i,i.child=t)}if(E=t.child,(t.lanes&y)===0){var M=E.memoizedProps;if(l=l.compare,l=l!==null?l:$,l(M,h)&&t.ref===i.ref)return ii(t,i,y)}return i.flags|=1,t=ji(E,h),t.ref=i.ref,t.return=i,i.child=t}function L1(t,i,l,h,y){if(t!==null){var E=t.memoizedProps;if($(E,h)&&t.ref===i.ref)if(Hn=!1,i.pendingProps=h=E,(t.lanes&y)!==0)(t.flags&131072)!==0&&(Hn=!0);else return i.lanes=t.lanes,ii(t,i,y)}return yu(t,i,l,h,y)}function B1(t,i,l){var h=i.pendingProps,y=h.children,E=t!==null?t.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Qs,ir),ir|=l;else{if((l&1073741824)===0)return t=E!==null?E.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,_t(Qs,ir),ir|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=E!==null?E.baseLanes:l,_t(Qs,ir),ir|=h}else E!==null?(h=E.baseLanes|l,i.memoizedState=null):h=l,_t(Qs,ir),ir|=h;return Dn(t,i,y,l),i.child}function P1(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function yu(t,i,l,h,y){var E=zn(l)?as:bn.current;return E=Fs(i,E),Ws(i,y),l=lu(t,i,l,h,E,y),h=uu(),t!==null&&!Hn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~y,ii(t,i,y)):(Lt&&h&&Gl(i),i.flags|=1,Dn(t,i,l,y),i.child)}function F1(t,i,l,h,y){if(zn(l)){var E=!0;Ia(i)}else E=!1;if(Ws(i,y),i.stateNode===null)Va(t,i),N1(i,l,h),pu(i,l,h,y),h=!0;else if(t===null){var M=i.stateNode,L=i.memoizedProps;M.props=L;var F=M.context,ee=l.contextType;typeof ee=="object"&&ee!==null?ee=mr(ee):(ee=zn(l)?as:bn.current,ee=Fs(i,ee));var ue=l.getDerivedStateFromProps,ce=typeof ue=="function"||typeof M.getSnapshotBeforeUpdate=="function";ce||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(L!==h||F!==ee)&&T1(i,M,h,ee),Oi=!1;var ae=i.memoizedState;M.state=ae,ka(i,h,M,y),F=i.memoizedState,L!==h||ae!==F||Un.current||Oi?(typeof ue=="function"&&(gu(i,l,ue,h),F=i.memoizedState),(L=Oi||I1(i,l,L,h,ae,F,ee))?(ce||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(i.flags|=4194308)):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=F),M.props=h,M.state=F,M.context=ee,h=L):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{M=i.stateNode,e1(t,i),L=i.memoizedProps,ee=i.type===i.elementType?L:Nr(i.type,L),M.props=ee,ce=i.pendingProps,ae=M.context,F=l.contextType,typeof F=="object"&&F!==null?F=mr(F):(F=zn(l)?as:bn.current,F=Fs(i,F));var Ae=l.getDerivedStateFromProps;(ue=typeof Ae=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(L!==ce||ae!==F)&&T1(i,M,h,F),Oi=!1,ae=i.memoizedState,M.state=ae,ka(i,h,M,y);var Te=i.memoizedState;L!==ce||ae!==Te||Un.current||Oi?(typeof Ae=="function"&&(gu(i,l,Ae,h),Te=i.memoizedState),(ee=Oi||I1(i,l,ee,h,ae,Te,F)||!1)?(ue||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(h,Te,F),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(h,Te,F)),typeof M.componentDidUpdate=="function"&&(i.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof M.componentDidUpdate!="function"||L===t.memoizedProps&&ae===t.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ae===t.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Te),M.props=h,M.state=Te,M.context=F,h=ee):(typeof M.componentDidUpdate!="function"||L===t.memoizedProps&&ae===t.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ae===t.memoizedState||(i.flags|=1024),h=!1)}return wu(t,i,l,h,E,y)}function wu(t,i,l,h,y,E){P1(t,i);var M=(i.flags&128)!==0;if(!h&&!M)return y&&Vc(i,l,!1),ii(t,i,E);h=i.stateNode,wd.current=i;var L=M&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,t!==null&&M?(i.child=Hs(i,t.child,null,E),i.child=Hs(i,null,L,E)):Dn(t,i,L,E),i.memoizedState=h.state,y&&Vc(i,l,!0),i.child}function j1(t){var i=t.stateNode;i.pendingContext?zc(t,i.pendingContext,i.pendingContext!==i.context):i.context&&zc(t,i.context,!1),nu(t,i.containerInfo)}function U1(t,i,l,h,y){return zs(),Zl(y),i.flags|=256,Dn(t,i,l,h),i.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function z1(t,i,l){var h=i.pendingProps,y=Ft.current,E=!1,M=(i.flags&128)!==0,L;if((L=M)||(L=t!==null&&t.memoizedState===null?!1:(y&2)!==0),L?(E=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(y|=1),_t(Ft,y&1),t===null)return Ql(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(M=h.children,t=h.fallback,E?(h=i.mode,E=i.child,M={mode:"hidden",children:M},(h&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=M):E=tl(M,h,0,null),t=ms(t,h,l,null),E.return=i,t.return=i,E.sibling=t,i.child=E,i.child.memoizedState=Eu(l),i.memoizedState=Cu,t):Au(i,M));if(y=t.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return Cd(t,i,M,h,L,y,l);if(E){E=h.fallback,M=i.mode,y=t.child,L=y.sibling;var F={mode:"hidden",children:h.children};return(M&1)===0&&i.child!==y?(h=i.child,h.childLanes=0,h.pendingProps=F,i.deletions=null):(h=ji(y,F),h.subtreeFlags=y.subtreeFlags&14680064),L!==null?E=ji(L,E):(E=ms(E,M,l,null),E.flags|=2),E.return=i,h.return=i,h.sibling=E,i.child=h,h=E,E=i.child,M=t.child.memoizedState,M=M===null?Eu(l):{baseLanes:M.baseLanes|l,cachePool:null,transitions:M.transitions},E.memoizedState=M,E.childLanes=t.childLanes&~l,i.memoizedState=Cu,h}return E=t.child,t=E.sibling,h=ji(E,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=h,i.memoizedState=null,h}function Au(t,i){return i=tl({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Ha(t,i,l,h){return h!==null&&Zl(h),Hs(i,t.child,null,l),t=Au(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Cd(t,i,l,h,y,E,M){if(l)return i.flags&256?(i.flags&=-257,h=xu(Error(c(422))),Ha(t,i,M,h)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(E=h.fallback,y=i.mode,h=tl({mode:"visible",children:h.children},y,0,null),E=ms(E,y,M,null),E.flags|=2,h.return=i,E.return=i,h.sibling=E,i.child=h,(i.mode&1)!==0&&Hs(i,t.child,null,M),i.child.memoizedState=Eu(M),i.memoizedState=Cu,E);if((i.mode&1)===0)return Ha(t,i,M,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var L=h.dgst;return h=L,E=Error(c(419)),h=xu(E,h,void 0),Ha(t,i,M,h)}if(L=(M&t.childLanes)!==0,Hn||L){if(h=pn,h!==null){switch(M&-M){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|M))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,ni(t,y),Mr(h,t,y,-1))}return Fu(),h=xu(Error(c(421))),Ha(t,i,M,h)}return y.data==="$?"?(i.flags|=128,i.child=t.child,i=Dd.bind(null,t),y._reactRetry=i,null):(t=E.treeContext,rr=bi(y.nextSibling),nr=i,Lt=!0,Ir=null,t!==null&&(pr[xr++]=ei,pr[xr++]=ti,pr[xr++]=ls,ei=t.id,ti=t.overflow,ls=i),i=Au(i,h.children),i.flags|=4096,i)}function H1(t,i,l){t.lanes|=i;var h=t.alternate;h!==null&&(h.lanes|=i),Jl(t.return,i,l)}function vu(t,i,l,h,y){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=l,E.tailMode=y)}function V1(t,i,l){var h=i.pendingProps,y=h.revealOrder,E=h.tail;if(Dn(t,i,h.children,l),h=Ft.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H1(t,l,i);else if(t.tag===19)H1(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}h&=1}if(_t(Ft,h),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(l=i.child,y=null;l!==null;)t=l.alternate,t!==null&&La(t)===null&&(y=l),l=l.sibling;l=y,l===null?(y=i.child,i.child=null):(y=l.sibling,l.sibling=null),vu(i,!1,y,l,E);break;case"backwards":for(l=null,y=i.child,i.child=null;y!==null;){if(t=y.alternate,t!==null&&La(t)===null){i.child=y;break}t=y.sibling,y.sibling=l,l=y,y=t}vu(i,!0,l,null,E);break;case"together":vu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Va(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function ii(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),hs|=i.lanes,(l&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(c(153));if(i.child!==null){for(t=i.child,l=ji(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=ji(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function Ed(t,i,l){switch(i.tag){case 3:j1(i),zs();break;case 5:r1(i);break;case 1:zn(i.type)&&Ia(i);break;case 4:nu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,y=i.memoizedProps.value;_t(Ra,h._currentValue),h._currentValue=y;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(_t(Ft,Ft.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?z1(t,i,l):(_t(Ft,Ft.current&1),t=ii(t,i,l),t!==null?t.sibling:null);_t(Ft,Ft.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(t.flags&128)!==0){if(h)return V1(t,i,l);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),_t(Ft,Ft.current),h)break;return null;case 22:case 23:return i.lanes=0,B1(t,i,l)}return ii(t,i,l)}var W1,Su,G1,Y1;W1=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Su=function(){},G1=function(t,i,l,h){var y=t.memoizedProps;if(y!==h){t=i.stateNode,fs(jr.current);var E=null;switch(l){case"input":y=Rr(t,y),h=Rr(t,h),E=[];break;case"select":y=we({},y,{value:void 0}),h=we({},h,{value:void 0}),E=[];break;case"textarea":y=gi(t,y),h=gi(t,h),E=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(t.onclick=Aa)}dt(l,h);var M;l=null;for(ee in y)if(!h.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var L=y[ee];for(M in L)L.hasOwnProperty(M)&&(l||(l={}),l[M]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(w.hasOwnProperty(ee)?E||(E=[]):(E=E||[]).push(ee,null));for(ee in h){var F=h[ee];if(L=y?.[ee],h.hasOwnProperty(ee)&&F!==L&&(F!=null||L!=null))if(ee==="style")if(L){for(M in L)!L.hasOwnProperty(M)||F&&F.hasOwnProperty(M)||(l||(l={}),l[M]="");for(M in F)F.hasOwnProperty(M)&&L[M]!==F[M]&&(l||(l={}),l[M]=F[M])}else l||(E||(E=[]),E.push(ee,l)),l=F;else ee==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,L=L?L.__html:void 0,F!=null&&L!==F&&(E=E||[]).push(ee,F)):ee==="children"?typeof F!="string"&&typeof F!="number"||(E=E||[]).push(ee,""+F):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(w.hasOwnProperty(ee)?(F!=null&&ee==="onScroll"&&Rt("scroll",t),E||L===F||(E=[])):(E=E||[]).push(ee,F))}l&&(E=E||[]).push("style",l);var ee=E;(i.updateQueue=ee)&&(i.flags|=4)}},Y1=function(t,i,l,h){l!==h&&(i.flags|=4)};function jo(t,i){if(!Lt)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:h.sibling=null}}function _n(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,h=0;if(i)for(var y=t.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=t,y=y.sibling;else for(y=t.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=t,y=y.sibling;return t.subtreeFlags|=h,t.childLanes=l,i}function Ad(t,i,l){var h=i.pendingProps;switch(Yl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(i),null;case 1:return zn(i.type)&&Sa(),_n(i),null;case 3:return h=i.stateNode,Gs(),Ot(Un),Ot(bn),su(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ir!==null&&(Lu(Ir),Ir=null))),Su(t,i),_n(i),null;case 5:ru(i);var y=fs(ko.current);if(l=i.type,t!==null&&i.stateNode!=null)G1(t,i,l,h,y),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(c(166));return _n(i),null}if(t=fs(jr.current),Ma(i)){h=i.stateNode,l=i.type;var E=i.memoizedProps;switch(h[Fr]=i,h[Mo]=E,t=(i.mode&1)!==0,l){case"dialog":Rt("cancel",h),Rt("close",h);break;case"iframe":case"object":case"embed":Rt("load",h);break;case"video":case"audio":for(y=0;y<No.length;y++)Rt(No[y],h);break;case"source":Rt("error",h);break;case"img":case"image":case"link":Rt("error",h),Rt("load",h);break;case"details":Rt("toggle",h);break;case"input":Xn(h,E),Rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!E.multiple},Rt("invalid",h);break;case"textarea":ro(h,E),Rt("invalid",h)}dt(l,E),y=null;for(var M in E)if(E.hasOwnProperty(M)){var L=E[M];M==="children"?typeof L=="string"?h.textContent!==L&&(E.suppressHydrationWarning!==!0&&Ea(h.textContent,L,t),y=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(E.suppressHydrationWarning!==!0&&Ea(h.textContent,L,t),y=["children",""+L]):w.hasOwnProperty(M)&&L!=null&&M==="onScroll"&&Rt("scroll",h)}switch(l){case"input":nn(h),Ct(h,E,!0);break;case"textarea":nn(h),As(h);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(h.onclick=Aa)}h=y,i.updateQueue=h,h!==null&&(i.flags|=4)}else{M=y.nodeType===9?y:y.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bn(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=M.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof h.is=="string"?t=M.createElement(l,{is:h.is}):(t=M.createElement(l),l==="select"&&(M=t,h.multiple?M.multiple=!0:h.size&&(M.size=h.size))):t=M.createElementNS(t,l),t[Fr]=i,t[Mo]=h,W1(t,i,!1,!1),i.stateNode=t;e:{switch(M=Nt(l,h),l){case"dialog":Rt("cancel",t),Rt("close",t),y=h;break;case"iframe":case"object":case"embed":Rt("load",t),y=h;break;case"video":case"audio":for(y=0;y<No.length;y++)Rt(No[y],t);y=h;break;case"source":Rt("error",t),y=h;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),y=h;break;case"details":Rt("toggle",t),y=h;break;case"input":Xn(t,h),y=Rr(t,h),Rt("invalid",t);break;case"option":y=h;break;case"select":t._wrapperState={wasMultiple:!!h.multiple},y=we({},h,{value:void 0}),Rt("invalid",t);break;case"textarea":ro(t,h),y=gi(t,h),Rt("invalid",t);break;default:y=h}dt(l,y),L=y;for(E in L)if(L.hasOwnProperty(E)){var F=L[E];E==="style"?ye(t,F):E==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&fn(t,F)):E==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&pi(t,F):typeof F=="number"&&pi(t,""+F):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(w.hasOwnProperty(E)?F!=null&&E==="onScroll"&&Rt("scroll",t):F!=null&&te(t,E,F,M))}switch(l){case"input":nn(t),Ct(t,h,!1);break;case"textarea":nn(t),As(t);break;case"option":h.value!=null&&t.setAttribute("value",""+Ve(h.value));break;case"select":t.multiple=!!h.multiple,E=h.value,E!=null?ve(t,!!h.multiple,E,!1):h.defaultValue!=null&&ve(t,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(t.onclick=Aa)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _n(i),null;case 6:if(t&&i.stateNode!=null)Y1(t,i,t.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(c(166));if(l=fs(ko.current),fs(jr.current),Ma(i)){if(h=i.stateNode,l=i.memoizedProps,h[Fr]=i,(E=h.nodeValue!==l)&&(t=nr,t!==null))switch(t.tag){case 3:Ea(h.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ea(h.nodeValue,l,(t.mode&1)!==0)}E&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Fr]=i,i.stateNode=h}return _n(i),null;case 13:if(Ot(Ft),h=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Lt&&rr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Zc(),zs(),i.flags|=98560,E=!1;else if(E=Ma(i),h!==null&&h.dehydrated!==null){if(t===null){if(!E)throw Error(c(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(c(317));E[Fr]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_n(i),E=!1}else Ir!==null&&(Lu(Ir),Ir=null),E=!0;if(!E)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(t!==null&&t.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Ft.current&1)!==0?cn===0&&(cn=3):Fu())),i.updateQueue!==null&&(i.flags|=4),_n(i),null);case 4:return Gs(),Su(t,i),t===null&&To(i.stateNode.containerInfo),_n(i),null;case 10:return $l(i.type._context),_n(i),null;case 17:return zn(i.type)&&Sa(),_n(i),null;case 19:if(Ot(Ft),E=i.memoizedState,E===null)return _n(i),null;if(h=(i.flags&128)!==0,M=E.rendering,M===null)if(h)jo(E,!1);else{if(cn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(M=La(t),M!==null){for(i.flags|=128,jo(E,!1),h=M.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)E=l,t=h,E.flags&=14680066,M=E.alternate,M===null?(E.childLanes=0,E.lanes=t,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=M.childLanes,E.lanes=M.lanes,E.child=M.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=M.memoizedProps,E.memoizedState=M.memoizedState,E.updateQueue=M.updateQueue,E.type=M.type,t=M.dependencies,E.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return _t(Ft,Ft.current&1|2),i.child}t=t.sibling}E.tail!==null&&mt()>Zs&&(i.flags|=128,h=!0,jo(E,!1),i.lanes=4194304)}else{if(!h)if(t=La(M),t!==null){if(i.flags|=128,h=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),jo(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!Lt)return _n(i),null}else 2*mt()-E.renderingStartTime>Zs&&l!==1073741824&&(i.flags|=128,h=!0,jo(E,!1),i.lanes=4194304);E.isBackwards?(M.sibling=i.child,i.child=M):(l=E.last,l!==null?l.sibling=M:i.child=M,E.last=M)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=mt(),i.sibling=null,l=Ft.current,_t(Ft,h?l&1|2:l&1),i):(_n(i),null);case 22:case 23:return Pu(),h=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(ir&1073741824)!==0&&(_n(i),i.subtreeFlags&6&&(i.flags|=8192)):_n(i),null;case 24:return null;case 25:return null}throw Error(c(156,i.tag))}function vd(t,i){switch(Yl(i),i.tag){case 1:return zn(i.type)&&Sa(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gs(),Ot(Un),Ot(bn),su(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return ru(i),null;case 13:if(Ot(Ft),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(c(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ot(Ft),null;case 4:return Gs(),null;case 10:return $l(i.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var Wa=!1,Rn=!1,Sd=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Xs(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Vt(t,i,h)}else l.current=null}function Iu(t,i,l){try{l()}catch(h){Vt(t,i,h)}}var X1=!1;function Id(t,i){if(Pl=Br,t=Je(),Xe(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var M=0,L=-1,F=-1,ee=0,ue=0,ce=t,ae=null;t:for(;;){for(var Ae;ce!==l||y!==0&&ce.nodeType!==3||(L=M+y),ce!==E||h!==0&&ce.nodeType!==3||(F=M+h),ce.nodeType===3&&(M+=ce.nodeValue.length),(Ae=ce.firstChild)!==null;)ae=ce,ce=Ae;for(;;){if(ce===t)break t;if(ae===l&&++ee===y&&(L=M),ae===E&&++ue===h&&(F=M),(Ae=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=Ae}l=L===-1||F===-1?null:{start:L,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fl={focusedElem:t,selectionRange:l},Br=!1,Ie=i;Ie!==null;)if(i=Ie,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ie=t;else for(;Ie!==null;){i=Ie;try{var Te=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var be=Te.memoizedProps,qt=Te.memoizedState,Y=i.stateNode,U=Y.getSnapshotBeforeUpdate(i.elementType===i.type?be:Nr(i.type,be),qt);Y.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var Z=i.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(ge){Vt(i,i.return,ge)}if(t=i.sibling,t!==null){t.return=i.return,Ie=t;break}Ie=i.return}return Te=X1,X1=!1,Te}function Uo(t,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&t)===t){var E=y.destroy;y.destroy=void 0,E!==void 0&&Iu(i,l,E)}y=y.next}while(y!==h)}}function Ga(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Nu(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function Q1(t){var i=t.alternate;i!==null&&(t.alternate=null,Q1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Fr],delete i[Mo],delete i[Hl],delete i[ad],delete i[ld])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z1(t){return t.tag===5||t.tag===3||t.tag===4}function K1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tu(t,i,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Aa));else if(h!==4&&(t=t.child,t!==null))for(Tu(t,i,l),t=t.sibling;t!==null;)Tu(t,i,l),t=t.sibling}function bu(t,i,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(h!==4&&(t=t.child,t!==null))for(bu(t,i,l),t=t.sibling;t!==null;)bu(t,i,l),t=t.sibling}var En=null,Tr=!1;function ki(t,i,l){for(l=l.child;l!==null;)q1(t,i,l),l=l.sibling}function q1(t,i,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(lt,l)}catch{}switch(l.tag){case 5:Rn||Xs(l,i);case 6:var h=En,y=Tr;En=null,ki(t,i,l),En=h,Tr=y,En!==null&&(Tr?(t=En,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):En.removeChild(l.stateNode));break;case 18:En!==null&&(Tr?(t=En,l=l.stateNode,t.nodeType===8?zl(t.parentNode,l):t.nodeType===1&&zl(t,l),Ar(t)):zl(En,l.stateNode));break;case 4:h=En,y=Tr,En=l.stateNode.containerInfo,Tr=!0,ki(t,i,l),En=h,Tr=y;break;case 0:case 11:case 14:case 15:if(!Rn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var E=y,M=E.destroy;E=E.tag,M!==void 0&&((E&2)!==0||(E&4)!==0)&&Iu(l,i,M),y=y.next}while(y!==h)}ki(t,i,l);break;case 1:if(!Rn&&(Xs(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(L){Vt(l,i,L)}ki(t,i,l);break;case 21:ki(t,i,l);break;case 22:l.mode&1?(Rn=(h=Rn)||l.memoizedState!==null,ki(t,i,l),Rn=h):ki(t,i,l);break;default:ki(t,i,l)}}function $1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Sd),i.forEach(function(h){var y=kd.bind(null,t,h);l.has(h)||(l.add(h),h.then(y,y))})}}function br(t,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];try{var E=t,M=i,L=M;e:for(;L!==null;){switch(L.tag){case 5:En=L.stateNode,Tr=!1;break e;case 3:En=L.stateNode.containerInfo,Tr=!0;break e;case 4:En=L.stateNode.containerInfo,Tr=!0;break e}L=L.return}if(En===null)throw Error(c(160));q1(E,M,y),En=null,Tr=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(ee){Vt(y,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)J1(i,t),i=i.sibling}function J1(t,i){var l=t.alternate,h=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(i,t),zr(t),h&4){try{Uo(3,t,t.return),Ga(3,t)}catch(be){Vt(t,t.return,be)}try{Uo(5,t,t.return)}catch(be){Vt(t,t.return,be)}}break;case 1:br(i,t),zr(t),h&512&&l!==null&&Xs(l,l.return);break;case 5:if(br(i,t),zr(t),h&512&&l!==null&&Xs(l,l.return),t.flags&32){var y=t.stateNode;try{pi(y,"")}catch(be){Vt(t,t.return,be)}}if(h&4&&(y=t.stateNode,y!=null)){var E=t.memoizedProps,M=l!==null?l.memoizedProps:E,L=t.type,F=t.updateQueue;if(t.updateQueue=null,F!==null)try{L==="input"&&E.type==="radio"&&E.name!=null&&hi(y,E),Nt(L,M);var ee=Nt(L,E);for(M=0;M<F.length;M+=2){var ue=F[M],ce=F[M+1];ue==="style"?ye(y,ce):ue==="dangerouslySetInnerHTML"?fn(y,ce):ue==="children"?pi(y,ce):te(y,ue,ce,ee)}switch(L){case"input":Yt(y,E);break;case"textarea":ur(y,E);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Ae=E.value;Ae!=null?ve(y,!!E.multiple,Ae,!1):ae!==!!E.multiple&&(E.defaultValue!=null?ve(y,!!E.multiple,E.defaultValue,!0):ve(y,!!E.multiple,E.multiple?[]:"",!1))}y[Mo]=E}catch(be){Vt(t,t.return,be)}}break;case 6:if(br(i,t),zr(t),h&4){if(t.stateNode===null)throw Error(c(162));y=t.stateNode,E=t.memoizedProps;try{y.nodeValue=E}catch(be){Vt(t,t.return,be)}}break;case 3:if(br(i,t),zr(t),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ar(i.containerInfo)}catch(be){Vt(t,t.return,be)}break;case 4:br(i,t),zr(t);break;case 13:br(i,t),zr(t),y=t.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Ru=mt())),h&4&&$1(t);break;case 22:if(ue=l!==null&&l.memoizedState!==null,t.mode&1?(Rn=(ee=Rn)||ue,br(i,t),Rn=ee):br(i,t),zr(t),h&8192){if(ee=t.memoizedState!==null,(t.stateNode.isHidden=ee)&&!ue&&(t.mode&1)!==0)for(Ie=t,ue=t.child;ue!==null;){for(ce=Ie=ue;Ie!==null;){switch(ae=Ie,Ae=ae.child,ae.tag){case 0:case 11:case 14:case 15:Uo(4,ae,ae.return);break;case 1:Xs(ae,ae.return);var Te=ae.stateNode;if(typeof Te.componentWillUnmount=="function"){h=ae,l=ae.return;try{i=h,Te.props=i.memoizedProps,Te.state=i.memoizedState,Te.componentWillUnmount()}catch(be){Vt(h,l,be)}}break;case 5:Xs(ae,ae.return);break;case 22:if(ae.memoizedState!==null){n0(ce);continue}}Ae!==null?(Ae.return=ae,Ie=Ae):n0(ce)}ue=ue.sibling}e:for(ue=null,ce=t;;){if(ce.tag===5){if(ue===null){ue=ce;try{y=ce.stateNode,ee?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(L=ce.stateNode,F=ce.memoizedProps.style,M=F!=null&&F.hasOwnProperty("display")?F.display:null,L.style.display=Bt("display",M))}catch(be){Vt(t,t.return,be)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(be){Vt(t,t.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===t)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===t)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===t)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:br(i,t),zr(t),h&4&&$1(t);break;case 21:break;default:br(i,t),zr(t)}}function zr(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if(Z1(l)){var h=l;break e}l=l.return}throw Error(c(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(pi(y,""),h.flags&=-33);var E=K1(t);bu(t,E,y);break;case 3:case 4:var M=h.stateNode.containerInfo,L=K1(t);Tu(t,L,M);break;default:throw Error(c(161))}}catch(F){Vt(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Nd(t,i,l){Ie=t,e0(t)}function e0(t,i,l){for(var h=(t.mode&1)!==0;Ie!==null;){var y=Ie,E=y.child;if(y.tag===22&&h){var M=y.memoizedState!==null||Wa;if(!M){var L=y.alternate,F=L!==null&&L.memoizedState!==null||Rn;L=Wa;var ee=Rn;if(Wa=M,(Rn=F)&&!ee)for(Ie=y;Ie!==null;)M=Ie,F=M.child,M.tag===22&&M.memoizedState!==null?r0(y):F!==null?(F.return=M,Ie=F):r0(y);for(;E!==null;)Ie=E,e0(E),E=E.sibling;Ie=y,Wa=L,Rn=ee}t0(t)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Ie=E):t0(t)}}function t0(t){for(;Ie!==null;){var i=Ie;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Rn||Ga(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Rn)if(l===null)h.componentDidMount();else{var y=i.elementType===i.type?l.memoizedProps:Nr(i.type,l.memoizedProps);h.componentDidUpdate(y,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&n1(i,E,h);break;case 3:var M=i.updateQueue;if(M!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}n1(i,M,l)}break;case 5:var L=i.stateNode;if(l===null&&i.flags&4){l=L;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&Ar(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}Rn||i.flags&512&&Nu(i)}catch(ae){Vt(i,i.return,ae)}}if(i===t){Ie=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ie=l;break}Ie=i.return}}function n0(t){for(;Ie!==null;){var i=Ie;if(i===t){Ie=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ie=l;break}Ie=i.return}}function r0(t){for(;Ie!==null;){var i=Ie;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ga(4,i)}catch(F){Vt(i,l,F)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var y=i.return;try{h.componentDidMount()}catch(F){Vt(i,y,F)}}var E=i.return;try{Nu(i)}catch(F){Vt(i,E,F)}break;case 5:var M=i.return;try{Nu(i)}catch(F){Vt(i,M,F)}}}catch(F){Vt(i,i.return,F)}if(i===t){Ie=null;break}var L=i.sibling;if(L!==null){L.return=i.return,Ie=L;break}Ie=i.return}}var Td=Math.ceil,Ya=pe.ReactCurrentDispatcher,Mu=pe.ReactCurrentOwner,wr=pe.ReactCurrentBatchConfig,ct=0,pn=null,Jt=null,An=0,ir=0,Qs=Mi(0),cn=0,zo=null,hs=0,Xa=0,_u=0,Ho=null,Vn=null,Ru=0,Zs=1/0,si=null,Qa=!1,Ou=null,Li=null,Za=!1,Bi=null,Ka=0,Vo=0,Du=null,qa=-1,$a=0;function kn(){return(ct&6)!==0?mt():qa!==-1?qa:qa=mt()}function Pi(t){return(t.mode&1)===0?1:(ct&2)!==0&&An!==0?An&-An:cd.transition!==null?($a===0&&($a=sn()),$a):(t=qe,t!==0||(t=window.event,t=t===void 0?16:xo(t.type)),t)}function Mr(t,i,l,h){if(50<Vo)throw Vo=0,Du=null,Error(c(185));D(t,l,h),((ct&2)===0||t!==pn)&&(t===pn&&((ct&2)===0&&(Xa|=l),cn===4&&Fi(t,An)),Wn(t,h),l===1&&ct===0&&(i.mode&1)===0&&(Zs=mt()+500,Na&&Ri()))}function Wn(t,i){var l=t.callbackNode;yi(t,i);var h=$n(t,t===pn?An:0);if(h===0)l!==null&&dn(l),t.callbackNode=null,t.callbackPriority=0;else if(i=h&-h,t.callbackPriority!==i){if(l!=null&&dn(l),i===1)t.tag===0?ud(s0.bind(null,t)):Wc(s0.bind(null,t)),sd(function(){(ct&6)===0&&Ri()}),l=null;else{switch(aa(h)){case 1:l=se;break;case 4:l=sa;break;case 16:l=St;break;case 536870912:l=oa;break;default:l=St}l=h0(l,i0.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function i0(t,i){if(qa=-1,$a=0,(ct&6)!==0)throw Error(c(327));var l=t.callbackNode;if(Ks()&&t.callbackNode!==l)return null;var h=$n(t,t===pn?An:0);if(h===0)return null;if((h&30)!==0||(h&t.expiredLanes)!==0||i)i=Ja(t,h);else{i=h;var y=ct;ct|=2;var E=a0();(pn!==t||An!==i)&&(si=null,Zs=mt()+500,ps(t,i));do try{_d();break}catch(L){o0(t,L)}while(!0);ql(),Ya.current=E,ct=y,Jt!==null?i=0:(pn=null,An=0,i=cn)}if(i!==0){if(i===2&&(y=yt(t),y!==0&&(h=y,i=ku(t,y))),i===1)throw l=zo,ps(t,0),Fi(t,h),Wn(t,mt()),l;if(i===6)Fi(t,h);else{if(y=t.current.alternate,(h&30)===0&&!bd(y)&&(i=Ja(t,h),i===2&&(E=yt(t),E!==0&&(h=E,i=ku(t,E))),i===1))throw l=zo,ps(t,0),Fi(t,h),Wn(t,mt()),l;switch(t.finishedWork=y,t.finishedLanes=h,i){case 0:case 1:throw Error(c(345));case 2:xs(t,Vn,si);break;case 3:if(Fi(t,h),(h&130023424)===h&&(i=Ru+500-mt(),10<i)){if($n(t,0)!==0)break;if(y=t.suspendedLanes,(y&h)!==h){kn(),t.pingedLanes|=t.suspendedLanes&y;break}t.timeoutHandle=Ul(xs.bind(null,t,Vn,si),i);break}xs(t,Vn,si);break;case 4:if(Fi(t,h),(h&4194240)===h)break;for(i=t.eventTimes,y=-1;0<h;){var M=31-On(h);E=1<<M,M=i[M],M>y&&(y=M),h&=~E}if(h=y,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Td(h/1960))-h,10<h){t.timeoutHandle=Ul(xs.bind(null,t,Vn,si),h);break}xs(t,Vn,si);break;case 5:xs(t,Vn,si);break;default:throw Error(c(329))}}}return Wn(t,mt()),t.callbackNode===l?i0.bind(null,t):null}function ku(t,i){var l=Ho;return t.current.memoizedState.isDehydrated&&(ps(t,i).flags|=256),t=Ja(t,i),t!==2&&(i=Vn,Vn=l,i!==null&&Lu(i)),t}function Lu(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function bd(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var y=l[h],E=y.getSnapshot;y=y.value;try{if(!H(E(),y))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(t,i){for(i&=~_u,i&=~Xa,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-On(i),h=1<<l;t[l]=-1,i&=~h}}function s0(t){if((ct&6)!==0)throw Error(c(327));Ks();var i=$n(t,0);if((i&1)===0)return Wn(t,mt()),null;var l=Ja(t,i);if(t.tag!==0&&l===2){var h=yt(t);h!==0&&(i=h,l=ku(t,h))}if(l===1)throw l=zo,ps(t,0),Fi(t,i),Wn(t,mt()),l;if(l===6)throw Error(c(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,xs(t,Vn,si),Wn(t,mt()),null}function Bu(t,i){var l=ct;ct|=1;try{return t(i)}finally{ct=l,ct===0&&(Zs=mt()+500,Na&&Ri())}}function gs(t){Bi!==null&&Bi.tag===0&&(ct&6)===0&&Ks();var i=ct;ct|=1;var l=wr.transition,h=qe;try{if(wr.transition=null,qe=1,t)return t()}finally{qe=h,wr.transition=l,ct=i,(ct&6)===0&&Ri()}}function Pu(){ir=Qs.current,Ot(Qs)}function ps(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,id(l)),Jt!==null)for(l=Jt.return;l!==null;){var h=l;switch(Yl(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Sa();break;case 3:Gs(),Ot(Un),Ot(bn),su();break;case 5:ru(h);break;case 4:Gs();break;case 13:Ot(Ft);break;case 19:Ot(Ft);break;case 10:$l(h.type._context);break;case 22:case 23:Pu()}l=l.return}if(pn=t,Jt=t=ji(t.current,null),An=ir=i,cn=0,zo=null,_u=Xa=hs=0,Vn=Ho=null,cs!==null){for(i=0;i<cs.length;i++)if(l=cs[i],h=l.interleaved,h!==null){l.interleaved=null;var y=h.next,E=l.pending;if(E!==null){var M=E.next;E.next=y,h.next=M}l.pending=h}cs=null}return t}function o0(t,i){do{var l=Jt;try{if(ql(),Ba.current=Ua,Pa){for(var h=jt.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}Pa=!1}if(ds=0,gn=un=jt=null,Lo=!1,Bo=0,Mu.current=null,l===null||l.return===null){cn=1,zo=i,Jt=null;break}e:{var E=t,M=l.return,L=l,F=i;if(i=An,L.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var ee=F,ue=L,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ae=R1(M);if(Ae!==null){Ae.flags&=-257,O1(Ae,M,L,E,i),Ae.mode&1&&_1(E,ee,i),i=Ae,F=ee;var Te=i.updateQueue;if(Te===null){var be=new Set;be.add(F),i.updateQueue=be}else Te.add(F);break e}else{if((i&1)===0){_1(E,ee,i),Fu();break e}F=Error(c(426))}}else if(Lt&&L.mode&1){var qt=R1(M);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),O1(qt,M,L,E,i),Zl(Ys(F,L));break e}}E=F=Ys(F,L),cn!==4&&(cn=2),Ho===null?Ho=[E]:Ho.push(E),E=M;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var Y=b1(E,F,i);t1(E,Y);break e;case 1:L=F;var U=E.type,Z=E.stateNode;if((E.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Li===null||!Li.has(Z)))){E.flags|=65536,i&=-i,E.lanes|=i;var ge=M1(E,L,i);t1(E,ge);break e}}E=E.return}while(E!==null)}u0(l)}catch(Re){i=Re,Jt===l&&l!==null&&(Jt=l=l.return);continue}break}while(!0)}function a0(){var t=Ya.current;return Ya.current=Ua,t===null?Ua:t}function Fu(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||(hs&268435455)===0&&(Xa&268435455)===0||Fi(pn,An)}function Ja(t,i){var l=ct;ct|=2;var h=a0();(pn!==t||An!==i)&&(si=null,ps(t,i));do try{Md();break}catch(y){o0(t,y)}while(!0);if(ql(),ct=l,Ya.current=h,Jt!==null)throw Error(c(261));return pn=null,An=0,cn}function Md(){for(;Jt!==null;)l0(Jt)}function _d(){for(;Jt!==null&&!Tt();)l0(Jt)}function l0(t){var i=d0(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?u0(t):Jt=i,Mu.current=null}function u0(t){var i=t;do{var l=i.alternate;if(t=i.return,(i.flags&32768)===0){if(l=Ad(l,i,ir),l!==null){Jt=l;return}}else{if(l=vd(l,i),l!==null){l.flags&=32767,Jt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,Jt=null;return}}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=t}while(i!==null);cn===0&&(cn=5)}function xs(t,i,l){var h=qe,y=wr.transition;try{wr.transition=null,qe=1,Rd(t,i,l,h)}finally{wr.transition=y,qe=h}return null}function Rd(t,i,l,h){do Ks();while(Bi!==null);if((ct&6)!==0)throw Error(c(327));l=t.finishedWork;var y=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(c(177));t.callbackNode=null,t.callbackPriority=0;var E=l.lanes|l.childLanes;if(Oe(t,E),t===pn&&(Jt=pn=null,An=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Za||(Za=!0,h0(St,function(){return Ks(),null})),E=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||E){E=wr.transition,wr.transition=null;var M=qe;qe=1;var L=ct;ct|=4,Mu.current=null,Id(t,l),J1(l,t),Tn(Fl),Br=!!Pl,Fl=Pl=null,t.current=l,Nd(l),ia(),ct=L,qe=M,wr.transition=E}else t.current=l;if(Za&&(Za=!1,Bi=t,Ka=y),E=t.pendingLanes,E===0&&(Li=null),rt(l.stateNode),Wn(t,mt()),i!==null)for(h=t.onRecoverableError,l=0;l<i.length;l++)y=i[l],h(y.value,{componentStack:y.stack,digest:y.digest});if(Qa)throw Qa=!1,t=Ou,Ou=null,t;return(Ka&1)!==0&&t.tag!==0&&Ks(),E=t.pendingLanes,(E&1)!==0?t===Du?Vo++:(Vo=0,Du=t):Vo=0,Ri(),null}function Ks(){if(Bi!==null){var t=aa(Ka),i=wr.transition,l=qe;try{if(wr.transition=null,qe=16>t?16:t,Bi===null)var h=!1;else{if(t=Bi,Bi=null,Ka=0,(ct&6)!==0)throw Error(c(331));var y=ct;for(ct|=4,Ie=t.current;Ie!==null;){var E=Ie,M=E.child;if((Ie.flags&16)!==0){var L=E.deletions;if(L!==null){for(var F=0;F<L.length;F++){var ee=L[F];for(Ie=ee;Ie!==null;){var ue=Ie;switch(ue.tag){case 0:case 11:case 15:Uo(8,ue,E)}var ce=ue.child;if(ce!==null)ce.return=ue,Ie=ce;else for(;Ie!==null;){ue=Ie;var ae=ue.sibling,Ae=ue.return;if(Q1(ue),ue===ee){Ie=null;break}if(ae!==null){ae.return=Ae,Ie=ae;break}Ie=Ae}}}var Te=E.alternate;if(Te!==null){var be=Te.child;if(be!==null){Te.child=null;do{var qt=be.sibling;be.sibling=null,be=qt}while(be!==null)}}Ie=E}}if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,Ie=M;else e:for(;Ie!==null;){if(E=Ie,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Uo(9,E,E.return)}var Y=E.sibling;if(Y!==null){Y.return=E.return,Ie=Y;break e}Ie=E.return}}var U=t.current;for(Ie=U;Ie!==null;){M=Ie;var Z=M.child;if((M.subtreeFlags&2064)!==0&&Z!==null)Z.return=M,Ie=Z;else e:for(M=U;Ie!==null;){if(L=Ie,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ga(9,L)}}catch(Re){Vt(L,L.return,Re)}if(L===M){Ie=null;break e}var ge=L.sibling;if(ge!==null){ge.return=L.return,Ie=ge;break e}Ie=L.return}}if(ct=y,Ri(),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(lt,t)}catch{}h=!0}return h}finally{qe=l,wr.transition=i}}return!1}function c0(t,i,l){i=Ys(l,i),i=b1(t,i,1),t=Di(t,i,1),i=kn(),t!==null&&(D(t,1,i),Wn(t,i))}function Vt(t,i,l){if(t.tag===3)c0(t,t,l);else for(;i!==null;){if(i.tag===3){c0(i,t,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Li===null||!Li.has(h))){t=Ys(l,t),t=M1(i,t,1),i=Di(i,t,1),t=kn(),i!==null&&(D(i,1,t),Wn(i,t));break}}i=i.return}}function Od(t,i,l){var h=t.pingCache;h!==null&&h.delete(i),i=kn(),t.pingedLanes|=t.suspendedLanes&l,pn===t&&(An&l)===l&&(cn===4||cn===3&&(An&130023424)===An&&500>mt()-Ru?ps(t,0):_u|=l),Wn(t,i)}function f0(t,i){i===0&&((t.mode&1)===0?i=1:(i=Ns,Ns<<=1,(Ns&130023424)===0&&(Ns=4194304)));var l=kn();t=ni(t,i),t!==null&&(D(t,i,l),Wn(t,l))}function Dd(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),f0(t,l)}function kd(t,i){var l=0;switch(t.tag){case 13:var h=t.stateNode,y=t.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=t.stateNode;break;default:throw Error(c(314))}h!==null&&h.delete(i),f0(t,l)}var d0;d0=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||Un.current)Hn=!0;else{if((t.lanes&l)===0&&(i.flags&128)===0)return Hn=!1,Ed(t,i,l);Hn=(t.flags&131072)!==0}else Hn=!1,Lt&&(i.flags&1048576)!==0&&Gc(i,ba,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Va(t,i),t=i.pendingProps;var y=Fs(i,bn.current);Ws(i,l),y=lu(null,i,h,t,y,l);var E=uu();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,zn(h)?(E=!0,Ia(i)):E=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,tu(i),y.updater=za,i.stateNode=y,y._reactInternals=i,pu(i,h,t,l),i=wu(null,i,h,!0,E,l)):(i.tag=0,Lt&&E&&Gl(i),Dn(null,i,y,l),i=i.child),i;case 16:h=i.elementType;e:{switch(Va(t,i),t=i.pendingProps,y=h._init,h=y(h._payload),i.type=h,y=i.tag=Bd(h),t=Nr(h,t),y){case 0:i=yu(null,i,h,t,l);break e;case 1:i=F1(null,i,h,t,l);break e;case 11:i=D1(null,i,h,t,l);break e;case 14:i=k1(null,i,h,Nr(h.type,t),l);break e}throw Error(c(306,h,""))}return i;case 0:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:Nr(h,y),yu(t,i,h,y,l);case 1:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:Nr(h,y),F1(t,i,h,y,l);case 3:e:{if(j1(i),t===null)throw Error(c(387));h=i.pendingProps,E=i.memoizedState,y=E.element,e1(t,i),ka(i,h,null,l);var M=i.memoizedState;if(h=M.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){y=Ys(Error(c(423)),i),i=U1(t,i,h,l,y);break e}else if(h!==y){y=Ys(Error(c(424)),i),i=U1(t,i,h,l,y);break e}else for(rr=bi(i.stateNode.containerInfo.firstChild),nr=i,Lt=!0,Ir=null,l=$c(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(zs(),h===y){i=ii(t,i,l);break e}Dn(t,i,h,l)}i=i.child}return i;case 5:return r1(i),t===null&&Ql(i),h=i.type,y=i.pendingProps,E=t!==null?t.memoizedProps:null,M=y.children,jl(h,y)?M=null:E!==null&&jl(h,E)&&(i.flags|=32),P1(t,i),Dn(t,i,M,l),i.child;case 6:return t===null&&Ql(i),null;case 13:return z1(t,i,l);case 4:return nu(i,i.stateNode.containerInfo),h=i.pendingProps,t===null?i.child=Hs(i,null,h,l):Dn(t,i,h,l),i.child;case 11:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:Nr(h,y),D1(t,i,h,y,l);case 7:return Dn(t,i,i.pendingProps,l),i.child;case 8:return Dn(t,i,i.pendingProps.children,l),i.child;case 12:return Dn(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,y=i.pendingProps,E=i.memoizedProps,M=y.value,_t(Ra,h._currentValue),h._currentValue=M,E!==null)if(H(E.value,M)){if(E.children===y.children&&!Un.current){i=ii(t,i,l);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var L=E.dependencies;if(L!==null){M=E.child;for(var F=L.firstContext;F!==null;){if(F.context===h){if(E.tag===1){F=ri(-1,l&-l),F.tag=2;var ee=E.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?F.next=F:(F.next=ue.next,ue.next=F),ee.pending=F}}E.lanes|=l,F=E.alternate,F!==null&&(F.lanes|=l),Jl(E.return,l,i),L.lanes|=l;break}F=F.next}}else if(E.tag===10)M=E.type===i.type?null:E.child;else if(E.tag===18){if(M=E.return,M===null)throw Error(c(341));M.lanes|=l,L=M.alternate,L!==null&&(L.lanes|=l),Jl(M,l,i),M=E.sibling}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===i){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}Dn(t,i,y.children,l),i=i.child}return i;case 9:return y=i.type,h=i.pendingProps.children,Ws(i,l),y=mr(y),h=h(y),i.flags|=1,Dn(t,i,h,l),i.child;case 14:return h=i.type,y=Nr(h,i.pendingProps),y=Nr(h.type,y),k1(t,i,h,y,l);case 15:return L1(t,i,i.type,i.pendingProps,l);case 17:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:Nr(h,y),Va(t,i),i.tag=1,zn(h)?(t=!0,Ia(i)):t=!1,Ws(i,l),N1(i,h,y),pu(i,h,y,l),wu(null,i,h,!0,t,l);case 19:return V1(t,i,l);case 22:return B1(t,i,l)}throw Error(c(156,i.tag))};function h0(t,i){return Kn(t,i)}function Ld(t,i,l,h){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,i,l,h){return new Ld(t,i,l,h)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bd(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Me)return 11;if(t===q)return 14}return 2}function ji(t,i){var l=t.alternate;return l===null?(l=Cr(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function el(t,i,l,h,y,E){var M=2;if(h=t,typeof t=="function")ju(t)&&(M=1);else if(typeof t=="string")M=5;else e:switch(t){case oe:return ms(l.children,y,E,i);case Le:M=8,y|=8;break;case ie:return t=Cr(12,l,i,y|2),t.elementType=ie,t.lanes=E,t;case We:return t=Cr(13,l,i,y),t.elementType=We,t.lanes=E,t;case _e:return t=Cr(19,l,i,y),t.elementType=_e,t.lanes=E,t;case Ce:return tl(l,y,E,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gt:M=10;break e;case $e:M=9;break e;case Me:M=11;break e;case q:M=14;break e;case Ze:M=16,h=null;break e}throw Error(c(130,t==null?t:typeof t,""))}return i=Cr(M,l,i,y),i.elementType=t,i.type=h,i.lanes=E,i}function ms(t,i,l,h){return t=Cr(7,t,h,i),t.lanes=l,t}function tl(t,i,l,h){return t=Cr(22,t,h,i),t.elementType=Ce,t.lanes=l,t.stateNode={isHidden:!1},t}function Uu(t,i,l){return t=Cr(6,t,null,i),t.lanes=l,t}function zu(t,i,l){return i=Cr(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Pd(t,i,l,h,y){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G(0),this.expirationTimes=G(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Hu(t,i,l,h,y,E,M,L,F){return t=new Pd(t,i,l,L,F),i===1?(i=1,E===!0&&(i|=8)):i=0,E=Cr(3,null,null,i),t.current=E,E.stateNode=t,E.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(E),t}function Fd(t,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:h==null?null:""+h,children:t,containerInfo:i,implementation:l}}function g0(t){if(!t)return _i;t=t._reactInternals;e:{if(jn(t)!==t||t.tag!==1)throw Error(c(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(zn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(c(171))}if(t.tag===1){var l=t.type;if(zn(l))return Hc(t,l,i)}return i}function p0(t,i,l,h,y,E,M,L,F){return t=Hu(l,h,!0,t,y,E,M,L,F),t.context=g0(null),l=t.current,h=kn(),y=Pi(l),E=ri(h,y),E.callback=i??null,Di(l,E,y),t.current.lanes=y,D(t,y,h),Wn(t,h),t}function nl(t,i,l,h){var y=i.current,E=kn(),M=Pi(y);return l=g0(l),i.context===null?i.context=l:i.pendingContext=l,i=ri(E,M),i.payload={element:t},h=h===void 0?null:h,h!==null&&(i.callback=h),t=Di(y,i,M),t!==null&&(Mr(t,y,M,E),Da(t,y,M)),M}function rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Vu(t,i){x0(t,i),(t=t.alternate)&&x0(t,i)}function jd(){return null}var m0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}il.prototype.render=Wu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(c(409));nl(t,i,null,null)},il.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;gs(function(){nl(null,t,null,null)}),i[$r]=null}};function il(t){this._internalRoot=t}il.prototype.unstable_scheduleHydration=function(t){if(t){var i=bt();t={blockedOn:null,target:t,priority:i};for(var l=0;l<yn.length&&i!==0&&i<yn[l].priority;l++);yn.splice(l,0,t),l===0&&ua(t)}};function Gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y0(){}function Ud(t,i,l,h,y){if(y){if(typeof h=="function"){var E=h;h=function(){var ee=rl(M);E.call(ee)}}var M=p0(i,h,t,0,null,!1,!1,"",y0);return t._reactRootContainer=M,t[$r]=M.current,To(t.nodeType===8?t.parentNode:t),gs(),M}for(;y=t.lastChild;)t.removeChild(y);if(typeof h=="function"){var L=h;h=function(){var ee=rl(F);L.call(ee)}}var F=Hu(t,0,!1,null,null,!1,!1,"",y0);return t._reactRootContainer=F,t[$r]=F.current,To(t.nodeType===8?t.parentNode:t),gs(function(){nl(i,F,l,h)}),F}function ol(t,i,l,h,y){var E=l._reactRootContainer;if(E){var M=E;if(typeof y=="function"){var L=y;y=function(){var F=rl(M);L.call(F)}}nl(i,M,t,y)}else M=Ud(l,i,t,y,h);return rl(M)}Ts=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=It(i.pendingLanes);l!==0&&(zt(i,l|1),Wn(i,mt()),(ct&6)===0&&(Zs=mt()+500,Ri()))}break;case 13:gs(function(){var h=ni(t,1);if(h!==null){var y=kn();Mr(h,t,1,y)}}),Vu(t,1)}},Nn=function(t){if(t.tag===13){var i=ni(t,134217728);if(i!==null){var l=kn();Mr(i,t,134217728,l)}Vu(t,134217728)}},ke=function(t){if(t.tag===13){var i=Pi(t),l=ni(t,i);if(l!==null){var h=kn();Mr(l,t,i,h)}Vu(t,i)}},bt=function(){return qe},ho=function(t,i){var l=qe;try{return qe=t,i()}finally{qe=l}},Ss=function(t,i,l){switch(i){case"input":if(Yt(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==t&&h.form===t.form){var y=va(h);if(!y)throw Error(c(90));Yi(h),Yt(h,y)}}}break;case"textarea":ur(t,l);break;case"select":i=l.value,i!=null&&ve(t,!!l.multiple,i,!1)}},Is=Bu,rn=gs;var zd={usingClientEntryPoint:!1,Events:[_o,Bs,va,so,Fn,Bu]},Wo={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hd={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=na(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||jd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{lt=al.inject(Hd),Ke=al}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zd,Gn.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(i))throw Error(c(200));return Fd(t,i,null,l)},Gn.createRoot=function(t,i){if(!Gu(t))throw Error(c(299));var l=!1,h="",y=m0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Hu(t,1,!1,null,null,l,!1,h,y),t[$r]=i.current,To(t.nodeType===8?t.parentNode:t),new Wu(i)},Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=na(i),t=t===null?null:t.stateNode,t},Gn.flushSync=function(t){return gs(t)},Gn.hydrate=function(t,i,l){if(!sl(i))throw Error(c(200));return ol(null,t,i,!0,l)},Gn.hydrateRoot=function(t,i,l){if(!Gu(t))throw Error(c(405));var h=l!=null&&l.hydratedSources||null,y=!1,E="",M=m0;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(E=l.identifierPrefix),l.onRecoverableError!==void 0&&(M=l.onRecoverableError)),i=p0(i,null,t,1,l??null,y,!1,E,M),t[$r]=i.current,To(t),h)for(t=0;t<h.length;t++)l=h[t],y=l._getVersion,y=y(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,y]:i.mutableSourceEagerHydrationData.push(l,y);return new il(i)},Gn.render=function(t,i,l){if(!sl(i))throw Error(c(200));return ol(null,t,i,!1,l)},Gn.unmountComponentAtNode=function(t){if(!sl(t))throw Error(c(40));return t._reactRootContainer?(gs(function(){ol(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1},Gn.unstable_batchedUpdates=Bu,Gn.unstable_renderSubtreeIntoContainer=function(t,i,l,h){if(!sl(l))throw Error(c(200));if(t==null||t._reactInternals===void 0)throw Error(c(38));return ol(t,i,l,!1,h)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var N0;function qd(){if(N0)return Qu.exports;N0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(d){console.error(d)}}return u(),Qu.exports=Kd(),Qu.exports}var T0;function $d(){if(T0)return ul;T0=1;var u=qd();return ul.createRoot=u.createRoot,ul.hydrateRoot=u.hydrateRoot,ul}var Jd=$d();const eh=yc(Jd);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b0="popstate";function th(u={}){function d(m,w){let{pathname:p,search:I,hash:O}=m.location;return rc("",{pathname:p,search:I,hash:O},w.state&&w.state.usr||null,w.state&&w.state.key||"default")}function c(m,w){return typeof w=="string"?w:Zo(w)}return rh(d,c,null,u)}function Ut(u,d){if(u===!1||u===null||typeof u>"u")throw new Error(d)}function Wr(u,d){if(!u){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function nh(){return Math.random().toString(36).substring(2,10)}function M0(u,d){return{usr:u.state,key:u.key,idx:d}}function rc(u,d,c=null,m){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof d=="string"?eo(d):d,state:c,key:d&&d.key||m||nh()}}function Zo({pathname:u="/",search:d="",hash:c=""}){return d&&d!=="?"&&(u+=d.charAt(0)==="?"?d:"?"+d),c&&c!=="#"&&(u+=c.charAt(0)==="#"?c:"#"+c),u}function eo(u){let d={};if(u){let c=u.indexOf("#");c>=0&&(d.hash=u.substring(c),u=u.substring(0,c));let m=u.indexOf("?");m>=0&&(d.search=u.substring(m),u=u.substring(0,m)),u&&(d.pathname=u)}return d}function rh(u,d,c,m={}){let{window:w=document.defaultView,v5Compat:p=!1}=m,I=w.history,O="POP",v=null,C=b();C==null&&(C=0,I.replaceState({...I.state,idx:C},""));function b(){return(I.state||{idx:null}).idx}function _(){O="POP";let Q=b(),ne=Q==null?null:Q-C;C=Q,v&&v({action:O,location:X.location,delta:ne})}function B(Q,ne){O="PUSH";let he=rc(X.location,Q,ne);C=b()+1;let te=M0(he,C),pe=X.createHref(he);try{I.pushState(te,"",pe)}catch(ze){if(ze instanceof DOMException&&ze.name==="DataCloneError")throw ze;w.location.assign(pe)}p&&v&&v({action:O,location:X.location,delta:1})}function W(Q,ne){O="REPLACE";let he=rc(X.location,Q,ne);C=b();let te=M0(he,C),pe=X.createHref(he);I.replaceState(te,"",pe),p&&v&&v({action:O,location:X.location,delta:0})}function K(Q){return ih(Q)}let X={get action(){return O},get location(){return u(w,I)},listen(Q){if(v)throw new Error("A history only accepts one active listener");return w.addEventListener(b0,_),v=Q,()=>{w.removeEventListener(b0,_),v=null}},createHref(Q){return d(w,Q)},createURL:K,encodeLocation(Q){let ne=K(Q);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:B,replace:W,go(Q){return I.go(Q)}};return X}function ih(u,d=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(c,"No window.location.(origin|href) available to create URL");let m=typeof u=="string"?u:Zo(u);return m=m.replace(/ $/,"%20"),!d&&m.startsWith("//")&&(m=c+m),new URL(m,c)}function of(u,d,c="/"){return sh(u,d,c,!1)}function sh(u,d,c,m){let w=typeof d=="string"?eo(d):d,p=ci(w.pathname||"/",c);if(p==null)return null;let I=af(u);oh(I);let O=null;for(let v=0;O==null&&v<I.length;++v){let C=mh(p);O=ph(I[v],C,m)}return O}function af(u,d=[],c=[],m=""){let w=(p,I,O)=>{let v={relativePath:O===void 0?p.path||"":O,caseSensitive:p.caseSensitive===!0,childrenIndex:I,route:p};v.relativePath.startsWith("/")&&(Ut(v.relativePath.startsWith(m),`Absolute route path "${v.relativePath}" nested under path "${m}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(m.length));let C=li([m,v.relativePath]),b=c.concat(v);p.children&&p.children.length>0&&(Ut(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),af(p.children,d,b,C)),!(p.path==null&&!p.index)&&d.push({path:C,score:hh(C,p.index),routesMeta:b})};return u.forEach((p,I)=>{if(p.path===""||!p.path?.includes("?"))w(p,I);else for(let O of lf(p.path))w(p,I,O)}),d}function lf(u){let d=u.split("/");if(d.length===0)return[];let[c,...m]=d,w=c.endsWith("?"),p=c.replace(/\?$/,"");if(m.length===0)return w?[p,""]:[p];let I=lf(m.join("/")),O=[];return O.push(...I.map(v=>v===""?p:[p,v].join("/"))),w&&O.push(...I),O.map(v=>u.startsWith("/")&&v===""?"/":v)}function oh(u){u.sort((d,c)=>d.score!==c.score?c.score-d.score:gh(d.routesMeta.map(m=>m.childrenIndex),c.routesMeta.map(m=>m.childrenIndex)))}var ah=/^:[\w-]+$/,lh=3,uh=2,ch=1,fh=10,dh=-2,_0=u=>u==="*";function hh(u,d){let c=u.split("/"),m=c.length;return c.some(_0)&&(m+=dh),d&&(m+=uh),c.filter(w=>!_0(w)).reduce((w,p)=>w+(ah.test(p)?lh:p===""?ch:fh),m)}function gh(u,d){return u.length===d.length&&u.slice(0,-1).every((m,w)=>m===d[w])?u[u.length-1]-d[d.length-1]:0}function ph(u,d,c=!1){let{routesMeta:m}=u,w={},p="/",I=[];for(let O=0;O<m.length;++O){let v=m[O],C=O===m.length-1,b=p==="/"?d:d.slice(p.length)||"/",_=xl({path:v.relativePath,caseSensitive:v.caseSensitive,end:C},b),B=v.route;if(!_&&C&&c&&!m[m.length-1].route.index&&(_=xl({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},b)),!_)return null;Object.assign(w,_.params),I.push({params:w,pathname:li([p,_.pathname]),pathnameBase:Eh(li([p,_.pathnameBase])),route:B}),_.pathnameBase!=="/"&&(p=li([p,_.pathnameBase]))}return I}function xl(u,d){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[c,m]=xh(u.path,u.caseSensitive,u.end),w=d.match(c);if(!w)return null;let p=w[0],I=p.replace(/(.)\/+$/,"$1"),O=w.slice(1);return{params:m.reduce((C,{paramName:b,isOptional:_},B)=>{if(b==="*"){let K=O[B]||"";I=p.slice(0,p.length-K.length).replace(/(.)\/+$/,"$1")}const W=O[B];return _&&!W?C[b]=void 0:C[b]=(W||"").replace(/%2F/g,"/"),C},{}),pathname:p,pathnameBase:I,pattern:u}}function xh(u,d=!1,c=!0){Wr(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let m=[],w="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(I,O,v)=>(m.push({paramName:O,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return u.endsWith("*")?(m.push({paramName:"*"}),w+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?w+="\\/*$":u!==""&&u!=="/"&&(w+="(?:(?=\\/|$))"),[new RegExp(w,d?void 0:"i"),m]}function mh(u){try{return u.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return Wr(!1,`The URL path "${u}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),u}}function ci(u,d){if(d==="/")return u;if(!u.toLowerCase().startsWith(d.toLowerCase()))return null;let c=d.endsWith("/")?d.length-1:d.length,m=u.charAt(c);return m&&m!=="/"?null:u.slice(c)||"/"}function yh(u,d="/"){let{pathname:c,search:m="",hash:w=""}=typeof u=="string"?eo(u):u;return{pathname:c?c.startsWith("/")?c:wh(c,d):d,search:Ah(m),hash:vh(w)}}function wh(u,d){let c=d.replace(/\/+$/,"").split("/");return u.split("/").forEach(w=>{w===".."?c.length>1&&c.pop():w!=="."&&c.push(w)}),c.length>1?c.join("/"):"/"}function qu(u,d,c,m){return`Cannot include a '${u}' character in a manually specified \`to.${d}\` field [${JSON.stringify(m)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ch(u){return u.filter((d,c)=>c===0||d.route.path&&d.route.path.length>0)}function uf(u){let d=Ch(u);return d.map((c,m)=>m===d.length-1?c.pathname:c.pathnameBase)}function cf(u,d,c,m=!1){let w;typeof u=="string"?w=eo(u):(w={...u},Ut(!w.pathname||!w.pathname.includes("?"),qu("?","pathname","search",w)),Ut(!w.pathname||!w.pathname.includes("#"),qu("#","pathname","hash",w)),Ut(!w.search||!w.search.includes("#"),qu("#","search","hash",w)));let p=u===""||w.pathname==="",I=p?"/":w.pathname,O;if(I==null)O=c;else{let _=d.length-1;if(!m&&I.startsWith("..")){let B=I.split("/");for(;B[0]==="..";)B.shift(),_-=1;w.pathname=B.join("/")}O=_>=0?d[_]:"/"}let v=yh(w,O),C=I&&I!=="/"&&I.endsWith("/"),b=(p||I===".")&&c.endsWith("/");return!v.pathname.endsWith("/")&&(C||b)&&(v.pathname+="/"),v}var li=u=>u.join("/").replace(/\/\/+/g,"/"),Eh=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),Ah=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,vh=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function Sh(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}var ff=["POST","PUT","PATCH","DELETE"];new Set(ff);var Ih=["GET",...ff];new Set(Ih);var to=z.createContext(null);to.displayName="DataRouter";var El=z.createContext(null);El.displayName="DataRouterState";z.createContext(!1);var df=z.createContext({isTransitioning:!1});df.displayName="ViewTransition";var Nh=z.createContext(new Map);Nh.displayName="Fetchers";var Th=z.createContext(null);Th.displayName="Await";var Gr=z.createContext(null);Gr.displayName="Navigation";var Ko=z.createContext(null);Ko.displayName="Location";var di=z.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Cc=z.createContext(null);Cc.displayName="RouteError";function bh(u,{relative:d}={}){Ut(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:m}=z.useContext(Gr),{hash:w,pathname:p,search:I}=$o(u,{relative:d}),O=p;return c!=="/"&&(O=p==="/"?c:li([c,p])),m.createHref({pathname:O,search:I,hash:w})}function qo(){return z.useContext(Ko)!=null}function Wi(){return Ut(qo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Ko).location}var hf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gf(u){z.useContext(Gr).static||z.useLayoutEffect(u)}function pf(){let{isDataRoute:u}=z.useContext(di);return u?zh():Mh()}function Mh(){Ut(qo(),"useNavigate() may be used only in the context of a <Router> component.");let u=z.useContext(to),{basename:d,navigator:c}=z.useContext(Gr),{matches:m}=z.useContext(di),{pathname:w}=Wi(),p=JSON.stringify(uf(m)),I=z.useRef(!1);return gf(()=>{I.current=!0}),z.useCallback((v,C={})=>{if(Wr(I.current,hf),!I.current)return;if(typeof v=="number"){c.go(v);return}let b=cf(v,JSON.parse(p),w,C.relative==="path");u==null&&d!=="/"&&(b.pathname=b.pathname==="/"?d:li([d,b.pathname])),(C.replace?c.replace:c.push)(b,C.state,C)},[d,c,p,w,u])}z.createContext(null);function $o(u,{relative:d}={}){let{matches:c}=z.useContext(di),{pathname:m}=Wi(),w=JSON.stringify(uf(c));return z.useMemo(()=>cf(u,JSON.parse(w),m,d==="path"),[u,w,m,d])}function _h(u,d){return xf(u,d)}function xf(u,d,c,m){Ut(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=z.useContext(Gr),{matches:p}=z.useContext(di),I=p[p.length-1],O=I?I.params:{},v=I?I.pathname:"/",C=I?I.pathnameBase:"/",b=I&&I.route;{let ne=b&&b.path||"";mf(v,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let _=Wi(),B;if(d){let ne=typeof d=="string"?eo(d):d;Ut(C==="/"||ne.pathname?.startsWith(C),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${C}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),B=ne}else B=_;let W=B.pathname||"/",K=W;if(C!=="/"){let ne=C.replace(/^\//,"").split("/");K="/"+W.replace(/^\//,"").split("/").slice(ne.length).join("/")}let X=of(u,{pathname:K});Wr(b||X!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),Wr(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Lh(X&&X.map(ne=>Object.assign({},ne,{params:Object.assign({},O,ne.params),pathname:li([C,w.encodeLocation?w.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?C:li([C,w.encodeLocation?w.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),p,c,m);return d&&Q?z.createElement(Ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},Q):Q}function Rh(){let u=Uh(),d=Sh(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),c=u instanceof Error?u.stack:null,m="rgba(200,200,200, 0.5)",w={padding:"0.5rem",backgroundColor:m},p={padding:"2px 4px",backgroundColor:m},I=null;return console.error("Error handled by React Router default ErrorBoundary:",u),I=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:p},"ErrorBoundary")," or"," ",z.createElement("code",{style:p},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},d),c?z.createElement("pre",{style:w},c):null,I)}var Oh=z.createElement(Rh,null),Dh=class extends z.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,d){return d.location!==u.location||d.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:d.error,location:d.location,revalidation:u.revalidation||d.revalidation}}componentDidCatch(u,d){console.error("React Router caught the following error during render",u,d)}render(){return this.state.error!==void 0?z.createElement(di.Provider,{value:this.props.routeContext},z.createElement(Cc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kh({routeContext:u,match:d,children:c}){let m=z.useContext(to);return m&&m.static&&m.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=d.route.id),z.createElement(di.Provider,{value:u},c)}function Lh(u,d=[],c=null,m=null){if(u==null){if(!c)return null;if(c.errors)u=c.matches;else if(d.length===0&&!c.initialized&&c.matches.length>0)u=c.matches;else return null}let w=u,p=c?.errors;if(p!=null){let v=w.findIndex(C=>C.route.id&&p?.[C.route.id]!==void 0);Ut(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),w=w.slice(0,Math.min(w.length,v+1))}let I=!1,O=-1;if(c)for(let v=0;v<w.length;v++){let C=w[v];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(O=v),C.route.id){let{loaderData:b,errors:_}=c,B=C.route.loader&&!b.hasOwnProperty(C.route.id)&&(!_||_[C.route.id]===void 0);if(C.route.lazy||B){I=!0,O>=0?w=w.slice(0,O+1):w=[w[0]];break}}}return w.reduceRight((v,C,b)=>{let _,B=!1,W=null,K=null;c&&(_=p&&C.route.id?p[C.route.id]:void 0,W=C.route.errorElement||Oh,I&&(O<0&&b===0?(mf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,K=null):O===b&&(B=!0,K=C.route.hydrateFallbackElement||null)));let X=d.concat(w.slice(0,b+1)),Q=()=>{let ne;return _?ne=W:B?ne=K:C.route.Component?ne=z.createElement(C.route.Component,null):C.route.element?ne=C.route.element:ne=v,z.createElement(kh,{match:C,routeContext:{outlet:v,matches:X,isDataRoute:c!=null},children:ne})};return c&&(C.route.ErrorBoundary||C.route.errorElement||b===0)?z.createElement(Dh,{location:c.location,revalidation:c.revalidation,component:W,error:_,children:Q(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):Q()},null)}function Ec(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bh(u){let d=z.useContext(to);return Ut(d,Ec(u)),d}function Ph(u){let d=z.useContext(El);return Ut(d,Ec(u)),d}function Fh(u){let d=z.useContext(di);return Ut(d,Ec(u)),d}function Ac(u){let d=Fh(u),c=d.matches[d.matches.length-1];return Ut(c.route.id,`${u} can only be used on routes that contain a unique "id"`),c.route.id}function jh(){return Ac("useRouteId")}function Uh(){let u=z.useContext(Cc),d=Ph("useRouteError"),c=Ac("useRouteError");return u!==void 0?u:d.errors?.[c]}function zh(){let{router:u}=Bh("useNavigate"),d=Ac("useNavigate"),c=z.useRef(!1);return gf(()=>{c.current=!0}),z.useCallback(async(w,p={})=>{Wr(c.current,hf),c.current&&(typeof w=="number"?u.navigate(w):await u.navigate(w,{fromRouteId:d,...p}))},[u,d])}var R0={};function mf(u,d,c){!d&&!R0[u]&&(R0[u]=!0,Wr(!1,c))}z.memo(Hh);function Hh({routes:u,future:d,state:c}){return xf(u,void 0,c,d)}function qs(u){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vh({basename:u="/",children:d=null,location:c,navigationType:m="POP",navigator:w,static:p=!1}){Ut(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let I=u.replace(/^\/*/,"/"),O=z.useMemo(()=>({basename:I,navigator:w,static:p,future:{}}),[I,w,p]);typeof c=="string"&&(c=eo(c));let{pathname:v="/",search:C="",hash:b="",state:_=null,key:B="default"}=c,W=z.useMemo(()=>{let K=ci(v,I);return K==null?null:{location:{pathname:K,search:C,hash:b,state:_,key:B},navigationType:m}},[I,v,C,b,_,B,m]);return Wr(W!=null,`<Router basename="${I}"> is not able to match the URL "${v}${C}${b}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:z.createElement(Gr.Provider,{value:O},z.createElement(Ko.Provider,{children:d,value:W}))}function Wh({children:u,location:d}){return _h(ic(u),d)}function ic(u,d=[]){let c=[];return z.Children.forEach(u,(m,w)=>{if(!z.isValidElement(m))return;let p=[...d,w];if(m.type===z.Fragment){c.push.apply(c,ic(m.props.children,p));return}Ut(m.type===qs,`[${typeof m.type=="string"?m.type:m.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!m.props.index||!m.props.children,"An index route cannot have child routes.");let I={id:m.props.id||p.join("-"),caseSensitive:m.props.caseSensitive,element:m.props.element,Component:m.props.Component,index:m.props.index,path:m.props.path,loader:m.props.loader,action:m.props.action,hydrateFallbackElement:m.props.hydrateFallbackElement,HydrateFallback:m.props.HydrateFallback,errorElement:m.props.errorElement,ErrorBoundary:m.props.ErrorBoundary,hasErrorBoundary:m.props.hasErrorBoundary===!0||m.props.ErrorBoundary!=null||m.props.errorElement!=null,shouldRevalidate:m.props.shouldRevalidate,handle:m.props.handle,lazy:m.props.lazy};m.props.children&&(I.children=ic(m.props.children,p)),c.push(I)}),c}var dl="get",hl="application/x-www-form-urlencoded";function Al(u){return u!=null&&typeof u.tagName=="string"}function Gh(u){return Al(u)&&u.tagName.toLowerCase()==="button"}function Yh(u){return Al(u)&&u.tagName.toLowerCase()==="form"}function Xh(u){return Al(u)&&u.tagName.toLowerCase()==="input"}function Qh(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function Zh(u,d){return u.button===0&&(!d||d==="_self")&&!Qh(u)}var cl=null;function Kh(){if(cl===null)try{new FormData(document.createElement("form"),0),cl=!1}catch{cl=!0}return cl}var qh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $u(u){return u!=null&&!qh.has(u)?(Wr(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):u}function $h(u,d){let c,m,w,p,I;if(Yh(u)){let O=u.getAttribute("action");m=O?ci(O,d):null,c=u.getAttribute("method")||dl,w=$u(u.getAttribute("enctype"))||hl,p=new FormData(u)}else if(Gh(u)||Xh(u)&&(u.type==="submit"||u.type==="image")){let O=u.form;if(O==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=u.getAttribute("formaction")||O.getAttribute("action");if(m=v?ci(v,d):null,c=u.getAttribute("formmethod")||O.getAttribute("method")||dl,w=$u(u.getAttribute("formenctype"))||$u(O.getAttribute("enctype"))||hl,p=new FormData(O,u),!Kh()){let{name:C,type:b,value:_}=u;if(b==="image"){let B=C?`${C}.`:"";p.append(`${B}x`,"0"),p.append(`${B}y`,"0")}else C&&p.append(C,_)}}else{if(Al(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=dl,m=null,w=hl,I=u}return p&&w==="text/plain"&&(I=p,p=void 0),{action:m,method:c.toLowerCase(),encType:w,formData:p,body:I}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vc(u,d){if(u===!1||u===null||typeof u>"u")throw new Error(d)}function Jh(u,d,c){let m=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return m.pathname==="/"?m.pathname=`_root.${c}`:d&&ci(m.pathname,d)==="/"?m.pathname=`${d.replace(/\/$/,"")}/_root.${c}`:m.pathname=`${m.pathname.replace(/\/$/,"")}.${c}`,m}async function eg(u,d){if(u.id in d)return d[u.id];try{let c=await import(u.module);return d[u.id]=c,c}catch(c){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tg(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function ng(u,d,c){let m=await Promise.all(u.map(async w=>{let p=d.routes[w.route.id];if(p){let I=await eg(p,c);return I.links?I.links():[]}return[]}));return og(m.flat(1).filter(tg).filter(w=>w.rel==="stylesheet"||w.rel==="preload").map(w=>w.rel==="stylesheet"?{...w,rel:"prefetch",as:"style"}:{...w,rel:"prefetch"}))}function O0(u,d,c,m,w,p){let I=(v,C)=>c[C]?v.route.id!==c[C].route.id:!0,O=(v,C)=>c[C].pathname!==v.pathname||c[C].route.path?.endsWith("*")&&c[C].params["*"]!==v.params["*"];return p==="assets"?d.filter((v,C)=>I(v,C)||O(v,C)):p==="data"?d.filter((v,C)=>{let b=m.routes[v.route.id];if(!b||!b.hasLoader)return!1;if(I(v,C)||O(v,C))return!0;if(v.route.shouldRevalidate){let _=v.route.shouldRevalidate({currentUrl:new URL(w.pathname+w.search+w.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(u,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function rg(u,d,{includeHydrateFallback:c}={}){return ig(u.map(m=>{let w=d.routes[m.route.id];if(!w)return[];let p=[w.module];return w.clientActionModule&&(p=p.concat(w.clientActionModule)),w.clientLoaderModule&&(p=p.concat(w.clientLoaderModule)),c&&w.hydrateFallbackModule&&(p=p.concat(w.hydrateFallbackModule)),w.imports&&(p=p.concat(w.imports)),p}).flat(1))}function ig(u){return[...new Set(u)]}function sg(u){let d={},c=Object.keys(u).sort();for(let m of c)d[m]=u[m];return d}function og(u,d){let c=new Set;return new Set(d),u.reduce((m,w)=>{let p=JSON.stringify(sg(w));return c.has(p)||(c.add(p),m.push({key:p,link:w})),m},[])}function yf(){let u=z.useContext(to);return vc(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function ag(){let u=z.useContext(El);return vc(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var Sc=z.createContext(void 0);Sc.displayName="FrameworkContext";function wf(){let u=z.useContext(Sc);return vc(u,"You must render this element inside a <HydratedRouter> element"),u}function lg(u,d){let c=z.useContext(Sc),[m,w]=z.useState(!1),[p,I]=z.useState(!1),{onFocus:O,onBlur:v,onMouseEnter:C,onMouseLeave:b,onTouchStart:_}=d,B=z.useRef(null);z.useEffect(()=>{if(u==="render"&&I(!0),u==="viewport"){let X=ne=>{ne.forEach(he=>{I(he.isIntersecting)})},Q=new IntersectionObserver(X,{threshold:.5});return B.current&&Q.observe(B.current),()=>{Q.disconnect()}}},[u]),z.useEffect(()=>{if(m){let X=setTimeout(()=>{I(!0)},100);return()=>{clearTimeout(X)}}},[m]);let W=()=>{w(!0)},K=()=>{w(!1),I(!1)};return c?u!=="intent"?[p,B,{}]:[p,B,{onFocus:Yo(O,W),onBlur:Yo(v,K),onMouseEnter:Yo(C,W),onMouseLeave:Yo(b,K),onTouchStart:Yo(_,W)}]:[!1,B,{}]}function Yo(u,d){return c=>{u&&u(c),c.defaultPrevented||d(c)}}function ug({page:u,...d}){let{router:c}=yf(),m=z.useMemo(()=>of(c.routes,u,c.basename),[c.routes,u,c.basename]);return m?z.createElement(fg,{page:u,matches:m,...d}):null}function cg(u){let{manifest:d,routeModules:c}=wf(),[m,w]=z.useState([]);return z.useEffect(()=>{let p=!1;return ng(u,d,c).then(I=>{p||w(I)}),()=>{p=!0}},[u,d,c]),m}function fg({page:u,matches:d,...c}){let m=Wi(),{manifest:w,routeModules:p}=wf(),{basename:I}=yf(),{loaderData:O,matches:v}=ag(),C=z.useMemo(()=>O0(u,d,v,w,m,"data"),[u,d,v,w,m]),b=z.useMemo(()=>O0(u,d,v,w,m,"assets"),[u,d,v,w,m]),_=z.useMemo(()=>{if(u===m.pathname+m.search+m.hash)return[];let K=new Set,X=!1;if(d.forEach(ne=>{let he=w.routes[ne.route.id];!he||!he.hasLoader||(!C.some(te=>te.route.id===ne.route.id)&&ne.route.id in O&&p[ne.route.id]?.shouldRevalidate||he.hasClientLoader?X=!0:K.add(ne.route.id))}),K.size===0)return[];let Q=Jh(u,I,"data");return X&&K.size>0&&Q.searchParams.set("_routes",d.filter(ne=>K.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[Q.pathname+Q.search]},[I,O,m,w,C,d,u,p]),B=z.useMemo(()=>rg(b,w),[b,w]),W=cg(b);return z.createElement(z.Fragment,null,_.map(K=>z.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...c})),B.map(K=>z.createElement("link",{key:K,rel:"modulepreload",href:K,...c})),W.map(({key:K,link:X})=>z.createElement("link",{key:K,...X})))}function dg(...u){return d=>{u.forEach(c=>{typeof c=="function"?c(d):c!=null&&(c.current=d)})}}var Cf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cf&&(window.__reactRouterVersion="7.7.1")}catch{}function hg({basename:u,children:d,window:c}){let m=z.useRef();m.current==null&&(m.current=th({window:c,v5Compat:!0}));let w=m.current,[p,I]=z.useState({action:w.action,location:w.location}),O=z.useCallback(v=>{z.startTransition(()=>I(v))},[I]);return z.useLayoutEffect(()=>w.listen(O),[w,O]),z.createElement(Vh,{basename:u,children:d,location:p.location,navigationType:p.action,navigator:w})}var Ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=z.forwardRef(function({onClick:d,discover:c="render",prefetch:m="none",relative:w,reloadDocument:p,replace:I,state:O,target:v,to:C,preventScrollReset:b,viewTransition:_,...B},W){let{basename:K}=z.useContext(Gr),X=typeof C=="string"&&Ef.test(C),Q,ne=!1;if(typeof C=="string"&&X&&(Q=C,Cf))try{let ie=new URL(window.location.href),gt=C.startsWith("//")?new URL(ie.protocol+C):new URL(C),$e=ci(gt.pathname,K);gt.origin===ie.origin&&$e!=null?C=$e+gt.search+gt.hash:ne=!0}catch{Wr(!1,`<Link to="${C}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let he=bh(C,{relative:w}),[te,pe,ze]=lg(m,B),De=mg(C,{replace:I,state:O,target:v,preventScrollReset:b,relative:w,viewTransition:_});function oe(ie){d&&d(ie),ie.defaultPrevented||De(ie)}let Le=z.createElement("a",{...B,...ze,href:Q||he,onClick:ne||p?d:oe,ref:dg(W,pe),target:v,"data-discover":!X&&c==="render"?"true":void 0});return te&&!X?z.createElement(z.Fragment,null,Le,z.createElement(ug,{page:he})):Le});ui.displayName="Link";var gg=z.forwardRef(function({"aria-current":d="page",caseSensitive:c=!1,className:m="",end:w=!1,style:p,to:I,viewTransition:O,children:v,...C},b){let _=$o(I,{relative:C.relative}),B=Wi(),W=z.useContext(El),{navigator:K,basename:X}=z.useContext(Gr),Q=W!=null&&Ag(_)&&O===!0,ne=K.encodeLocation?K.encodeLocation(_).pathname:_.pathname,he=B.pathname,te=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;c||(he=he.toLowerCase(),te=te?te.toLowerCase():null,ne=ne.toLowerCase()),te&&X&&(te=ci(te,X)||te);const pe=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ze=he===ne||!w&&he.startsWith(ne)&&he.charAt(pe)==="/",De=te!=null&&(te===ne||!w&&te.startsWith(ne)&&te.charAt(ne.length)==="/"),oe={isActive:ze,isPending:De,isTransitioning:Q},Le=ze?d:void 0,ie;typeof m=="function"?ie=m(oe):ie=[m,ze?"active":null,De?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let gt=typeof p=="function"?p(oe):p;return z.createElement(ui,{...C,"aria-current":Le,className:ie,ref:b,style:gt,to:I,viewTransition:O},typeof v=="function"?v(oe):v)});gg.displayName="NavLink";var pg=z.forwardRef(({discover:u="render",fetcherKey:d,navigate:c,reloadDocument:m,replace:w,state:p,method:I=dl,action:O,onSubmit:v,relative:C,preventScrollReset:b,viewTransition:_,...B},W)=>{let K=Cg(),X=Eg(O,{relative:C}),Q=I.toLowerCase()==="get"?"get":"post",ne=typeof O=="string"&&Ef.test(O),he=te=>{if(v&&v(te),te.defaultPrevented)return;te.preventDefault();let pe=te.nativeEvent.submitter,ze=pe?.getAttribute("formmethod")||I;K(pe||te.currentTarget,{fetcherKey:d,method:ze,navigate:c,replace:w,state:p,relative:C,preventScrollReset:b,viewTransition:_})};return z.createElement("form",{ref:W,method:Q,action:X,onSubmit:m?v:he,...B,"data-discover":!ne&&u==="render"?"true":void 0})});pg.displayName="Form";function xg(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Af(u){let d=z.useContext(to);return Ut(d,xg(u)),d}function mg(u,{target:d,replace:c,state:m,preventScrollReset:w,relative:p,viewTransition:I}={}){let O=pf(),v=Wi(),C=$o(u,{relative:p});return z.useCallback(b=>{if(Zh(b,d)){b.preventDefault();let _=c!==void 0?c:Zo(v)===Zo(C);O(u,{replace:_,state:m,preventScrollReset:w,relative:p,viewTransition:I})}},[v,O,C,c,m,d,u,w,p,I])}var yg=0,wg=()=>`__${String(++yg)}__`;function Cg(){let{router:u}=Af("useSubmit"),{basename:d}=z.useContext(Gr),c=jh();return z.useCallback(async(m,w={})=>{let{action:p,method:I,encType:O,formData:v,body:C}=$h(m,d);if(w.navigate===!1){let b=w.fetcherKey||wg();await u.fetch(b,c,w.action||p,{preventScrollReset:w.preventScrollReset,formData:v,body:C,formMethod:w.method||I,formEncType:w.encType||O,flushSync:w.flushSync})}else await u.navigate(w.action||p,{preventScrollReset:w.preventScrollReset,formData:v,body:C,formMethod:w.method||I,formEncType:w.encType||O,replace:w.replace,state:w.state,fromRouteId:c,flushSync:w.flushSync,viewTransition:w.viewTransition})},[u,d,c])}function Eg(u,{relative:d}={}){let{basename:c}=z.useContext(Gr),m=z.useContext(di);Ut(m,"useFormAction must be used inside a RouteContext");let[w]=m.matches.slice(-1),p={...$o(u||".",{relative:d})},I=Wi();if(u==null){p.search=I.search;let O=new URLSearchParams(p.search),v=O.getAll("index");if(v.some(b=>b==="")){O.delete("index"),v.filter(_=>_).forEach(_=>O.append("index",_));let b=O.toString();p.search=b?`?${b}`:""}}return(!u||u===".")&&w.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:li([c,p.pathname])),Zo(p)}function Ag(u,{relative:d}={}){let c=z.useContext(df);Ut(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:m}=Af("useViewTransitionState"),w=$o(u,{relative:d});if(!c.isTransitioning)return!1;let p=ci(c.currentLocation.pathname,m)||c.currentLocation.pathname,I=ci(c.nextLocation.pathname,m)||c.nextLocation.pathname;return xl(w.pathname,I)!=null||xl(w.pathname,p)!=null}let vg={data:""},Sg=u=>typeof window=="object"?((u?u.querySelector("#_goober"):window._goober)||Object.assign((u||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:u||vg,Ig=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ng=/\/\*[^]*?\*\/|  +/g,D0=/\n+/g,Hi=(u,d)=>{let c="",m="",w="";for(let p in u){let I=u[p];p[0]=="@"?p[1]=="i"?c=p+" "+I+";":m+=p[1]=="f"?Hi(I,p):p+"{"+Hi(I,p[1]=="k"?"":d)+"}":typeof I=="object"?m+=Hi(I,d?d.replace(/([^,])+/g,O=>p.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,O):O?O+" "+v:v)):p):I!=null&&(p=/^--/.test(p)?p:p.replace(/[A-Z]/g,"-$&").toLowerCase(),w+=Hi.p?Hi.p(p,I):p+":"+I+";")}return c+(d&&w?d+"{"+w+"}":w)+m},oi={},vf=u=>{if(typeof u=="object"){let d="";for(let c in u)d+=c+vf(u[c]);return d}return u},Tg=(u,d,c,m,w)=>{let p=vf(u),I=oi[p]||(oi[p]=(v=>{let C=0,b=11;for(;C<v.length;)b=101*b+v.charCodeAt(C++)>>>0;return"go"+b})(p));if(!oi[I]){let v=p!==u?u:(C=>{let b,_,B=[{}];for(;b=Ig.exec(C.replace(Ng,""));)b[4]?B.shift():b[3]?(_=b[3].replace(D0," ").trim(),B.unshift(B[0][_]=B[0][_]||{})):B[0][b[1]]=b[2].replace(D0," ").trim();return B[0]})(u);oi[I]=Hi(w?{["@keyframes "+I]:v}:v,c?"":"."+I)}let O=c&&oi.g?oi.g:null;return c&&(oi.g=oi[I]),((v,C,b,_)=>{_?C.data=C.data.replace(_,v):C.data.indexOf(v)===-1&&(C.data=b?v+C.data:C.data+v)})(oi[I],d,m,O),I},bg=(u,d,c)=>u.reduce((m,w,p)=>{let I=d[p];if(I&&I.call){let O=I(c),v=O&&O.props&&O.props.className||/^go/.test(O)&&O;I=v?"."+v:O&&typeof O=="object"?O.props?"":Hi(O,""):O===!1?"":O}return m+w+(I??"")},"");function vl(u){let d=this||{},c=u.call?u(d.p):u;return Tg(c.unshift?c.raw?bg(c,[].slice.call(arguments,1),d.p):c.reduce((m,w)=>Object.assign(m,w&&w.call?w(d.p):w),{}):c,Sg(d.target),d.g,d.o,d.k)}let Sf,sc,oc;vl.bind({g:1});let fi=vl.bind({k:1});function Mg(u,d,c,m){Hi.p=d,Sf=u,sc=c,oc=m}function Gi(u,d){let c=this||{};return function(){let m=arguments;function w(p,I){let O=Object.assign({},p),v=O.className||w.className;c.p=Object.assign({theme:sc&&sc()},O),c.o=/ *go\d+/.test(v),O.className=vl.apply(c,m)+(v?" "+v:"");let C=u;return u[0]&&(C=O.as||u,delete O.as),oc&&C[0]&&oc(O),Sf(C,O)}return w}}var _g=u=>typeof u=="function",ml=(u,d)=>_g(u)?u(d):u,Rg=(()=>{let u=0;return()=>(++u).toString()})(),If=(()=>{let u;return()=>{if(u===void 0&&typeof window<"u"){let d=matchMedia("(prefers-reduced-motion: reduce)");u=!d||d.matches}return u}})(),Og=20,Nf=(u,d)=>{switch(d.type){case 0:return{...u,toasts:[d.toast,...u.toasts].slice(0,Og)};case 1:return{...u,toasts:u.toasts.map(p=>p.id===d.toast.id?{...p,...d.toast}:p)};case 2:let{toast:c}=d;return Nf(u,{type:u.toasts.find(p=>p.id===c.id)?1:0,toast:c});case 3:let{toastId:m}=d;return{...u,toasts:u.toasts.map(p=>p.id===m||m===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return d.toastId===void 0?{...u,toasts:[]}:{...u,toasts:u.toasts.filter(p=>p.id!==d.toastId)};case 5:return{...u,pausedAt:d.time};case 6:let w=d.time-(u.pausedAt||0);return{...u,pausedAt:void 0,toasts:u.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+w}))}}},gl=[],ys={toasts:[],pausedAt:void 0},Es=u=>{ys=Nf(ys,u),gl.forEach(d=>{d(ys)})},Dg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kg=(u={})=>{let[d,c]=z.useState(ys),m=z.useRef(ys);z.useEffect(()=>(m.current!==ys&&c(ys),gl.push(c),()=>{let p=gl.indexOf(c);p>-1&&gl.splice(p,1)}),[]);let w=d.toasts.map(p=>{var I,O,v;return{...u,...u[p.type],...p,removeDelay:p.removeDelay||((I=u[p.type])==null?void 0:I.removeDelay)||u?.removeDelay,duration:p.duration||((O=u[p.type])==null?void 0:O.duration)||u?.duration||Dg[p.type],style:{...u.style,...(v=u[p.type])==null?void 0:v.style,...p.style}}});return{...d,toasts:w}},Lg=(u,d="blank",c)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:d,ariaProps:{role:"status","aria-live":"polite"},message:u,pauseDuration:0,...c,id:c?.id||Rg()}),Jo=u=>(d,c)=>{let m=Lg(d,u,c);return Es({type:2,toast:m}),m.id},Ln=(u,d)=>Jo("blank")(u,d);Ln.error=Jo("error");Ln.success=Jo("success");Ln.loading=Jo("loading");Ln.custom=Jo("custom");Ln.dismiss=u=>{Es({type:3,toastId:u})};Ln.remove=u=>Es({type:4,toastId:u});Ln.promise=(u,d,c)=>{let m=Ln.loading(d.loading,{...c,...c?.loading});return typeof u=="function"&&(u=u()),u.then(w=>{let p=d.success?ml(d.success,w):void 0;return p?Ln.success(p,{id:m,...c,...c?.success}):Ln.dismiss(m),w}).catch(w=>{let p=d.error?ml(d.error,w):void 0;p?Ln.error(p,{id:m,...c,...c?.error}):Ln.dismiss(m)}),u};var Bg=(u,d)=>{Es({type:1,toast:{id:u,height:d}})},Pg=()=>{Es({type:5,time:Date.now()})},Qo=new Map,Fg=1e3,jg=(u,d=Fg)=>{if(Qo.has(u))return;let c=setTimeout(()=>{Qo.delete(u),Es({type:4,toastId:u})},d);Qo.set(u,c)},Ug=u=>{let{toasts:d,pausedAt:c}=kg(u);z.useEffect(()=>{if(c)return;let p=Date.now(),I=d.map(O=>{if(O.duration===1/0)return;let v=(O.duration||0)+O.pauseDuration-(p-O.createdAt);if(v<0){O.visible&&Ln.dismiss(O.id);return}return setTimeout(()=>Ln.dismiss(O.id),v)});return()=>{I.forEach(O=>O&&clearTimeout(O))}},[d,c]);let m=z.useCallback(()=>{c&&Es({type:6,time:Date.now()})},[c]),w=z.useCallback((p,I)=>{let{reverseOrder:O=!1,gutter:v=8,defaultPosition:C}=I||{},b=d.filter(W=>(W.position||C)===(p.position||C)&&W.height),_=b.findIndex(W=>W.id===p.id),B=b.filter((W,K)=>K<_&&W.visible).length;return b.filter(W=>W.visible).slice(...O?[B+1]:[0,B]).reduce((W,K)=>W+(K.height||0)+v,0)},[d]);return z.useEffect(()=>{d.forEach(p=>{if(p.dismissed)jg(p.id,p.removeDelay);else{let I=Qo.get(p.id);I&&(clearTimeout(I),Qo.delete(p.id))}})},[d]),{toasts:d,handlers:{updateHeight:Bg,startPause:Pg,endPause:m,calculateOffset:w}}},zg=fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Hg=fi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vg=fi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wg=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${u=>u.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Hg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${u=>u.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Gg=fi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Yg=Gi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${u=>u.secondary||"#e0e0e0"};
  border-right-color: ${u=>u.primary||"#616161"};
  animation: ${Gg} 1s linear infinite;
`,Xg=fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qg=fi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Zg=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${u=>u.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${u=>u.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Kg=Gi("div")`
  position: absolute;
`,qg=Gi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$g=fi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jg=Gi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$g} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e2=({toast:u})=>{let{icon:d,type:c,iconTheme:m}=u;return d!==void 0?typeof d=="string"?z.createElement(Jg,null,d):d:c==="blank"?null:z.createElement(qg,null,z.createElement(Yg,{...m}),c!=="loading"&&z.createElement(Kg,null,c==="error"?z.createElement(Wg,{...m}):z.createElement(Zg,{...m})))},t2=u=>`
0% {transform: translate3d(0,${u*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,n2=u=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${u*-150}%,-1px) scale(.6); opacity:0;}
`,r2="0%{opacity:0;} 100%{opacity:1;}",i2="0%{opacity:1;} 100%{opacity:0;}",s2=Gi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,o2=Gi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a2=(u,d)=>{let c=u.includes("top")?1:-1,[m,w]=If()?[r2,i2]:[t2(c),n2(c)];return{animation:d?`${fi(m)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fi(w)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l2=z.memo(({toast:u,position:d,style:c,children:m})=>{let w=u.height?a2(u.position||d||"top-center",u.visible):{opacity:0},p=z.createElement(e2,{toast:u}),I=z.createElement(o2,{...u.ariaProps},ml(u.message,u));return z.createElement(s2,{className:u.className,style:{...w,...c,...u.style}},typeof m=="function"?m({icon:p,message:I}):z.createElement(z.Fragment,null,p,I))});Mg(z.createElement);var u2=({id:u,className:d,style:c,onHeightUpdate:m,children:w})=>{let p=z.useCallback(I=>{if(I){let O=()=>{let v=I.getBoundingClientRect().height;m(u,v)};O(),new MutationObserver(O).observe(I,{subtree:!0,childList:!0,characterData:!0})}},[u,m]);return z.createElement("div",{ref:p,className:d,style:c},w)},c2=(u,d)=>{let c=u.includes("top"),m=c?{top:0}:{bottom:0},w=u.includes("center")?{justifyContent:"center"}:u.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:If()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${d*(c?1:-1)}px)`,...m,...w}},f2=vl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fl=16,d2=({reverseOrder:u,position:d="top-center",toastOptions:c,gutter:m,children:w,containerStyle:p,containerClassName:I})=>{let{toasts:O,handlers:v}=Ug(c);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fl,left:fl,right:fl,bottom:fl,pointerEvents:"none",...p},className:I,onMouseEnter:v.startPause,onMouseLeave:v.endPause},O.map(C=>{let b=C.position||d,_=v.calculateOffset(C,{reverseOrder:u,gutter:m,defaultPosition:d}),B=c2(b,_);return z.createElement(u2,{id:C.id,key:C.id,onHeightUpdate:v.updateHeight,className:C.visible?f2:"",style:B},C.type==="custom"?ml(C.message,C):w?w(C):z.createElement(l2,{toast:C,position:b}))}))},vn=Ln;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tf=(...u)=>u.filter((d,c,m)=>!!d&&d.trim()!==""&&m.indexOf(d)===c).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=z.forwardRef(({color:u="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:m,className:w="",children:p,iconNode:I,...O},v)=>z.createElement("svg",{ref:v,...g2,width:d,height:d,stroke:u,strokeWidth:m?Number(c)*24/Number(d):c,className:Tf("lucide",w),...O},[...I.map(([C,b])=>z.createElement(C,b)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(u,d)=>{const c=z.forwardRef(({className:m,...w},p)=>z.createElement(p2,{ref:p,iconNode:d,className:Tf(`lucide-${h2(u)}`,m),...w}));return c.displayName=`${u}`,c};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=wt("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=wt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=wt("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=wt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=wt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=wt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=wt("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=wt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=wt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=wt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=wt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=wt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=wt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=wt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=wt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=wt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=wt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=wt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=wt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=wt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=wt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Se;(function(u){u[u.QR_CODE=0]="QR_CODE",u[u.AZTEC=1]="AZTEC",u[u.CODABAR=2]="CODABAR",u[u.CODE_39=3]="CODE_39",u[u.CODE_93=4]="CODE_93",u[u.CODE_128=5]="CODE_128",u[u.DATA_MATRIX=6]="DATA_MATRIX",u[u.MAXICODE=7]="MAXICODE",u[u.ITF=8]="ITF",u[u.EAN_13=9]="EAN_13",u[u.EAN_8=10]="EAN_8",u[u.PDF_417=11]="PDF_417",u[u.RSS_14=12]="RSS_14",u[u.RSS_EXPANDED=13]="RSS_EXPANDED",u[u.UPC_A=14]="UPC_A",u[u.UPC_E=15]="UPC_E",u[u.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var P0=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),F0;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.URL=1]="URL"})(F0||(F0={}));function O2(u){return Object.values(Se).includes(u)}var Vi;(function(u){u[u.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",u[u.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vi||(Vi={}));var _r=function(){function u(){}return u.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",u.SCAN_DEFAULT_FPS=2,u.DEFAULT_DISABLE_FLIP=!1,u.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,u.DEFAULT_SUPPORTED_SCAN_TYPE=[Vi.SCAN_TYPE_CAMERA,Vi.SCAN_TYPE_FILE],u}(),Of=function(){function u(d,c){this.format=d,this.formatName=c}return u.prototype.toString=function(){return this.formatName},u.create=function(d){if(!P0.has(d))throw"".concat(d," not in html5QrcodeSupportedFormatsTextMap");return new u(d,P0.get(d))},u}(),j0=function(){function u(){}return u.createFromText=function(d){var c={text:d};return{decodedText:d,result:c}},u.createFromQrcodeResult=function(d){return{decodedText:d.text,result:d}},u}(),cc;(function(u){u[u.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",u[u.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",u[u.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(cc||(cc={}));var Df=function(){function u(){}return u.createFrom=function(d){return{errorMessage:d,type:cc.UNKWOWN_ERROR}},u}(),kf=function(){function u(d){this.verbose=d}return u.prototype.log=function(d){this.verbose&&console.log(d)},u.prototype.warn=function(d){this.verbose&&console.warn(d)},u.prototype.logError=function(d,c){(this.verbose||c===!0)&&console.error(d)},u.prototype.logErrors=function(d){if(d.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(d)},u}();function Hr(u){return typeof u>"u"||u===null}function D2(u,d,c){return u>c?c:u<d?d:u}var $s=function(){function u(){}return u.codeParseError=function(d){return"QR code parse error, error = ".concat(d)},u.errorGettingUserMedia=function(d){return"Error getting userMedia, error = ".concat(d)},u.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},u.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},u.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},u.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},u.scannerPaused=function(){return"Scanner paused"},u}(),At=function(){function u(){}return u.scanningStatus=function(){return"Scanning"},u.idleStatus=function(){return"Idle"},u.errorStatus=function(){return"Error"},u.permissionStatus=function(){return"Permission"},u.noCameraFoundErrorStatus=function(){return"No Cameras"},u.lastMatch=function(d){return"Last Match: ".concat(d)},u.codeScannerTitle=function(){return"Code Scanner"},u.cameraPermissionTitle=function(){return"Request Camera Permissions"},u.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},u.noCameraFound=function(){return"No camera found"},u.scanButtonStopScanningText=function(){return"Stop Scanning"},u.scanButtonStartScanningText=function(){return"Start Scanning"},u.torchOnButton=function(){return"Switch On Torch"},u.torchOffButton=function(){return"Switch Off Torch"},u.torchOnFailedMessage=function(){return"Failed to turn on torch"},u.torchOffFailedMessage=function(){return"Failed to turn off torch"},u.scanButtonScanningStarting=function(){return"Launching Camera..."},u.textIfCameraScanSelected=function(){return"Scan an Image File"},u.textIfFileScanSelected=function(){return"Scan using camera directly"},u.selectCamera=function(){return"Select Camera"},u.fileSelectionChooseImage=function(){return"Choose Image"},u.fileSelectionChooseAnother=function(){return"Choose Another"},u.fileSelectionNoImageSelected=function(){return"No image choosen"},u.anonymousCameraPrefix=function(){return"Anonymous Camera"},u.dragAndDropMessage=function(){return"Or drop an image to scan"},u.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},u.zoom=function(){return"zoom"},u.loadingImage=function(){return"Loading image..."},u.cameraScanAltText=function(){return"Camera based scan"},u.fileScanAltText=function(){return"Fule based scan"},u}(),U0=function(){function u(){}return u.poweredBy=function(){return"Powered by "},u.reportIssues=function(){return"Report issues"},u}(),Lf=function(){function u(){}return u.isMediaStreamConstraintsValid=function(d,c){if(typeof d!="object"){var m=typeof d;return c.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(m,"."),!0),!1}for(var w=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(w),I=Object.keys(d),O=0,v=I;O<v.length;O++){var C=v[O];if(p.has(C))return c.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},u}(),Xo={exports:{}},k2=Xo.exports,z0;function L2(){return z0||(z0=1,function(u,d){(function(c,m){m(d)})(k2,function(c){function m(N){return N==null}var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,e){N.__proto__=e}||function(N,e){for(var n in e)e.hasOwnProperty(n)&&(N[n]=e[n])};function p(N,e){w(N,e);function n(){this.constructor=N}N.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function I(N,e){var n=Object.setPrototypeOf;n?n(N,e):N.__proto__=e}function O(N,e){e===void 0&&(e=N.constructor);var n=Error.captureStackTrace;n&&n(N,e)}var v=function(N){p(e,N);function e(n){var r=this.constructor,s=N.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),I(s,r.prototype),O(s),s}return e}(Error);class C extends v{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}C.kind="Exception";class b extends C{}b.kind="ArgumentException";class _ extends C{}_.kind="IllegalArgumentException";class B{constructor(e){if(this.binarizer=e,e===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new B(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends C{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class K{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class X{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class Q extends C{}Q.kind="IndexOutOfBoundsException";class ne extends Q{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}ne.kind="ArrayIndexOutOfBoundsException";class he{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){he.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new _("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new ne(n);if(r>e)throw new ne(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return X.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=he.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const a=o+s>>1,f=r(n,e[a]);if(f>0)s=a+1;else if(f<0)o=a-1;else return a}return-s-1}static numberComparator(e,n){return e-n}}class te{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}te.MIN_VALUE_32_BITS=-2147483648,te.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pe{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=pe.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=pe.makeArray(e);X.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++s===a)return n;o=r[s]}const f=s*32+te.numberOfTrailingZeros(o);return f>n?n:f}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++s===a)return n;o=~r[s]}const f=s*32+te.numberOfTrailingZeros(o);return f>n?n:f}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new _;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let a=r;a<=s;a++){const f=a>r?0:e&31,x=(2<<(a<s?31:n&31))-(1<<f);o[a]|=x}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new _;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),a=this.bits;for(let f=s;f<=o;f++){const g=f>s?0:e&31,A=(2<<(f<o?31:n&31))-(1<<g)&4294967295;if((a[f]&A)!==(r?A:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new _("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let a=0;for(let f=0;f<8;f++)this.get(e)&&(a|=1<<7-f),e++;n[r+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let a=s[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-o]=a}if(this.size!==r*32){const o=r*32-this.size;let a=e[0]>>>o;for(let f=1;f<r;f++){const g=e[f];a|=g<<32-o,e[f-1]=a,a=g>>>o}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof pe))return!1;const n=e;return this.size===n.size&&he.equals(this.bits,n.bits)}hashCode(){return 31*this.size+he.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new pe(this.size,this.bits.slice())}}var ze;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ze||(ze={}));var De=ze;class oe extends C{static getFormatInstance(){return new oe}}oe.kind="FormatException";var Le;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Le||(Le={}));class ie{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,ie.VALUE_IDENTIFIER_TO_ECI.set(e,this),ie.NAME_TO_ECI.set(r,this);const o=this.values;for(let a=0,f=o.length;a!==f;a++){const g=o[a];ie.VALUES_TO_ECI.set(g,this)}for(const a of s)ie.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new oe("incorect value");const n=ie.VALUES_TO_ECI.get(e);if(n===void 0)throw new oe("incorect value");return n}static getCharacterSetECIByName(e){const n=ie.NAME_TO_ECI.get(e);if(n===void 0)throw new oe("incorect value");return n}equals(e){if(!(e instanceof ie))return!1;const n=e;return this.getName()===n.getName()}}ie.VALUE_IDENTIFIER_TO_ECI=new Map,ie.VALUES_TO_ECI=new Map,ie.NAME_TO_ECI=new Map,ie.Cp437=new ie(Le.Cp437,Int32Array.from([0,2]),"Cp437"),ie.ISO8859_1=new ie(Le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ie.ISO8859_2=new ie(Le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ie.ISO8859_3=new ie(Le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ie.ISO8859_4=new ie(Le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ie.ISO8859_5=new ie(Le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ie.ISO8859_6=new ie(Le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ie.ISO8859_7=new ie(Le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ie.ISO8859_8=new ie(Le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ie.ISO8859_9=new ie(Le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ie.ISO8859_10=new ie(Le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ie.ISO8859_11=new ie(Le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ie.ISO8859_13=new ie(Le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ie.ISO8859_14=new ie(Le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ie.ISO8859_15=new ie(Le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ie.ISO8859_16=new ie(Le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ie.SJIS=new ie(Le.SJIS,20,"SJIS","Shift_JIS"),ie.Cp1250=new ie(Le.Cp1250,21,"Cp1250","windows-1250"),ie.Cp1251=new ie(Le.Cp1251,22,"Cp1251","windows-1251"),ie.Cp1252=new ie(Le.Cp1252,23,"Cp1252","windows-1252"),ie.Cp1256=new ie(Le.Cp1256,24,"Cp1256","windows-1256"),ie.UnicodeBigUnmarked=new ie(Le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ie.UTF8=new ie(Le.UTF8,26,"UTF8","UTF-8"),ie.ASCII=new ie(Le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ie.Big5=new ie(Le.Big5,28,"Big5"),ie.GB18030=new ie(Le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ie.EUC_KR=new ie(Le.EUC_KR,30,"EUC_KR","EUC-KR");class gt extends C{}gt.kind="UnsupportedOperationException";class $e{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!$e.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ie?e:ie.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if($e.isDecodeFallbackSupported(r)){let s="";for(let o=0,a=e.length;o<a;o++){let f=e[o].toString(16);f.length<2&&(f="0"+f),s+="%"+f}return decodeURIComponent(s)}if(r.equals(ie.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new gt(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ie.UTF8)||e.equals(ie.ISO8859_1)||e.equals(ie.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Me{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return $e.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(De.CHARACTER_SET)!==void 0)return n.get(De.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,a=!0,f=0,g=0,x=0,A=0,T=0,R=0,k=0,P=0,j=0,H=0,$=0;const fe=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let de=0;de<r&&(s||o||a);de++){const le=e[de]&255;a&&(f>0?(le&128)===0?a=!1:f--:(le&128)!==0&&((le&64)===0?a=!1:(f++,(le&32)===0?g++:(f++,(le&16)===0?x++:(f++,(le&8)===0?A++:a=!1))))),s&&(le>127&&le<160?s=!1:le>159&&(le<192||le===215||le===247)&&$++),o&&(T>0?le<64||le===127||le>252?o=!1:T--:le===128||le===160||le>239?o=!1:le>160&&le<224?(R++,P=0,k++,k>j&&(j=k)):le>127?(T++,k=0,P++,P>H&&(H=P)):(k=0,P=0))}return a&&f>0&&(a=!1),o&&T>0&&(o=!1),a&&(fe||g+x+A>0)?Me.UTF8:o&&(Me.ASSUME_SHIFT_JIS||j>=3||H>=3)?Me.SHIFT_JIS:s&&o?j===2&&R===2||$*10>=r?Me.SHIFT_JIS:Me.ISO88591:s?Me.ISO88591:o?Me.SHIFT_JIS:a?Me.UTF8:Me.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(a,f,g,x,A,T){if(a==="%%")return"%";if(n[++r]===void 0)return;a=x?parseInt(x.substr(1)):void 0;let R=A?parseInt(A.substr(1)):void 0,k;switch(T){case"s":k=n[r];break;case"c":k=n[r][0];break;case"f":k=parseFloat(n[r]).toFixed(a);break;case"p":k=parseFloat(n[r]).toPrecision(a);break;case"e":k=parseFloat(n[r]).toExponential(a);break;case"x":k=parseInt(n[r]).toString(R||16);break;case"d":k=parseFloat(parseInt(n[r],R||10).toPrecision(a)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(R);let P=parseInt(g),j=g&&g[0]+""=="0"?"0":" ";for(;k.length<P;)k=f!==void 0?k+j:j+k;return k}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return $e.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Me.SHIFT_JIS=ie.SJIS.getName(),Me.GB2312="GB2312",Me.ISO88591=ie.ISO8859_1.getName(),Me.EUC_JP="EUC_JP",Me.UTF8=ie.UTF8.getName(),Me.PLATFORM_DEFAULT_ENCODING=Me.UTF8,Me.ASSUME_SHIFT_JIS=!1;class We{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Me.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class _e{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new _("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new _e(r,n);for(let o=0;o<n;o++){const a=e[o];for(let f=0;f<r;f++)a[f]&&s.set(f,o)}return s}static parseFromString(e,n,r){if(e===null)throw new _("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,a=0,f=-1,g=0,x=0;for(;x<e.length;)if(e.charAt(x)===`
`||e.charAt(x)==="\r"){if(o>a){if(f===-1)f=o-a;else if(o-a!==f)throw new _("row lengths do not match");a=o,g++}x++}else if(e.substring(x,x+n.length)===n)x+=n.length,s[o]=!0,o++;else if(e.substring(x,x+r.length)===r)x+=r.length,s[o]=!1,o++;else throw new _("illegal character encountered: "+e.substring(x));if(o>a){if(f===-1)f=o-a;else if(o-a!==f)throw new _("row lengths do not match");g++}const A=new _e(f,g);for(let T=0;T<o;T++)s[T]&&A.set(Math.floor(T%f),Math.floor(T/f));return A}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new _("input matrix dimensions do not match");const n=new pe(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,a=this.height;o<a;o++){const f=o*r,g=e.getRow(o,n).getBitArray();for(let x=0;x<r;x++)s[f+x]^=g[x]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new _("Left and top must be nonnegative");if(s<1||r<1)throw new _("Height and width must be at least 1");const o=e+r,a=n+s;if(a>this.height||o>this.width)throw new _("The region must fit inside the matrix");const f=this.rowSize,g=this.bits;for(let x=n;x<a;x++){const A=x*f;for(let T=e;T<o;T++)g[A+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new pe(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let a=0;a<r;a++)n.setBulk(a*32,s[o+a]);return n}setRow(e,n){X.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new pe(e),s=new pe(e);for(let o=0,a=Math.floor((n+1)/2);o<a;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,a=n,f=-1,g=-1;for(let x=0;x<n;x++)for(let A=0;A<r;A++){const T=s[x*r+A];if(T!==0){if(x<a&&(a=x),x>g&&(g=x),A*32<o){let R=0;for(;(T<<31-R&4294967295)===0;)R++;A*32+R<o&&(o=A*32+R)}if(A*32+31>f){let R=31;for(;!(T>>>R);)R--;A*32+R>f&&(f=A*32+R)}}}return f<o||g<a?null:Int32Array.from([o,a,f-o+1,g-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const a=n[r];let f=0;for(;(a<<31-f&4294967295)===0;)f++;return o+=f,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const a=n[r];let f=31;for(;!(a>>>f);)f--;return o+=f,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof _e))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&he.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+he.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new We;for(let o=0,a=this.height;o<a;o++){for(let f=0,g=this.width;f<g;f++)s.append(this.get(f,o)?e:n);s.append(r)}return s.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends C{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class Ze extends K{constructor(e){super(e),this.luminances=Ze.EMPTY,this.buckets=new Int32Array(Ze.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new pe(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),a=this.buckets;for(let g=0;g<s;g++)a[(o[g]&255)>>Ze.LUMINANCE_SHIFT]++;const f=Ze.estimateBlackPoint(a);if(s<3)for(let g=0;g<s;g++)(o[g]&255)<f&&n.set(g);else{let g=o[0]&255,x=o[1]&255;for(let A=1;A<s-1;A++){const T=o[A+1]&255;(x*4-g-T)/2<f&&n.set(A),g=x,x=T}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new _e(n,r);this.initArrays(n);const o=this.buckets;for(let g=1;g<5;g++){const x=Math.floor(r*g/5),A=e.getRow(x,this.luminances),T=Math.floor(n*4/5);for(let R=Math.floor(n/5);R<T;R++){const k=A[R]&255;o[k>>Ze.LUMINANCE_SHIFT]++}}const a=Ze.estimateBlackPoint(o),f=e.getMatrix();for(let g=0;g<r;g++){const x=g*n;for(let A=0;A<n;A++)(f[x+A]&255)<a&&s.set(A,g)}return s}createBinarizer(e){return new Ze(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<Ze.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let A=0;A<n;A++)e[A]>o&&(s=A,o=e[A]),e[A]>r&&(r=e[A]);let a=0,f=0;for(let A=0;A<n;A++){const T=A-s,R=e[A]*T*T;R>f&&(a=A,f=R)}if(s>a){const A=s;s=a,a=A}if(a-s<=n/16)throw new q;let g=a-1,x=-1;for(let A=a-1;A>s;A--){const T=A-s,R=T*T*(a-A)*(r-e[A]);R>x&&(g=A,x=R)}return g<<Ze.LUMINANCE_SHIFT}}Ze.LUMINANCE_BITS=5,Ze.LUMINANCE_SHIFT=8-Ze.LUMINANCE_BITS,Ze.LUMINANCE_BUCKETS=1<<Ze.LUMINANCE_BITS,Ze.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Ze{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Ce.MINIMUM_DIMENSION&&r>=Ce.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>Ce.BLOCK_SIZE_POWER;(n&Ce.BLOCK_SIZE_MASK)!==0&&o++;let a=r>>Ce.BLOCK_SIZE_POWER;(r&Ce.BLOCK_SIZE_MASK)!==0&&a++;const f=Ce.calculateBlackPoints(s,o,a,n,r),g=new _e(n,r);Ce.calculateThresholdForBlock(s,o,a,n,r,f,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Ce(e)}static calculateThresholdForBlock(e,n,r,s,o,a,f){const g=o-Ce.BLOCK_SIZE,x=s-Ce.BLOCK_SIZE;for(let A=0;A<r;A++){let T=A<<Ce.BLOCK_SIZE_POWER;T>g&&(T=g);const R=Ce.cap(A,2,r-3);for(let k=0;k<n;k++){let P=k<<Ce.BLOCK_SIZE_POWER;P>x&&(P=x);const j=Ce.cap(k,2,n-3);let H=0;for(let fe=-2;fe<=2;fe++){const de=a[R+fe];H+=de[j-2]+de[j-1]+de[j]+de[j+1]+de[j+2]}const $=H/25;Ce.thresholdBlock(e,P,T,$,s,f)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,a){for(let f=0,g=r*o+n;f<Ce.BLOCK_SIZE;f++,g+=o)for(let x=0;x<Ce.BLOCK_SIZE;x++)(e[g+x]&255)<=s&&a.set(n+x,r+f)}static calculateBlackPoints(e,n,r,s,o){const a=o-Ce.BLOCK_SIZE,f=s-Ce.BLOCK_SIZE,g=new Array(r);for(let x=0;x<r;x++){g[x]=new Int32Array(n);let A=x<<Ce.BLOCK_SIZE_POWER;A>a&&(A=a);for(let T=0;T<n;T++){let R=T<<Ce.BLOCK_SIZE_POWER;R>f&&(R=f);let k=0,P=255,j=0;for(let $=0,fe=A*s+R;$<Ce.BLOCK_SIZE;$++,fe+=s){for(let de=0;de<Ce.BLOCK_SIZE;de++){const le=e[fe+de]&255;k+=le,le<P&&(P=le),le>j&&(j=le)}if(j-P>Ce.MIN_DYNAMIC_RANGE)for($++,fe+=s;$<Ce.BLOCK_SIZE;$++,fe+=s)for(let de=0;de<Ce.BLOCK_SIZE;de++)k+=e[fe+de]&255}let H=k>>Ce.BLOCK_SIZE_POWER*2;if(j-P<=Ce.MIN_DYNAMIC_RANGE&&(H=P/2,x>0&&T>0)){const $=(g[x-1][T]+2*g[x][T-1]+g[x-1][T-1])/4;P<$&&(H=$)}g[x][T]=H}}return g}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class xe{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new gt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new gt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new gt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new We;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const a=s[o]&255;let f;a<64?f="#":a<128?f="+":a<192?f=".":f=" ",n.append(f)}n.append(`
`)}return n.toString()}}class Ne extends xe{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new Ne(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ne(this.delegate.rotateCounterClockwise45())}}class we extends xe{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return we.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,a=0,f=e.length;o<f;o+=4,a++){let g;if(e[o+3]===0)g=255;else{const A=e[o],T=e[o+1],R=e[o+2];g=306*A+601*T+117*R+512>>10}s[a]=g}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new _("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*we.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*a),g=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*a);return n.width=f,n.height=g,r.translate(f/2,g/2),r.rotate(s),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=we.makeBufferFromCanvasImageData(n),this}invert(){return new Ne(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class V{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||ll||self||window||void 0)&&(globalThis||ll||self||window||void 0).__awaiter||function(N,e,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function f(A){try{x(r.next(A))}catch(T){a(T)}}function g(A){try{x(r.throw(A))}catch(T){a(T)}}function x(A){A.done?o(A.value):s(A.value).then(f,g)}x((r=r.apply(N,e||[])).next())})};class He{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,a=r.label||`Video device ${n.length+1}`,f=r.groupId,g={deviceId:o,label:a,kind:s,groupId:f};n.push(g)}return n})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new V(n.deviceId,n.label))})}findDeviceById(e){return re(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return re(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return re(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return re(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return re(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return re(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return re(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return re(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new b(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new b(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new b("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new b("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new b("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,a)=>{if(this._stopAsyncDecode){a(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(e);o(f)}catch(f){const g=n&&f instanceof q,A=(f instanceof W||f instanceof oe)&&r;if(g||A)return setTimeout(s,this._timeBetweenDecodingAttempts,o,a);a(f)}};return new Promise((o,a)=>s(o,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof W||s instanceof oe,a=s instanceof q;(o||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new we(n),s=new Ce(r);return new B(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(e,n,r=n==null?0:8*n.length,s,o,a=X.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,a==null?this.timestamp=X.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);X.arraycopy(n,0,r,0,n.length),X.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var me=st,pt;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pt||(pt={}));var Ve=pt;class xt{constructor(e,n,r,s,o=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class tn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new _;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class nn{constructor(e,n){if(n.length===0)throw new _;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),X.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let a=0,f=n.length;a!==f;a++){const g=n[a];r=tn.addOrSubtract(r,g)}return r}r=n[0];const s=n.length,o=this.field;for(let a=1;a<s;a++)r=tn.addOrSubtract(o.multiply(e,r),n[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const a=n;n=r,r=a}let s=new Int32Array(r.length);const o=r.length-n.length;X.arraycopy(r,0,s,0,o);for(let a=o;a<r.length;a++)s[a]=tn.addOrSubtract(n[a-o],r[a]);return new nn(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,a=new Int32Array(r+o-1),f=this.field;for(let g=0;g<r;g++){const x=n[g];for(let A=0;A<o;A++)a[g+A]=tn.addOrSubtract(a[g+A],f.multiply(x,s[A]))}return new nn(f,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let a=0;a<n;a++)s[a]=r.multiply(o[a],e);return new nn(r,s)}multiplyByMonomial(e,n){if(e<0)throw new _;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),a=this.field;for(let f=0;f<s;f++)o[f]=a.multiply(r[f],n);return new nn(a,o)}divide(e){if(!this.field.equals(e.field))throw new _("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new _("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),a=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const f=s.getDegree()-e.getDegree(),g=n.multiply(s.getCoefficient(s.getDegree()),a),x=e.multiplyByMonomial(f,g),A=n.buildMonomial(f,g);r=r.addOrSubtract(A),s=s.addOrSubtract(x)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Yi extends C{}Yi.kind="ArithmeticException";class ot extends tn{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let f=0;f<n;f++)s[f]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const a=new Int32Array(n);for(let f=0;f<n-1;f++)a[s[f]]=f;this.logTable=a,this.zero=new nn(this,Int32Array.from([0])),this.one=new nn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new _;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new nn(this,r)}inverse(e){if(e===0)throw new Yi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+te.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Rr extends C{}Rr.kind="ReedSolomonException";class Xn extends C{}Xn.kind="IllegalStateException";class hi{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new nn(r,e),o=new Int32Array(n);let a=!0;for(let k=0;k<n;k++){const P=s.evaluateAt(r.exp(k+r.getGeneratorBase()));o[o.length-1-k]=P,P!==0&&(a=!1)}if(a)return;const f=new nn(r,o),g=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),x=g[0],A=g[1],T=this.findErrorLocations(x),R=this.findErrorMagnitudes(A,T);for(let k=0;k<T.length;k++){const P=e.length-1-r.log(T[k]);if(P<0)throw new Rr("Bad error location");e[P]=ot.addOrSubtract(e[P],R[k])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const k=e;e=n,n=k}const s=this.field;let o=e,a=n,f=s.getZero(),g=s.getOne();for(;a.getDegree()>=(r/2|0);){let k=o,P=f;if(o=a,f=g,o.isZero())throw new Rr("r_{i-1} was zero");a=k;let j=s.getZero();const H=o.getCoefficient(o.getDegree()),$=s.inverse(H);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const fe=a.getDegree()-o.getDegree(),de=s.multiply(a.getCoefficient(a.getDegree()),$);j=j.addOrSubtract(s.buildMonomial(fe,de)),a=a.addOrSubtract(o.multiplyByMonomial(fe,de))}if(g=j.multiply(f).addOrSubtract(P),a.getDegree()>=o.getDegree())throw new Xn("Division algorithm failed to reduce polynomial?")}const x=g.getCoefficient(0);if(x===0)throw new Rr("sigmaTilde(0) was zero");const A=s.inverse(x),T=g.multiplyScalar(A),R=a.multiplyScalar(A);return[T,R]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let a=1;a<o.getSize()&&s<n;a++)e.evaluateAt(a)===0&&(r[s]=o.inverse(a),s++);if(s!==n)throw new Rr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let a=0;a<r;a++){const f=o.inverse(n[a]);let g=1;for(let x=0;x<r;x++)if(a!==x){const A=o.multiply(n[x],f),T=(A&1)===0?A|1:A&-2;g=o.multiply(g,T)}s[a]=o.multiply(e.evaluateAt(f),o.inverse(g)),o.getGeneratorBase()!==0&&(s[a]=o.multiply(s[a],f))}return s}}var Yt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Yt||(Yt={}));class Ct{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=Ct.convertBoolArrayToByteArray(s),a=Ct.getEncodedData(s),f=new xt(o,a,null,null);return f.setNumBits(s.length),f}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Yt.UPPER,s=Yt.UPPER,o="",a=0;for(;a<n;)if(s===Yt.BINARY){if(n-a<5)break;let f=Ct.readCode(e,a,5);if(a+=5,f===0){if(n-a<11)break;f=Ct.readCode(e,a,11)+31,a+=11}for(let g=0;g<f;g++){if(n-a<8){a=n;break}const x=Ct.readCode(e,a,8);o+=Me.castAsNonUtf8Char(x),a+=8}s=r}else{let f=s===Yt.DIGIT?4:5;if(n-a<f)break;let g=Ct.readCode(e,a,f);a+=f;let x=Ct.getCharacter(s,g);x.startsWith("CTRL_")?(r=s,s=Ct.getTable(x.charAt(5)),x.charAt(6)==="L"&&(r=s)):(o+=x,s=r)}return o}static getTable(e){switch(e){case"L":return Yt.LOWER;case"P":return Yt.PUNCT;case"M":return Yt.MIXED;case"D":return Yt.DIGIT;case"B":return Yt.BINARY;case"U":default:return Yt.UPPER}}static getCharacter(e,n){switch(e){case Yt.UPPER:return Ct.UPPER_TABLE[n];case Yt.LOWER:return Ct.LOWER_TABLE[n];case Yt.MIXED:return Ct.MIXED_TABLE[n];case Yt.PUNCT:return Ct.PUNCT_TABLE[n];case Yt.DIGIT:return Ct.DIGIT_TABLE[n];default:throw new Xn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=ot.AZTEC_DATA_10):(r=12,n=ot.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new oe;let a=e.length%r,f=new Int32Array(o);for(let R=0;R<o;R++,a+=r)f[R]=Ct.readCode(e,a,r);try{new hi(n).decode(f,o-s)}catch(R){throw new oe(R)}let g=(1<<r)-1,x=0;for(let R=0;R<s;R++){let k=f[R];if(k===0||k===g)throw new oe;(k===1||k===g-1)&&x++}let A=new Array(s*r-x),T=0;for(let R=0;R<s;R++){let k=f[R];if(k===1||k===g-1)A.fill(k>1,T,T+r-1),T+=r-1;else for(let P=r-1;P>=0;--P)A[T++]=(k&1<<P)!==0}return A}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),a=new Array(this.totalBitsInLayer(r,n));if(n)for(let f=0;f<o.length;f++)o[f]=f;else{let f=s+1+2*te.truncDivision(te.truncDivision(s,2)-1,15),g=s/2,x=te.truncDivision(f,2);for(let A=0;A<g;A++){let T=A+te.truncDivision(A,15);o[g-A-1]=x-T-1,o[g+A]=x+T+1}}for(let f=0,g=0;f<r;f++){let x=(r-f)*4+(n?9:12),A=f*2,T=s-1-A;for(let R=0;R<x;R++){let k=R*2;for(let P=0;P<2;P++)a[g+k+P]=e.get(o[A+P],o[A+R]),a[g+2*x+k+P]=e.get(o[A+R],o[T-P]),a[g+4*x+k+P]=e.get(o[T-P],o[T-R]),a[g+6*x+k+P]=e.get(o[T-R],o[A+P])}g+=x*8}return a}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?Ct.readCode(e,n,8):Ct.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=Ct.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,a=n-s;return Math.sqrt(o*o+a*a)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class Or{static floatToIntBits(e){return e}}Or.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ve){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Or.floatToIntBits(this.x)+Or.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,a,f;if(r>=n&&r>=s?(a=e[0],o=e[1],f=e[2]):s>=r&&s>=n?(a=e[1],o=e[0],f=e[2]):(a=e[2],o=e[0],f=e[1]),this.crossProductZ(o,a,f)<0){const g=o;o=f,f=g}e[0]=o,e[1]=a,e[2]=f}static distance(e,n){return nt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class gi{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ro extends gi{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ur{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=ur.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,a=!0,f=!1,g=!1,x=!1,A=!1,T=!1;const R=this.width,k=this.height;for(;a;){a=!1;let P=!0;for(;(P||!g)&&n<R;)P=this.containsBlackPoint(r,s,n,!1),P?(n++,a=!0,g=!0):g||n++;if(n>=R){o=!0;break}let j=!0;for(;(j||!x)&&s<k;)j=this.containsBlackPoint(e,n,s,!0),j?(s++,a=!0,x=!0):x||s++;if(s>=k){o=!0;break}let H=!0;for(;(H||!A)&&e>=0;)H=this.containsBlackPoint(r,s,e,!1),H?(e--,a=!0,A=!0):A||e--;if(e<0){o=!0;break}let $=!0;for(;($||!T)&&r>=0;)$=this.containsBlackPoint(e,n,r,!0),$?(r--,a=!0,T=!0):T||r--;if(r<0){o=!0;break}a&&(f=!0)}if(!o&&f){const P=n-e;let j=null;for(let de=1;j===null&&de<P;de++)j=this.getBlackPointOnSegment(e,s-de,e+de,s);if(j==null)throw new q;let H=null;for(let de=1;H===null&&de<P;de++)H=this.getBlackPointOnSegment(e,r+de,e+de,r);if(H==null)throw new q;let $=null;for(let de=1;$===null&&de<P;de++)$=this.getBlackPointOnSegment(n,r+de,n-de,r);if($==null)throw new q;let fe=null;for(let de=1;fe===null&&de<P;de++)fe=this.getBlackPointOnSegment(n,s-de,n-de,s);if(fe==null)throw new q;return this.centerEdges(fe,j,$,H)}else throw new q}getBlackPointOnSegment(e,n,r,s){const o=nt.round(nt.distance(e,n,r,s)),a=(r-e)/o,f=(s-n)/o,g=this.image;for(let x=0;x<o;x++){const A=nt.round(e+x*a),T=nt.round(n+x*f);if(g.get(A,T))return new ve(A,T)}return null}centerEdges(e,n,r,s){const o=e.getX(),a=e.getY(),f=n.getX(),g=n.getY(),x=r.getX(),A=r.getY(),T=s.getX(),R=s.getY(),k=ur.CORR;return o<this.width/2?[new ve(T-k,R+k),new ve(f+k,g+k),new ve(x-k,A-k),new ve(o+k,a-k)]:[new ve(T+k,R+k),new ve(f+k,g-k),new ve(x-k,A+k),new ve(o-k,a-k)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let a=e;a<=n;a++)if(o.get(a,r))return!0}else for(let a=e;a<=n;a++)if(o.get(r,a))return!0;return!1}}ur.INIT_SIZE=10,ur.CORR=1;class As{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let a=0;a<n.length&&o;a+=2){const f=Math.floor(n[a]),g=Math.floor(n[a+1]);if(f<-1||f>r||g<-1||g>s)throw new q;o=!1,f===-1?(n[a]=0,o=!0):f===r&&(n[a]=r-1,o=!0),g===-1?(n[a+1]=0,o=!0):g===s&&(n[a+1]=s-1,o=!0)}o=!0;for(let a=n.length-2;a>=0&&o;a-=2){const f=Math.floor(n[a]),g=Math.floor(n[a+1]);if(f<-1||f>r||g<-1||g>s)throw new q;o=!1,f===-1?(n[a]=0,o=!0):f===r&&(n[a]=r-1,o=!0),g===-1?(n[a+1]=0,o=!0):g===s&&(n[a+1]=s-1,o=!0)}}}class Bn{constructor(e,n,r,s,o,a,f,g,x){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=a,this.a13=f,this.a23=g,this.a33=x}static quadrilateralToQuadrilateral(e,n,r,s,o,a,f,g,x,A,T,R,k,P,j,H){const $=Bn.quadrilateralToSquare(e,n,r,s,o,a,f,g);return Bn.squareToQuadrilateral(x,A,T,R,k,P,j,H).times($)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,a=this.a21,f=this.a22,g=this.a23,x=this.a31,A=this.a32,T=this.a33;for(let R=0;R<n;R+=2){const k=e[R],P=e[R+1],j=o*k+g*P+T;e[R]=(r*k+a*P+x)/j,e[R+1]=(s*k+f*P+A)/j}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,a=this.a21,f=this.a22,g=this.a23,x=this.a31,A=this.a32,T=this.a33,R=e.length;for(let k=0;k<R;k++){const P=e[k],j=n[k],H=o*P+g*j+T;e[k]=(r*P+a*j+x)/H,n[k]=(s*P+f*j+A)/H}}static squareToQuadrilateral(e,n,r,s,o,a,f,g){const x=e-r+o-f,A=n-s+a-g;if(x===0&&A===0)return new Bn(r-e,o-r,e,s-n,a-s,n,0,0,1);{const T=r-o,R=f-o,k=s-a,P=g-a,j=T*P-R*k,H=(x*P-R*A)/j,$=(T*A-x*k)/j;return new Bn(r-e+H*r,f-e+$*f,e,s-n+H*s,g-n+$*g,n,H,$,1)}}static quadrilateralToSquare(e,n,r,s,o,a,f,g){return Bn.squareToQuadrilateral(e,n,r,s,o,a,f,g).buildAdjoint()}buildAdjoint(){return new Bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Bn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class vs extends As{sampleGrid(e,n,r,s,o,a,f,g,x,A,T,R,k,P,j,H,$,fe,de){const le=Bn.quadrilateralToQuadrilateral(s,o,a,f,g,x,A,T,R,k,P,j,H,$,fe,de);return this.sampleGridWithTransform(e,n,r,le)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new q;const o=new _e(n,r),a=new Float32Array(2*n);for(let f=0;f<r;f++){const g=a.length,x=f+.5;for(let A=0;A<g;A+=2)a[A]=A/2+.5,a[A+1]=x;s.transformPoints(a),As.checkAndNudgePoints(e,a);try{for(let A=0;A<g;A+=2)e.get(Math.floor(a[A]),Math.floor(a[A+1]))&&o.set(A/2,f)}catch{throw new q}}return o}}class Qn{static setGridSampler(e){Qn.gridSampler=e}static getInstance(){return Qn.gridSampler}}Qn.gridSampler=new vs;class fn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class pi{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new ro(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new q;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let a=0;a<4;a++){let f=r[(this.shift+a)%4];this.compact?(s<<=7,s+=f>>1&127):(s<<=10,s+=(f>>2&992)+(f>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,a)=>{let f=(s>>n-2<<1)+(s&1);r=(r<<3)+f}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(te.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new q}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,a=new Int32Array(r);for(let g=r-1;g>=0;--g)a[g]=e&15,e>>=4;try{new hi(ot.AZTEC_PARAM).decode(a,o)}catch{throw new q}let f=0;for(let g=0;g<s;g++)f=(f<<4)+a[g];return f}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(n,a,1,-1),R=this.getFirstDifferent(r,a,1,1),k=this.getFirstDifferent(s,a,-1,1),P=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(P,T)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(T,R,k,P))break}n=T,r=R,s=k,o=P,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let f=new ve(n.getX()+.5,n.getY()-.5),g=new ve(r.getX()+.5,r.getY()+.5),x=new ve(s.getX()-.5,s.getY()+.5),A=new ve(o.getX()-.5,o.getY()-.5);return this.expandSquare([f,g,x,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let f=new ur(this.image).detect();e=f[0],n=f[1],r=f[2],s=f[3]}catch{let g=this.image.getWidth()/2,x=this.image.getHeight()/2;e=this.getFirstDifferent(new fn(g+7,x-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new fn(g+7,x+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new fn(g-7,x+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new fn(g-7,x-7),!1,-1,-1).toResultPoint()}let o=nt.round((e.getX()+s.getX()+n.getX()+r.getX())/4),a=nt.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let f=new ur(this.image,15,o,a).detect();e=f[0],n=f[1],r=f[2],s=f[3]}catch{e=this.getFirstDifferent(new fn(o+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new fn(o+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new fn(o-7,a+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new fn(o-7,a-7),!1,-1,-1).toResultPoint()}return o=nt.round((e.getX()+s.getX()+n.getX()+r.getX())/4),a=nt.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new fn(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let a=Qn.getInstance(),f=this.getDimension(),g=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return a.sampleGrid(e,f,f,g,g,x,g,x,x,g,x,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),a=o/r,f=e.getX(),g=e.getY(),x=a*(n.getX()-e.getX())/o,A=a*(n.getY()-e.getY())/o;for(let T=0;T<r;T++)this.image.get(nt.round(f+T*x),nt.round(g+T*A))&&(s|=1<<r-T-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new fn(e.getX()-o,e.getY()+o),n=new fn(n.getX()-o,n.getY()-o),r=new fn(r.getX()+o,r.getY()-o),s=new fn(s.getX()+o,s.getY()+o);let a=this.getColor(s,e);if(a===0)return!1;let f=this.getColor(e,n);return f!==a||(f=this.getColor(n,r),f!==a)?!1:(f=this.getColor(r,s),f===a)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,a=0,f=e.getX(),g=e.getY(),x=this.image.get(e.getX(),e.getY()),A=Math.ceil(r);for(let R=0;R<A;R++)f+=s,g+=o,this.image.get(nt.round(f),nt.round(g))!==x&&a++;let T=a/r;return T>.1&&T<.9?0:T<=.1===x?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,a=e.getY()+s;for(;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r,a+=s;for(o-=r,a-=s;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===n;)a+=s;return a-=s,new fn(o,a)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),f=(e[0].getX()+e[2].getX())/2,g=(e[0].getY()+e[2].getY())/2,x=new ve(f+s*o,g+s*a),A=new ve(f-s*o,g-s*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),f=(e[1].getX()+e[3].getX())/2,g=(e[1].getY()+e[3].getY())/2;let T=new ve(f+s*o,g+s*a),R=new ve(f-s*o,g-s*a);return[x,T,A,R]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=nt.round(e.getX()),r=nt.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return nt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return nt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(te.truncDivision(this.nbLayers-4,8)+1)+15}}class Dr{decode(e,n=null){let r=null,s=new pi(e.getBlackMatrix()),o=null,a=null;try{let A=s.detectMirror(!1);o=A.getPoints(),this.reportFoundResultPoints(n,o),a=new Ct().decode(A)}catch(A){r=A}if(a==null)try{let A=s.detectMirror(!0);o=A.getPoints(),this.reportFoundResultPoints(n,o),a=new Ct().decode(A)}catch(A){throw r??A}let f=new Be(a.getText(),a.getRawBytes(),a.getNumBits(),o,me.AZTEC,X.currentTimeMillis()),g=a.getByteSegments();g!=null&&f.putMetadata(Ve.BYTE_SEGMENTS,g);let x=a.getECLevel();return x!=null&&f.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(De.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,a)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class Il extends He{constructor(e=500){super(new Dr,e)}}class Bt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(De.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,n),f=a.getResultMetadata();let g=270;f!==null&&f.get(Ve.ORIENTATION)===!0&&(g=g+f.get(Ve.ORIENTATION)%360),a.putMetadata(Ve.ORIENTATION,g);const x=a.getResultPoints();if(x!==null){const A=o.getHeight();for(let T=0;T<x.length;T++)x[T]=new ve(A-x[T].getY()-1,x[T].getX())}return a}else throw new q}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new pe(r);const a=n&&n.get(De.TRY_HARDER)===!0,f=Math.max(1,s>>(a?8:5));let g;a?g=s:g=15;const x=Math.trunc(s/2);for(let A=0;A<g;A++){const T=Math.trunc((A+1)/2),R=(A&1)===0,k=x+f*(R?T:-T);if(k<0||k>=s)break;try{o=e.getBlackRow(k,o)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(o.reverse(),n&&n.get(De.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;n.forEach((H,$)=>j.set($,H)),j.delete(De.NEED_RESULT_POINT_CALLBACK),n=j}try{const j=this.decodeRow(k,o,n);if(P===1){j.putMetadata(Ve.ORIENTATION,180);const H=j.getResultPoints();H!==null&&(H[0]=new ve(r-H[0].getX()-1,H[0].getY()),H[1]=new ve(r-H[1].getX()-1,H[1].getY()))}return j}catch{}}}throw new q}static recordPattern(e,n,r){const s=r.length;for(let x=0;x<s;x++)r[x]=0;const o=e.getSize();if(n>=o)throw new q;let a=!e.get(n),f=0,g=n;for(;g<o;){if(e.get(g)!==a)r[f]++;else{if(++f===s)break;r[f]=1,a=!a}g++}if(!(f===s||f===s-1&&g===o))throw new q}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new q;Bt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,a=0;for(let x=0;x<s;x++)o+=e[x],a+=n[x];if(o<a)return Number.POSITIVE_INFINITY;const f=o/a;r*=f;let g=0;for(let x=0;x<s;x++){const A=e[x],T=n[x]*f,R=A>T?A-T:T-A;if(R>r)return Number.POSITIVE_INFINITY;g+=R}return g/o}}class ye extends Bt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,f=!1;const g=6;for(let x=r;x<n;x++)if(e.get(x)!==f)o[s]++;else{if(s===g-1){let A=ye.MAX_AVG_VARIANCE,T=-1;for(let R=ye.CODE_START_A;R<=ye.CODE_START_C;R++){const k=Bt.patternMatchVariance(o,ye.CODE_PATTERNS[R],ye.MAX_INDIVIDUAL_VARIANCE);k<A&&(A=k,T=R)}if(T>=0&&e.isRange(Math.max(0,a-(x-a)/2),a,!1))return Int32Array.from([a,x,T]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,f=!f}throw new q}static decodeCode(e,n,r){Bt.recordPattern(e,r,n);let s=ye.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<ye.CODE_PATTERNS.length;a++){const f=ye.CODE_PATTERNS[a],g=this.patternMatchVariance(n,f,ye.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,o=a)}if(o>=0)return o;throw new q}decodeRow(e,n,r){const s=r&&r.get(De.ASSUME_GS1)===!0,o=ye.findStartPattern(n),a=o[2];let f=0;const g=new Uint8Array(20);g[f++]=a;let x;switch(a){case ye.CODE_START_A:x=ye.CODE_CODE_A;break;case ye.CODE_START_B:x=ye.CODE_CODE_B;break;case ye.CODE_START_C:x=ye.CODE_CODE_C;break;default:throw new oe}let A=!1,T=!1,R="",k=o[0],P=o[1];const j=Int32Array.from([0,0,0,0,0,0]);let H=0,$=0,fe=a,de=0,le=!0,Je=!1,Xe=!1;for(;!A;){const Sr=T;switch(T=!1,H=$,$=ye.decodeCode(n,j,P),g[f++]=$,$!==ye.CODE_STOP&&(le=!0),$!==ye.CODE_STOP&&(de++,fe+=de*$),k=P,P+=j.reduce((Ni,Io)=>Ni+Io,0),$){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new oe}switch(x){case ye.CODE_CODE_A:if($<64)Xe===Je?R+=String.fromCharCode(32+$):R+=String.fromCharCode(32+$+128),Xe=!1;else if($<96)Xe===Je?R+=String.fromCharCode($-64):R+=String.fromCharCode($+64),Xe=!1;else switch($!==ye.CODE_STOP&&(le=!1),$){case ye.CODE_FNC_1:s&&(R.length===0?R+="]C1":R+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!Je&&Xe?(Je=!0,Xe=!1):Je&&Xe?(Je=!1,Xe=!1):Xe=!0;break;case ye.CODE_SHIFT:T=!0,x=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:x=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:x=ye.CODE_CODE_C;break;case ye.CODE_STOP:A=!0;break}break;case ye.CODE_CODE_B:if($<96)Xe===Je?R+=String.fromCharCode(32+$):R+=String.fromCharCode(32+$+128),Xe=!1;else switch($!==ye.CODE_STOP&&(le=!1),$){case ye.CODE_FNC_1:s&&(R.length===0?R+="]C1":R+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!Je&&Xe?(Je=!0,Xe=!1):Je&&Xe?(Je=!1,Xe=!1):Xe=!0;break;case ye.CODE_SHIFT:T=!0,x=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:x=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:x=ye.CODE_CODE_C;break;case ye.CODE_STOP:A=!0;break}break;case ye.CODE_CODE_C:if($<100)$<10&&(R+="0"),R+=$;else switch($!==ye.CODE_STOP&&(le=!1),$){case ye.CODE_FNC_1:s&&(R.length===0?R+="]C1":R+="");break;case ye.CODE_CODE_A:x=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:x=ye.CODE_CODE_B;break;case ye.CODE_STOP:A=!0;break}break}Sr&&(x=x===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Tn=P-k;if(P=n.getNextUnset(P),!n.isRange(P,Math.min(n.getSize(),P+(P-k)/2),!1))throw new q;if(fe-=de*H,fe%103!==H)throw new W;const tr=R.length;if(tr===0)throw new q;tr>0&&le&&(x===ye.CODE_CODE_C?R=R.substring(0,tr-2):R=R.substring(0,tr-1));const Kt=(o[1]+o[0])/2,ht=k+Tn/2,Pt=g.length,Cn=new Uint8Array(Pt);for(let Sr=0;Sr<Pt;Sr++)Cn[Sr]=g[Sr];const qr=[new ve(Kt,e),new ve(ht,e)];return new Be(R,Cn,0,qr,me.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Xt extends Bt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Xt.findAsteriskPattern(n,s),a=n.getNextSet(o[1]),f=n.getSize(),g,x;do{Xt.recordPattern(n,a,s);let j=Xt.toNarrowWidePattern(s);if(j<0)throw new q;g=Xt.patternToChar(j),this.decodeRowResult+=g,x=a;for(let H of s)a+=H;a=n.getNextSet(a)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let j of s)A+=j;let T=a-x-A;if(a!==f&&T*2<A)throw new q;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,H=0;for(let $=0;$<j;$++)H+=Xt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(j)!==Xt.ALPHABET_STRING.charAt(H%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new q;let R;this.extendedMode?R=Xt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let k=(o[1]+o[0])/2,P=x+A/2;return new Be(R,null,0,[new ve(k,e),new ve(P,e)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,a=s,f=!1,g=n.length;for(let x=s;x<r;x++)if(e.get(x)!==f)n[o]++;else{if(o===g-1){if(this.toNarrowWidePattern(n)===Xt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((x-a)/2)),a,!1))return[a,x];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,f=!f}throw new q}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let g of e)g<o&&g>r&&(o=g);r=o,s=0;let a=0,f=0;for(let g=0;g<n;g++){let x=e[g];x>r&&(f|=1<<n-1-g,s++,a+=x)}if(s===3){for(let g=0;g<n&&s>0;g++){let x=e[g];if(x>r&&(s--,x*2>=a))return-1}return f}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<Xt.CHARACTER_ENCODINGS.length;n++)if(Xt.CHARACTER_ENCODINGS[n]===e)return Xt.ALPHABET_STRING.charAt(n);if(e===Xt.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(s+1),f="\0";switch(o){case"+":if(a>="A"&&a<="Z")f=String.fromCharCode(a.charCodeAt(0)+32);else throw new oe;break;case"$":if(a>="A"&&a<="Z")f=String.fromCharCode(a.charCodeAt(0)-64);else throw new oe;break;case"%":if(a>="A"&&a<="E")f=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")f=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")f=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")f=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")f="\0";else if(a==="V")f="@";else if(a==="W")f="`";else if(a==="X"||a==="Y"||a==="Z")f="";else throw new oe;break;case"/":if(a>="A"&&a<="O")f=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")f=":";else throw new oe;break}r+=f,s++}else r+=o}return r}}Xt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xt.ASTERISK_ENCODING=148;class dt extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),a=new We;dt.decodeMiddle(n,s[1],o[0],a);let f=a.toString(),g=null;r!=null&&(g=r.get(De.ALLOWED_LENGTHS)),g==null&&(g=dt.DEFAULT_ALLOWED_LENGTHS);let x=f.length,A=!1,T=0;for(let P of g){if(x===P){A=!0;break}P>T&&(T=P)}if(!A&&x>T&&(A=!0),!A)throw new oe;const R=[new ve(s[1],e),new ve(o[0],e)];return new Be(f,null,0,R,me.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),a=new Int32Array(5),f=new Int32Array(5);for(o.fill(0),a.fill(0),f.fill(0);n<r;){Bt.recordPattern(e,n,o);for(let x=0;x<5;x++){let A=2*x;a[x]=o[A],f[x]=o[A+1]}let g=dt.decodeDigit(a);s.append(g.toString()),g=this.decodeDigit(f),s.append(g.toString()),o.forEach(function(x){n+=x})}}decodeStart(e){let n=dt.skipWhiteSpace(e),r=dt.findGuardPattern(e,n,dt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new q}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new q;return r}decodeEnd(e){e.reverse();try{let n=dt.skipWhiteSpace(e),r;try{r=dt.findGuardPattern(e,n,dt.END_PATTERN_REVERSED[0])}catch(o){o instanceof q&&(r=dt.findGuardPattern(e,n,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),a=e.getSize(),f=!1,g=0,x=n;o.fill(0);for(let A=n;A<a;A++)if(e.get(A)!==f)o[g]++;else{if(g===s-1){if(Bt.patternMatchVariance(o,r,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[x,A];x+=o[0]+o[1],X.arraycopy(o,2,o,0,g-1),o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,f=!f}throw new q}static decodeDigit(e){let n=dt.MAX_AVG_VARIANCE,r=-1,s=dt.PATTERNS.length;for(let o=0;o<s;o++){let a=dt.PATTERNS[o],f=Bt.patternMatchVariance(e,a,dt.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,r=o):f===n&&(r=-1)}if(r>=0)return r%10;throw new q}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=Nt.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let a=r[0];s=r[1];let f=a-(s-a);f>=0&&(n=e.isRange(f,a,!1))}return r}static checkChecksum(e){return Nt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Nt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new oe;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new oe;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return Nt.findGuardPattern(e,n,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let a=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let f=0,g=n,x=s.length,A=r;for(let T=n;T<a;T++)if(e.get(T)!==A)o[f]++;else{if(f===x-1){if(Bt.patternMatchVariance(o,s,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([g,T]);g+=o[0]+o[1];let R=o.slice(2,o.length-1);for(let k=0;k<f-1;k++)o[k]=R[k];o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,A=!A}throw new q}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,a=-1,f=s.length;for(let g=0;g<f;g++){let x=s[g],A=Bt.patternMatchVariance(n,x,Nt.MAX_INDIVIDUAL_VARIANCE);A<o&&(o=A,a=g)}if(a>=0)return a;throw new q}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Yr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),a=s.toString(),f=Yr.parseExtensionString(a),g=[new ve((r[0]+r[1])/2,e),new ve(o,e)],x=new Be(a,null,0,g,me.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],f=0;for(let x=0;x<5&&a<o;x++){let A=Nt.decodeDigit(e,s,a,Nt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of s)a+=T;A>=10&&(f|=1<<4-x),x!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new q;let g=this.determineCheckDigit(f);if(Yr.extensionChecksum(r.toString())!==g)throw new q;return a}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new q}static parseExtensionString(e){if(e.length!==5)return null;let n=Yr.parseExtension5String(e);return n==null?null:new Map([[Ve.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,a=o<10?"0"+o:o.toString();return n+s+"."+a}}class Xi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),a=s.toString(),f=Xi.parseExtensionString(a),g=[new ve((r[0]+r[1])/2,e),new ve(o,e)],x=new Be(a,null,0,g,me.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],f=0;for(let g=0;g<2&&a<o;g++){let x=Nt.decodeDigit(e,s,a,Nt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+x%10);for(let A of s)a+=A;x>=10&&(f|=1<<1-g),g!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new q;if(parseInt(r.toString())%4!==f)throw new q;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(e)]])}}class Ss{static decodeRow(e,n,r){let s=Nt.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Yr().decodeRow(e,n,s)}catch{return new Xi().decodeRow(e,n,s)}}}Ss.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class et extends Nt{constructor(){super(),this.decodeRowStringBuffer="",et.L_AND_G_PATTERNS=et.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=et.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];et.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=et.findStartGuardPattern(n),o=r==null?null:r.get(De.NEED_RESULT_POINT_CALLBACK);if(o!=null){const le=new ve((s[0]+s[1])/2,e);o.foundPossibleResultPoint(le)}let a=this.decodeMiddle(n,s,this.decodeRowStringBuffer),f=a.rowOffset,g=a.resultString;if(o!=null){const le=new ve(f,e);o.foundPossibleResultPoint(le)}let x=this.decodeEnd(n,f);if(o!=null){const le=new ve((x[0]+x[1])/2,e);o.foundPossibleResultPoint(le)}let A=x[1],T=A+(A-x[0]);if(T>=n.getSize()||!n.isRange(A,T,!1))throw new q;let R=g.toString();if(R.length<8)throw new oe;if(!et.checkChecksum(R))throw new W;let k=(s[1]+s[0])/2,P=(x[1]+x[0])/2,j=this.getBarcodeFormat(),H=[new ve(k,e),new ve(P,e)],$=new Be(R,null,0,H,j,new Date().getTime()),fe=0;try{let le=Ss.decodeRow(e,n,x[1]);$.putMetadata(Ve.UPC_EAN_EXTENSION,le.getText()),$.putAllMetadata(le.getResultMetadata()),$.addResultPoints(le.getResultPoints()),fe=le.getText().length}catch{}let de=r==null?null:r.get(De.ALLOWED_EAN_EXTENSIONS);if(de!=null){let le=!1;for(let Je in de)if(fe.toString()===Je){le=!0;break}if(!le)throw new q}return $}decodeEnd(e,n){return et.findGuardPattern(e,n,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return et.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return et.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new oe;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new oe;r+=o}return(1e3-r)%10}}class Pn extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],f=0;for(let x=0;x<6&&a<o;x++){let A=et.decodeDigit(e,s,a,et.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of s)a+=T;A>=10&&(f|=1<<5-x)}r=Pn.determineFirstDigit(r,f),a=et.findGuardPattern(e,a,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&a<o;x++){let A=et.decodeDigit(e,s,a,et.L_PATTERNS);r+=String.fromCharCode(48+A);for(let T of s)a+=T}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new q}}Pn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class io extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1];for(let g=0;g<4&&a<o;g++){let x=et.decodeDigit(e,s,a,et.L_PATTERNS);r+=String.fromCharCode(48+x);for(let A of s)a+=A}a=et.findGuardPattern(e,a,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&a<o;g++){let x=et.decodeDigit(e,s,a,et.L_PATTERNS);r+=String.fromCharCode(48+x);for(let A of s)a+=A}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return me.EAN_8}}class so extends et{constructor(){super(...arguments),this.ean13Reader=new Pn}getBarcodeFormat(){return me.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Be(n.substring(1),null,null,e.getResultPoints(),me.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new q}reset(){this.ean13Reader.reset()}}class Fn extends et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(x=>x);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let a=n[1],f=0;for(let x=0;x<6&&a<o;x++){const A=Fn.decodeDigit(e,s,a,Fn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of s)a+=T;A>=10&&(f|=1<<5-x)}let g=Fn.determineNumSysAndCheckDigit(r,f);return{rowOffset:a,resultString:g}}decodeEnd(e,n){return Fn.findGuardPatternWithoutCounters(e,n,!0,Fn.MIDDLE_END_PATTERN)}checkChecksum(e){return et.checkChecksum(Fn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),a=String.fromCharCode(48+s);return o+e+a}throw q.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new We;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Fn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Is extends Bt{constructor(e){super();let n=e==null?null:e.get(De.POSSIBLE_FORMATS),r=[];m(n)?(r.push(new Pn),r.push(new so),r.push(new io),r.push(new Fn)):(n.indexOf(me.EAN_13)>-1&&r.push(new Pn),n.indexOf(me.UPC_A)>-1&&r.push(new so),n.indexOf(me.EAN_8)>-1&&r.push(new io),n.indexOf(me.UPC_E)>-1&&r.push(new Fn)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),a=o.getBarcodeFormat()===me.EAN_13&&o.getText().charAt(0)==="0",f=r==null?null:r.get(De.POSSIBLE_FORMATS),g=f==null||f.includes(me.UPC_A);if(a&&g){const x=o.getRawBytes(),A=new Be(o.getText().substring(1),x,x?x.length:null,o.getResultPoints(),me.UPC_A);return A.putAllMetadata(o.getResultMetadata()),A}return o}catch{}throw new q}reset(){for(let e of this.readers)e.reset()}}class rn extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Bt.patternMatchVariance(e,n[r],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return r;throw new q}static count(e){return nt.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=rn.MIN_FINDER_PATTERN_RATIO&&s<=rn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let f of e)f>a&&(a=f),f<o&&(o=f);return a<10*o}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class kr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof kr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qi{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ve(r,o)),this.resultPoints.push(new ve(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Qi))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class Sn{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let g of e)s+=g;let o=0,a=0,f=e.length;for(let g=0;g<f-1;g++){let x;for(x=1,a|=1<<g;x<e[g];x++,a&=~(1<<g)){let A=Sn.combins(s-x-1,f-g-2);if(r&&a===0&&s-x-(f-g-1)>=f-g-1&&(A-=Sn.combins(s-x-(f-g),f-g-2)),f-g-1>1){let T=0;for(let R=s-x-(f-g-2);R>n;R--)T+=Sn.combins(s-x-R-1,f-g-3);A-=T*(f-1-g)}else s-x>n&&A--;o+=A}s-=x}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,a=1;for(let f=e;f>r;f--)o*=f,a<=s&&(o/=a,a++);for(;a<=s;)o/=a,a++;return o}}class oo{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new pe(r),o=0,f=e[0].getRightChar().getValue();for(let g=11;g>=0;--g)(f&1<<g)!=0&&s.set(o),o++;for(let g=1;g<e.length;++g){let x=e[g],A=x.getLeftChar().getValue();for(let T=11;T>=0;--T)(A&1<<T)!=0&&s.set(o),o++;if(x.getRightChar()!=null){let T=x.getRightChar().getValue();for(let R=11;R>=0;--R)(T&1<<R)!=0&&s.set(o),o++}}return s}}class Zn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ao{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class $t extends ao{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===$t.FNC1}}$t.FNC1="$";class cr extends ao{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends ao{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new oe;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new q;let n=e.substring(0,2);for(let o of Ee.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,o[2],e):Ee.processFixedAI(2,o[1],e);if(e.length<3)throw new q;let r=e.substring(0,3);for(let o of Ee.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,o[2],e):Ee.processFixedAI(3,o[1],e);for(let o of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,o[2],e):Ee.processFixedAI(4,o[1],e);if(e.length<4)throw new q;let s=e.substring(0,4);for(let o of Ee.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,o[2],e):Ee.processFixedAI(4,o[1],e);throw new q}static processFixedAI(e,n,r){if(r.length<e)throw new q;let s=r.substring(0,e);if(r.length<e+n)throw new q;let o=r.substring(e,e+n),a=r.substring(e+n),f="("+s+")"+o,g=Ee.parseFieldsInGeneralPurpose(a);return g==null?f:f+g}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let a=r.substring(e,o),f=r.substring(o),g="("+s+")"+a,x=Ee.parseFieldsInGeneralPurpose(f);return x==null?g:g+x}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class xi{constructor(e){this.buffer=new We,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),a=Ee.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),o-1,mn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new mn(e+7,r,s)}extractNumericValueFromBitArray(e,n){return xi.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new cr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new cr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new cr(this.current.getPosition(),this.buffer.toString()):n=new cr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Zn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new cr(this.current.getPosition(),this.buffer.toString());return new Zn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new cr(this.current.getPosition(),this.buffer.toString());return new Zn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new cr(this.current.getPosition(),this.buffer.toString());return new Zn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new $t(e+5,$t.FNC1);if(n>=5&&n<15)return new $t(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new $t(e+7,""+(r+1));if(r>=90&&r<116)return new $t(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new oe}return new $t(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new $t(e+5,$t.FNC1);if(n>=5&&n<15)return new $t(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new $t(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Xn("Decoding invalid alphanumeric value: "+r)}return new $t(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class lo{constructor(e){this.information=e,this.generalDecoder=new xi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class In extends lo{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}In.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}In.GTIN_SIZE=40;class jn extends In{constructor(e){super(e)}parseInformation(){let e=new We;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(jn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,jn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,jn.HEADER_SIZE+44)}}jn.HEADER_SIZE=4;class Zi extends lo{constructor(e){super(e)}parseInformation(){let e=new We;return this.getGeneralDecoder().decodeAllCodes(e,Zi.HEADER_SIZE)}}Zi.HEADER_SIZE=5;class Ki extends In{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),a=1e5;for(let f=0;f<5;++f)o/a===0&&e.append("0"),a/=10;e.append(o)}}class fr extends Ki{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=fr.HEADER_SIZE+Ki.GTIN_SIZE+fr.WEIGHT_SIZE)throw new q;let e=new We;return this.encodeCompressedGtin(e,fr.HEADER_SIZE),this.encodeCompressedWeight(e,fr.HEADER_SIZE+Ki.GTIN_SIZE,fr.WEIGHT_SIZE),e.toString()}}fr.HEADER_SIZE=5,fr.WEIGHT_SIZE=15;class na extends fr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class ra extends fr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Kn extends In{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+In.GTIN_SIZE)throw new q;let e=new We;this.encodeCompressedGtin(e,Kn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+In.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+In.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class dn extends In{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+In.GTIN_SIZE)throw new q;let e=new We;this.encodeCompressedGtin(e,dn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+In.GTIN_SIZE,dn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+In.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+In.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}dn.HEADER_SIZE=8,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class Tt extends Ki{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+Tt.GTIN_SIZE+Tt.WEIGHT_SIZE+Tt.DATE_SIZE)throw new q;let e=new We;return this.encodeCompressedGtin(e,Tt.HEADER_SIZE),this.encodeCompressedWeight(e,Tt.HEADER_SIZE+Tt.GTIN_SIZE,Tt.WEIGHT_SIZE),this.encodeCompressedDate(e,Tt.HEADER_SIZE+Tt.GTIN_SIZE+Tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Tt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Tt.HEADER_SIZE=8,Tt.WEIGHT_SIZE=20,Tt.DATE_SIZE=16;function ia(N){try{if(N.get(1))return new jn(N);if(!N.get(2))return new Zi(N);switch(xi.extractNumericValueFromBitArray(N,1,4)){case 4:return new na(N);case 5:return new ra(N)}switch(xi.extractNumericValueFromBitArray(N,1,5)){case 12:return new Kn(N);case 13:return new dn(N)}switch(xi.extractNumericValueFromBitArray(N,1,7)){case 56:return new Tt(N,"310","11");case 57:return new Tt(N,"320","11");case 58:return new Tt(N,"310","13");case 59:return new Tt(N,"320","13");case 60:return new Tt(N,"310","15");case 61:return new Tt(N,"320","15");case 62:return new Tt(N,"310","17");case 63:return new Tt(N,"320","17")}}catch(e){throw console.log(e),new Xn("unknown decoder: "+N)}}class mt{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof mt?mt.equalsOrNull(e.leftchar,n.leftchar)&&mt.equalsOrNull(e.rightchar,n.rightchar)&&mt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:mt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class uo{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof uo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(a=>{s.getLeftChar().getValue()===a.getLeftChar().getValue()&&s.getRightChar().getValue()===a.getRightChar().getValue()&&s.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class se extends rn{constructor(e){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof q){if(!this.pairs.length)throw new q;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new q}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(s.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(a){this.verbose&&console.log(a)}}throw new q}static isValidSequence(e){for(let n of se.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}s=a.isEquivalent(this.pairs),r++}o||s||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new uo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(mt.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let a=!1;for(let f of r.getPairs())if(o.equals(f)){a=!0;break}if(!a){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=oo.buildBitArray(e),s=ia(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),f=[o[0],o[1],a[0],a[1]];return new Be(s,null,null,f,me.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let f=1;f<this.pairs.size();++f){let g=this.pairs.get(f);s+=g.getLeftChar().getChecksumPortion(),o++;let x=g.getRightChar();x!=null&&(s+=x.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,a=!0,f=-1;do this.findNextPair(e,n,f),o=this.parseFoundFinderPattern(e,r,s),o==null?f=se.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let g=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new q;let x;try{x=this.decodeDataCharacter(e,o,s,!1)}catch(A){x=null,this.verbose&&console.log(A)}return new mt(g,x,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a;r>=0?a=r:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let f=n.length%2!=0;this.startFromEven&&(f=!f);let g=!1;for(;a<o&&(g=!e.get(a),!!g);)a++;let x=0,A=a;for(let T=a;T<o;T++)if(e.get(T)!=g)s[x]++;else{if(x==3){if(f&&se.reverseCounters(s),se.isFinderPattern(s)){this.startEnd[0]=A,this.startEnd[1]=T;return}f&&se.reverseCounters(s),A+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,x--}else x++;s[x]=1,g=!g}throw new q}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,a;if(r){let x=this.startEnd[0]-1;for(;x>=0&&!e.get(x);)x--;x++,s=this.startEnd[0]-x,o=x,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),s=a-this.startEnd[1];let f=this.getDecodeFinderCounters();X.arraycopy(f,0,f,1,f.length-1),f[0]=s;let g;try{g=this.parseFinderValue(f,se.FINDER_PATTERNS)}catch{return null}return new Qi(g,[o,a],o,a,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let ht=0;ht<o.length;ht++)o[ht]=0;if(s)se.recordPatternInReverse(e,n.getStartEnd()[0],o);else{se.recordPattern(e,n.getStartEnd()[1],o);for(let ht=0,Pt=o.length-1;ht<Pt;ht++,Pt--){let Cn=o[ht];o[ht]=o[Pt],o[Pt]=Cn}}let a=17,f=nt.sum(new Int32Array(o))/a,g=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-g)/g>.3)throw new q;let x=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let ht=0;ht<o.length;ht++){let Pt=1*o[ht]/f,Cn=Pt+.5;if(Cn<1){if(Pt<.3)throw new q;Cn=1}else if(Cn>8){if(Pt>8.7)throw new q;Cn=8}let qr=ht/2;(ht&1)==0?(x[qr]=Cn,T[qr]=Pt-Cn):(A[qr]=Cn,R[qr]=Pt-Cn)}this.adjustOddEvenCounts(a);let k=4*n.getValue()+(r?0:2)+(s?0:1)-1,P=0,j=0;for(let ht=x.length-1;ht>=0;ht--){if(se.isNotA1left(n,r,s)){let Pt=se.WEIGHTS[k][2*ht];j+=x[ht]*Pt}P+=x[ht]}let H=0;for(let ht=A.length-1;ht>=0;ht--)if(se.isNotA1left(n,r,s)){let Pt=se.WEIGHTS[k][2*ht+1];H+=A[ht]*Pt}let $=j+H;if((P&1)!=0||P>13||P<4)throw new q;let fe=(13-P)/2,de=se.SYMBOL_WIDEST[fe],le=9-de,Je=Sn.getRSSvalue(x,de,!0),Xe=Sn.getRSSvalue(A,le,!1),Tn=se.EVEN_TOTAL_SUBSET[fe],tr=se.GSUM[fe],Kt=Je*Tn+Xe+tr;return new kr(Kt,$)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=nt.sum(new Int32Array(this.getOddCounts())),r=nt.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let a=!1,f=!1;r>13?f=!0:r<4&&(a=!0);let g=n+r-e,x=(n&1)==1,A=(r&1)==0;if(g==1)if(x){if(A)throw new q;o=!0}else{if(!A)throw new q;f=!0}else if(g==-1)if(x){if(A)throw new q;s=!0}else{if(!A)throw new q;a=!0}else if(g==0){if(x){if(!A)throw new q;n<r?(s=!0,f=!0):(o=!0,a=!0)}else if(A)throw new q}else throw new q;if(s){if(o)throw new q;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(f)throw new q;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class sa extends kr{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);St.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);St.addOrTally(this.possibleRightPairs,o),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&St.checkChecksum(a,f))return St.constructResult(a,f)}throw new q}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new We;for(let x=13-s.length;x>0;x--)o.append("0");o.append(s);let a=0;for(let x=0;x<13;x++){let A=o.charAt(x).charCodeAt(0)-48;a+=(x&1)===0?3*A:A}a=10-a%10,a===10&&(a=0),o.append(a.toString());let f=e.getFinderPattern().getResultPoints(),g=n.getFinderPattern().getResultPoints();return new Be(o.toString(),null,0,[f[0],f[1],g[0],g[1]],me.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,r,n,o),f=s==null?null:s.get(De.NEED_RESULT_POINT_CALLBACK);if(f!=null){let A=(o[0]+o[1])/2;n&&(A=e.getSize()-1-A),f.foundPossibleResultPoint(new ve(A,r))}let g=this.decodeDataCharacter(e,a,!0),x=this.decodeDataCharacter(e,a,!1);return new sa(1597*g.getValue()+x.getValue(),g.getChecksumPortion()+4*x.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let H=0;H<s.length;H++)s[H]=0;if(r)Bt.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Bt.recordPattern(e,n.getStartEnd()[1]+1,s);for(let H=0,$=s.length-1;H<$;H++,$--){let fe=s[H];s[H]=s[$],s[$]=fe}}let o=r?16:15,a=nt.sum(new Int32Array(s))/o,f=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let H=0;H<s.length;H++){let $=s[H]/a,fe=Math.floor($+.5);fe<1?fe=1:fe>8&&(fe=8);let de=Math.floor(H/2);(H&1)===0?(f[de]=fe,x[de]=$-fe):(g[de]=fe,A[de]=$-fe)}this.adjustOddEvenCounts(r,o);let T=0,R=0;for(let H=f.length-1;H>=0;H--)R*=9,R+=f[H],T+=f[H];let k=0,P=0;for(let H=g.length-1;H>=0;H--)k*=9,k+=g[H],P+=g[H];let j=R+3*k;if(r){if((T&1)!==0||T>12||T<4)throw new q;let H=(12-T)/2,$=St.OUTSIDE_ODD_WIDEST[H],fe=9-$,de=Sn.getRSSvalue(f,$,!1),le=Sn.getRSSvalue(g,fe,!0),Je=St.OUTSIDE_EVEN_TOTAL_SUBSET[H],Xe=St.OUTSIDE_GSUM[H];return new kr(de*Je+le+Xe,j)}else{if((P&1)!==0||P>10||P<4)throw new q;let H=(10-P)/2,$=St.INSIDE_ODD_WIDEST[H],fe=9-$,de=Sn.getRSSvalue(f,$,!0),le=Sn.getRSSvalue(g,fe,!1),Je=St.INSIDE_ODD_TOTAL_SUBSET[H],Xe=St.INSIDE_GSUM[H];return new kr(le*Je+de+Xe,j)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,a=0;for(;a<s&&(o=!e.get(a),n!==o);)a++;let f=0,g=a;for(let x=a;x<s;x++)if(e.get(x)!==o)r[f]++;else{if(f===3){if(rn.isFinderPattern(r))return[g,x];g+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,f--}else f++;r[f]=1,o=!o}throw new q}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),a=s[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const f=s[0]-a,g=this.getDecodeFinderCounters(),x=new Int32Array(g.length);X.arraycopy(g,0,x,1,g.length-1),x[0]=f;const A=this.parseFinderValue(x,St.FINDER_PATTERNS);let T=a,R=s[1];return r&&(T=e.getSize()-1-T,R=e.getSize()-1-R),new Qi(A,[a,s[1]],T,R,n)}adjustOddEvenCounts(e,n){let r=nt.sum(new Int32Array(this.getOddCounts())),s=nt.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,f=!1,g=!1;e?(r>12?a=!0:r<4&&(o=!0),s>12?g=!0:s<4&&(f=!0)):(r>11?a=!0:r<5&&(o=!0),s>10?g=!0:s<4&&(f=!0));let x=r+s-n,A=(r&1)===(e?1:0),T=(s&1)===1;if(x===1)if(A){if(T)throw new q;a=!0}else{if(!T)throw new q;g=!0}else if(x===-1)if(A){if(T)throw new q;o=!0}else{if(!T)throw new q;f=!0}else if(x===0){if(A){if(!T)throw new q;r<s?(o=!0,g=!0):(a=!0,f=!0)}else if(T)throw new q}else throw new q;if(o){if(a)throw new q;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new q;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class mi extends Bt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(De.POSSIBLE_FORMATS):null,s=e&&e.get(De.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(me.EAN_13)||r.includes(me.UPC_A)||r.includes(me.EAN_8)||r.includes(me.UPC_E))&&this.readers.push(new Is(e)),r.includes(me.CODE_39)&&this.readers.push(new Xt(s)),r.includes(me.CODE_128)&&this.readers.push(new ye),r.includes(me.ITF)&&this.readers.push(new dt),r.includes(me.RSS_14)&&this.readers.push(new St),r.includes(me.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new Is(e)),this.readers.push(new Xt),this.readers.push(new Is(e)),this.readers.push(new ye),this.readers.push(new dt),this.readers.push(new St),this.readers.push(new se(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new q}reset(){this.readers.forEach(e=>e.reset())}}class oa extends He{constructor(e=500,n){super(new mi(n),e,n)}}class lt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ke{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(e,n,r,s,o,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=a;let f=0;const g=a.getECCodewords(),x=a.getECBlocks();for(let A of x)f+=A.getCount()*(A.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new oe;for(let r of rt.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new oe}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new lt(5,new Ke(1,3))),new rt(2,12,12,10,10,new lt(7,new Ke(1,5))),new rt(3,14,14,12,12,new lt(10,new Ke(1,8))),new rt(4,16,16,14,14,new lt(12,new Ke(1,12))),new rt(5,18,18,16,16,new lt(14,new Ke(1,18))),new rt(6,20,20,18,18,new lt(18,new Ke(1,22))),new rt(7,22,22,20,20,new lt(20,new Ke(1,30))),new rt(8,24,24,22,22,new lt(24,new Ke(1,36))),new rt(9,26,26,24,24,new lt(28,new Ke(1,44))),new rt(10,32,32,14,14,new lt(36,new Ke(1,62))),new rt(11,36,36,16,16,new lt(42,new Ke(1,86))),new rt(12,40,40,18,18,new lt(48,new Ke(1,114))),new rt(13,44,44,20,20,new lt(56,new Ke(1,144))),new rt(14,48,48,22,22,new lt(68,new Ke(1,174))),new rt(15,52,52,24,24,new lt(42,new Ke(2,102))),new rt(16,64,64,14,14,new lt(56,new Ke(2,140))),new rt(17,72,72,16,16,new lt(36,new Ke(4,92))),new rt(18,80,80,18,18,new lt(48,new Ke(4,114))),new rt(19,88,88,20,20,new lt(56,new Ke(4,144))),new rt(20,96,96,22,22,new lt(68,new Ke(4,174))),new rt(21,104,104,24,24,new lt(56,new Ke(6,136))),new rt(22,120,120,18,18,new lt(68,new Ke(6,175))),new rt(23,132,132,20,20,new lt(62,new Ke(8,163))),new rt(24,144,144,22,22,new lt(62,new Ke(8,156),new Ke(2,155))),new rt(25,8,18,6,16,new lt(7,new Ke(1,5))),new rt(26,8,32,6,14,new lt(11,new Ke(1,10))),new rt(27,12,26,10,24,new lt(14,new Ke(1,16))),new rt(28,12,36,10,16,new lt(18,new Ke(1,22))),new rt(29,16,36,14,16,new lt(24,new Ke(1,32))),new rt(30,16,48,14,22,new lt(28,new Ke(1,49)))]}}rt.VERSIONS=rt.buildVersions();class On{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new oe;this.version=On.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return rt.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let f=!1,g=!1,x=!1,A=!1;do if(r===o&&s===0&&!f)e[n++]=this.readCorner1(o,a)&255,r-=2,s+=2,f=!0;else if(r===o-2&&s===0&&(a&3)!==0&&!g)e[n++]=this.readCorner2(o,a)&255,r-=2,s+=2,g=!0;else if(r===o+4&&s===2&&(a&7)===0&&!x)e[n++]=this.readCorner3(o,a)&255,r-=2,s+=2,x=!0;else if(r===o-2&&s===0&&(a&7)===4&&!A)e[n++]=this.readCorner4(o,a)&255,r-=2,s+=2,A=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,a)&255),r-=2,s+=2;while(r>=0&&s<a);r+=1,s+=3;do r>=0&&s<a&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,a)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<a);if(n!==this.version.getTotalCodewords())throw new oe;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new _("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=n/s|0,f=r/o|0,g=a*s,x=f*o,A=new _e(x,g);for(let T=0;T<a;++T){const R=T*s;for(let k=0;k<f;++k){const P=k*o;for(let j=0;j<s;++j){const H=T*(s+2)+1+j,$=R+j;for(let fe=0;fe<o;++fe){const de=k*(o+2)+1+fe;if(e.get(de,H)){const le=P+fe;A.set(le,$)}}}}}return A}}class co{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let j of o)s+=j.getCount();const a=new Array(s);let f=0;for(let j of o)for(let H=0;H<j.getCount();H++){const $=j.getDataCodewords(),fe=r.getECCodewords()+$;a[f++]=new co($,new Uint8Array(fe))}const x=a[0].codewords.length-r.getECCodewords(),A=x-1;let T=0;for(let j=0;j<A;j++)for(let H=0;H<f;H++)a[H].codewords[j]=e[T++];const R=n.getVersionNumber()===24,k=R?8:f;for(let j=0;j<k;j++)a[j].codewords[x-1]=e[T++];const P=a[0].codewords.length;for(let j=x;j<P;j++)for(let H=0;H<f;H++){const $=R?(H+8)%f:H,fe=R&&$>7?j-1:j;a[$].codewords[fe]=e[T++]}if(T!==e.length)throw new _;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new _(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const a=8-r,f=e<a?e:a,g=a-f,x=255>>8-f<<g;n=(o[s]&x)>>g,e-=f,r+=f,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const a=8-e,f=255>>a<<a;n=n<<e|(o[s]&f)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qt||(Qt={}));class qn{static decode(e){const n=new fo(e),r=new We,s=new We,o=new Array;let a=Qt.ASCII_ENCODE;do if(a===Qt.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,s);else{switch(a){case Qt.C40_ENCODE:this.decodeC40Segment(n,r);break;case Qt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Qt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Qt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Qt.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new oe}a=Qt.ASCII_ENCODE}while(a!==Qt.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new xt(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new oe;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),Qt.ASCII_ENCODE;if(o===129)return Qt.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&n.append("0"),n.append(""+a)}else switch(o){case 230:return Qt.C40_ENCODE;case 231:return Qt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Qt.ANSIX12_ENCODE;case 239:return Qt.TEXT_ENCODE;case 240:return Qt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new oe;break}}while(e.available()>0);return Qt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(o){case 0:if(g<3)o=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[g];r?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):n.append(x)}else throw new oe;break;case 1:r?(n.append(String.fromCharCode(g+128)),r=!1):n.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[g];r?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):n.append(x)}else switch(g){case 27:n.append("");break;case 30:r=!0;break;default:throw new oe}o=0;break;case 3:r?(n.append(String.fromCharCode(g+224)),r=!1):n.append(String.fromCharCode(g+96)),o=0;break;default:throw new oe}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(o){case 0:if(g<3)o=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[g];r?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):n.append(x)}else throw new oe;break;case 1:r?(n.append(String.fromCharCode(g+128)),r=!1):n.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[g];r?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):n.append(x)}else switch(g){case 27:n.append("");break;case 30:r=!0;break;default:throw new oe}o=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[g];r?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):n.append(x),o=0}else throw new oe;break;default:throw new oe}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const a=r[o];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new oe;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(s&32)===0&&(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),a<0)throw new oe;const f=new Uint8Array(a);for(let g=0;g<a;g++){if(e.available()<8)throw new oe;f[g]=this.unrandomize255State(e.readBits(8),s++)}r.push(f);try{n.append($e.decode(f,Me.ISO88591))}catch(g){throw new Xn("Platform does not support required encoding: "+g.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}qn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],qn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],qn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],qn.TEXT_SHIFT2_SET_CHARS=qn.C40_SHIFT2_SET_CHARS,qn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ns{constructor(){this.rsDecoder=new hi(ot.DATA_MATRIX_FIELD_256)}decode(e){const n=new On(e),r=n.getVersion(),s=n.readCodewords(),o=co.getDataBlocks(s,r);let a=0;for(let x of o)a+=x.getNumDataCodewords();const f=new Uint8Array(a),g=o.length;for(let x=0;x<g;x++){const A=o[x],T=A.getCodewords(),R=A.getNumDataCodewords();this.correctErrors(T,R);for(let k=0;k<R;k++)f[k*g+x]=T[k]}return qn.decode(f)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new W}for(let s=0;s<n;s++)e[s]=r[s]}}class It{constructor(e){this.image=e,this.rectangleDetector=new ur(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new q;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],a=n[3];let f=this.transitionsBetween(r,a)+1,g=this.transitionsBetween(o,a)+1;(f&1)===1&&(f+=1),(g&1)===1&&(g+=1),4*f<7*g&&4*g<7*f&&(f=g=Math.max(f,g));let x=It.sampleGrid(this.image,r,s,o,a,f,g);return new gi(x,[r,s,o,a])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new ve(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new ve(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],a=this.transitionsBetween(n,r),f=this.transitionsBetween(r,s),g=this.transitionsBetween(s,o),x=this.transitionsBetween(o,n),A=a,T=[o,n,r,s];return A>f&&(A=f,T[0]=n,T[1]=r,T[2]=s,T[3]=o),A>g&&(A=g,T[0]=r,T[1]=s,T[2]=o,T[3]=n),A>x&&(T[0]=s,T[1]=o,T[2]=n,T[3]=r),T}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o),f=It.shiftPoint(r,s,(a+1)*4),g=It.shiftPoint(s,r,(a+1)*4),x=this.transitionsBetween(f,n),A=this.transitionsBetween(g,o);return x<A?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o),f=this.transitionsBetween(r,o),g=It.shiftPoint(n,r,(f+1)*4),x=It.shiftPoint(s,r,(a+1)*4);a=this.transitionsBetween(g,o),f=this.transitionsBetween(x,o);let A=new ve(o.getX()+(s.getX()-r.getX())/(a+1),o.getY()+(s.getY()-r.getY())/(a+1)),T=new ve(o.getX()+(n.getX()-r.getX())/(f+1),o.getY()+(n.getY()-r.getY())/(f+1));if(!this.isValid(A))return this.isValid(T)?T:null;if(!this.isValid(T))return A;let R=this.transitionsBetween(g,A)+this.transitionsBetween(x,A),k=this.transitionsBetween(g,T)+this.transitionsBetween(x,T);return R>k?A:T}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,f=this.transitionsBetween(s,o)+1,g=It.shiftPoint(n,r,f*4),x=It.shiftPoint(s,r,a*4);a=this.transitionsBetween(g,o)+1,f=this.transitionsBetween(x,o)+1,(a&1)===1&&(a+=1),(f&1)===1&&(f+=1);let A=(n.getX()+r.getX()+s.getX()+o.getX())/4,T=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=It.moveAway(n,A,T),r=It.moveAway(r,A,T),s=It.moveAway(s,A,T),o=It.moveAway(o,A,T);let R,k;return g=It.shiftPoint(n,r,f*4),g=It.shiftPoint(g,o,a*4),R=It.shiftPoint(r,n,f*4),R=It.shiftPoint(R,s,a*4),x=It.shiftPoint(s,o,f*4),x=It.shiftPoint(x,r,a*4),k=It.shiftPoint(o,s,f*4),k=It.shiftPoint(k,n,a*4),[g,R,x,k]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,a,f){return Qn.getInstance().sampleGrid(e,a,f,.5,.5,a-.5,.5,a-.5,f-.5,.5,f-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),f=Math.abs(a-s)>Math.abs(o-r);if(f){let j=r;r=s,s=j,j=o,o=a,a=j}let g=Math.abs(o-r),x=Math.abs(a-s),A=-g/2,T=s<a?1:-1,R=r<o?1:-1,k=0,P=this.image.get(f?s:r,f?r:s);for(let j=r,H=s;j!==o;j+=R){let $=this.image.get(f?H:j,f?j:H);if($!==P&&(k++,P=$),A+=x,A>0){if(H===a)break;H+=T,A-=g}}return k}}class $n{constructor(){this.decoder=new Ns}decode(e,n=null){let r,s;if(n!=null&&n.has(De.PURE_BARCODE)){const x=$n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(x),s=$n.NO_POINTS}else{const x=new It(e.getBlackMatrix()).detect();r=this.decoder.decode(x.getBits()),s=x.getPoints()}const o=r.getRawBytes(),a=new Be(r.getText(),o,8*o.length,s,me.DATA_MATRIX,X.currentTimeMillis()),f=r.getByteSegments();f!=null&&a.putMetadata(Ve.BYTE_SEGMENTS,f);const g=r.getECLevel();return g!=null&&a.putMetadata(Ve.ERROR_CORRECTION_LEVEL,g),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new q;const s=this.moduleSize(n,e);let o=n[1];const a=r[1];let f=n[0];const x=(r[0]-f+1)/s,A=(a-o+1)/s;if(x<=0||A<=0)throw new q;const T=s/2;o+=T,f+=T;const R=new _e(x,A);for(let k=0;k<A;k++){const P=o+k*s;for(let j=0;j<x;j++)e.get(f+j*s,P)&&R.set(j,k)}return R}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new q;const a=s-e[0];if(a===0)throw new q;return a}}$n.NO_POINTS=[];class Nl extends He{constructor(e=500){super(new $n,e)}}var yi;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(yi||(yi={}));class yt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,yt.FOR_BITS.set(r,this),yt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return yt.L;case"M":return yt.M;case"Q":return yt.Q;case"H":return yt.H;default:throw new b(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof yt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=yt.FOR_BITS.size)throw new _;return yt.FOR_BITS.get(e)}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.L=new yt(yi.L,"L",1),yt.M=new yt(yi.M,"M",0),yt.Q=new yt(yi.Q,"Q",3),yt.H=new yt(yi.H,"H",2);class sn{constructor(e){this.errorCorrectionLevel=yt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return te.bitCount(e^n)}static decodeFormatInformation(e,n){const r=sn.doDecodeFormatInformation(e,n);return r!==null?r:sn.doDecodeFormatInformation(e^sn.FORMAT_INFO_MASK_QR,n^sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of sn.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===n)return new sn(o[1]);let f=sn.numBitsDiffering(e,a);f<r&&(s=o[1],r=f),e!==n&&(f=sn.numBitsDiffering(n,a),f<r&&(s=o[1],r=f))}return r<=3?new sn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof sn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}sn.FORMAT_INFO_MASK_QR=21522,sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const f of a)s+=f.getCount()*(f.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new oe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new oe}}static getVersionForNumber(e){if(e<1||e>40)throw new _;return Oe.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Oe.VERSION_DECODE_INFO.length;s++){const o=Oe.VERSION_DECODE_INFO[s];if(o===e)return Oe.getVersionForNumber(s+7);const a=sn.numBitsDiffering(e,o);a<n&&(r=s+7,n=a)}return n<=3?Oe.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new _e(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let a=0;a<r;a++)s===0&&(a===0||a===r-1)||s===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new G(7,new D(1,19)),new G(10,new D(1,16)),new G(13,new D(1,13)),new G(17,new D(1,9))),new Oe(2,Int32Array.from([6,18]),new G(10,new D(1,34)),new G(16,new D(1,28)),new G(22,new D(1,22)),new G(28,new D(1,16))),new Oe(3,Int32Array.from([6,22]),new G(15,new D(1,55)),new G(26,new D(1,44)),new G(18,new D(2,17)),new G(22,new D(2,13))),new Oe(4,Int32Array.from([6,26]),new G(20,new D(1,80)),new G(18,new D(2,32)),new G(26,new D(2,24)),new G(16,new D(4,9))),new Oe(5,Int32Array.from([6,30]),new G(26,new D(1,108)),new G(24,new D(2,43)),new G(18,new D(2,15),new D(2,16)),new G(22,new D(2,11),new D(2,12))),new Oe(6,Int32Array.from([6,34]),new G(18,new D(2,68)),new G(16,new D(4,27)),new G(24,new D(4,19)),new G(28,new D(4,15))),new Oe(7,Int32Array.from([6,22,38]),new G(20,new D(2,78)),new G(18,new D(4,31)),new G(18,new D(2,14),new D(4,15)),new G(26,new D(4,13),new D(1,14))),new Oe(8,Int32Array.from([6,24,42]),new G(24,new D(2,97)),new G(22,new D(2,38),new D(2,39)),new G(22,new D(4,18),new D(2,19)),new G(26,new D(4,14),new D(2,15))),new Oe(9,Int32Array.from([6,26,46]),new G(30,new D(2,116)),new G(22,new D(3,36),new D(2,37)),new G(20,new D(4,16),new D(4,17)),new G(24,new D(4,12),new D(4,13))),new Oe(10,Int32Array.from([6,28,50]),new G(18,new D(2,68),new D(2,69)),new G(26,new D(4,43),new D(1,44)),new G(24,new D(6,19),new D(2,20)),new G(28,new D(6,15),new D(2,16))),new Oe(11,Int32Array.from([6,30,54]),new G(20,new D(4,81)),new G(30,new D(1,50),new D(4,51)),new G(28,new D(4,22),new D(4,23)),new G(24,new D(3,12),new D(8,13))),new Oe(12,Int32Array.from([6,32,58]),new G(24,new D(2,92),new D(2,93)),new G(22,new D(6,36),new D(2,37)),new G(26,new D(4,20),new D(6,21)),new G(28,new D(7,14),new D(4,15))),new Oe(13,Int32Array.from([6,34,62]),new G(26,new D(4,107)),new G(22,new D(8,37),new D(1,38)),new G(24,new D(8,20),new D(4,21)),new G(22,new D(12,11),new D(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new G(30,new D(3,115),new D(1,116)),new G(24,new D(4,40),new D(5,41)),new G(20,new D(11,16),new D(5,17)),new G(24,new D(11,12),new D(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new G(22,new D(5,87),new D(1,88)),new G(24,new D(5,41),new D(5,42)),new G(30,new D(5,24),new D(7,25)),new G(24,new D(11,12),new D(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new G(24,new D(5,98),new D(1,99)),new G(28,new D(7,45),new D(3,46)),new G(24,new D(15,19),new D(2,20)),new G(30,new D(3,15),new D(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new G(28,new D(1,107),new D(5,108)),new G(28,new D(10,46),new D(1,47)),new G(28,new D(1,22),new D(15,23)),new G(28,new D(2,14),new D(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new G(30,new D(5,120),new D(1,121)),new G(26,new D(9,43),new D(4,44)),new G(28,new D(17,22),new D(1,23)),new G(28,new D(2,14),new D(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new G(28,new D(3,113),new D(4,114)),new G(26,new D(3,44),new D(11,45)),new G(26,new D(17,21),new D(4,22)),new G(26,new D(9,13),new D(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new G(28,new D(3,107),new D(5,108)),new G(26,new D(3,41),new D(13,42)),new G(30,new D(15,24),new D(5,25)),new G(28,new D(15,15),new D(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new G(28,new D(4,116),new D(4,117)),new G(26,new D(17,42)),new G(28,new D(17,22),new D(6,23)),new G(30,new D(19,16),new D(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new G(28,new D(2,111),new D(7,112)),new G(28,new D(17,46)),new G(30,new D(7,24),new D(16,25)),new G(24,new D(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new G(30,new D(4,121),new D(5,122)),new G(28,new D(4,47),new D(14,48)),new G(30,new D(11,24),new D(14,25)),new G(30,new D(16,15),new D(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new G(30,new D(6,117),new D(4,118)),new G(28,new D(6,45),new D(14,46)),new G(30,new D(11,24),new D(16,25)),new G(30,new D(30,16),new D(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new G(26,new D(8,106),new D(4,107)),new G(28,new D(8,47),new D(13,48)),new G(30,new D(7,24),new D(22,25)),new G(30,new D(22,15),new D(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new G(28,new D(10,114),new D(2,115)),new G(28,new D(19,46),new D(4,47)),new G(28,new D(28,22),new D(6,23)),new G(30,new D(33,16),new D(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new G(30,new D(8,122),new D(4,123)),new G(28,new D(22,45),new D(3,46)),new G(30,new D(8,23),new D(26,24)),new G(30,new D(12,15),new D(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new D(3,117),new D(10,118)),new G(28,new D(3,45),new D(23,46)),new G(30,new D(4,24),new D(31,25)),new G(30,new D(11,15),new D(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new D(7,116),new D(7,117)),new G(28,new D(21,45),new D(7,46)),new G(30,new D(1,23),new D(37,24)),new G(30,new D(19,15),new D(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new D(5,115),new D(10,116)),new G(28,new D(19,47),new D(10,48)),new G(30,new D(15,24),new D(25,25)),new G(30,new D(23,15),new D(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new D(13,115),new D(3,116)),new G(28,new D(2,46),new D(29,47)),new G(30,new D(42,24),new D(1,25)),new G(30,new D(23,15),new D(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new D(17,115)),new G(28,new D(10,46),new D(23,47)),new G(30,new D(10,24),new D(35,25)),new G(30,new D(19,15),new D(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new D(17,115),new D(1,116)),new G(28,new D(14,46),new D(21,47)),new G(30,new D(29,24),new D(19,25)),new G(30,new D(11,15),new D(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new D(13,115),new D(6,116)),new G(28,new D(14,46),new D(23,47)),new G(30,new D(44,24),new D(7,25)),new G(30,new D(59,16),new D(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new D(12,121),new D(7,122)),new G(28,new D(12,47),new D(26,48)),new G(30,new D(39,24),new D(14,25)),new G(30,new D(22,15),new D(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new D(6,121),new D(14,122)),new G(28,new D(6,47),new D(34,48)),new G(30,new D(46,24),new D(10,25)),new G(30,new D(2,15),new D(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new D(17,122),new D(4,123)),new G(28,new D(29,46),new D(14,47)),new G(30,new D(49,24),new D(10,25)),new G(30,new D(24,15),new D(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new D(4,122),new D(18,123)),new G(28,new D(13,46),new D(32,47)),new G(30,new D(48,24),new D(14,25)),new G(30,new D(42,15),new D(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new D(20,117),new D(4,118)),new G(28,new D(40,47),new D(7,48)),new G(30,new D(43,24),new D(22,25)),new G(30,new D(10,15),new D(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new D(19,118),new D(6,119)),new G(28,new D(18,47),new D(31,48)),new G(30,new D(34,24),new D(34,25)),new G(30,new D(20,15),new D(61,16)))];var zt;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(zt||(zt={}));class qe{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}qe.values=new Map([[zt.DATA_MASK_000,new qe(zt.DATA_MASK_000,(N,e)=>(N+e&1)===0)],[zt.DATA_MASK_001,new qe(zt.DATA_MASK_001,(N,e)=>(N&1)===0)],[zt.DATA_MASK_010,new qe(zt.DATA_MASK_010,(N,e)=>e%3===0)],[zt.DATA_MASK_011,new qe(zt.DATA_MASK_011,(N,e)=>(N+e)%3===0)],[zt.DATA_MASK_100,new qe(zt.DATA_MASK_100,(N,e)=>(Math.floor(N/2)+Math.floor(e/3)&1)===0)],[zt.DATA_MASK_101,new qe(zt.DATA_MASK_101,(N,e)=>N*e%6===0)],[zt.DATA_MASK_110,new qe(zt.DATA_MASK_110,(N,e)=>N*e%6<3)],[zt.DATA_MASK_111,new qe(zt.DATA_MASK_111,(N,e)=>(N+e+N*e%3&1)===0)]]);class aa{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new oe;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=sn.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new oe}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Oe.getVersionForNumber(n);let r=0;const s=e-11;for(let a=5;a>=0;a--)for(let f=e-9;f>=s;f--)r=this.copyBit(f,a,r);let o=Oe.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let a=5;a>=0;a--)for(let f=e-9;f>=s;f--)r=this.copyBit(a,f,r);if(o=Oe.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new oe}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=qe.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let a=!0;const f=new Uint8Array(n.getTotalCodewords());let g=0,x=0,A=0;for(let T=s-1;T>0;T-=2){T===6&&T--;for(let R=0;R<s;R++){const k=a?s-1-R:R;for(let P=0;P<2;P++)o.get(T-P,k)||(A++,x<<=1,this.bitMatrix.get(T-P,k)&&(x|=1),A===8&&(f[g++]=x,A=0,x=0))}a=!a}if(g!==n.getTotalCodewords())throw new oe;return f}remask(){if(this.parsedFormatInfo===null)return;const e=qe.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class Ts{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new _;const s=n.getECBlocksForLevel(r);let o=0;const a=s.getECBlocks();for(const P of a)o+=P.getCount();const f=new Array(o);let g=0;for(const P of a)for(let j=0;j<P.getCount();j++){const H=P.getDataCodewords(),$=s.getECCodewordsPerBlock()+H;f[g++]=new Ts(H,new Uint8Array($))}const x=f[0].codewords.length;let A=f.length-1;for(;A>=0&&f[A].codewords.length!==x;)A--;A++;const T=x-s.getECCodewordsPerBlock();let R=0;for(let P=0;P<T;P++)for(let j=0;j<g;j++)f[j].codewords[P]=e[R++];for(let P=A;P<g;P++)f[P].codewords[T]=e[R++];const k=f[0].codewords.length;for(let P=T;P<k;P++)for(let j=0;j<g;j++){const H=j<A?P:P+1;f[j].codewords[H]=e[R++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Nn;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(Nn||(Nn={}));class ke{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,ke.FOR_BITS.set(s,this),ke.FOR_VALUE.set(e,this)}static forBits(e){const n=ke.FOR_BITS.get(e);if(n===void 0)throw new _;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof ke))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}ke.FOR_BITS=new Map,ke.FOR_VALUE=new Map,ke.TERMINATOR=new ke(Nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ke.NUMERIC=new ke(Nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ke.ALPHANUMERIC=new ke(Nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ke.STRUCTURED_APPEND=new ke(Nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ke.BYTE=new ke(Nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ke.ECI=new ke(Nn.ECI,"ECI",Int32Array.from([0,0,0]),7),ke.KANJI=new ke(Nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ke.FNC1_FIRST_POSITION=new ke(Nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ke.FNC1_SECOND_POSITION=new ke(Nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ke.HANZI=new ke(Nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class bt{static decode(e,n,r,s){const o=new fo(e);let a=new We;const f=new Array;let g=-1,x=-1;try{let A=null,T=!1,R;do{if(o.available()<4)R=ke.TERMINATOR;else{const k=o.readBits(4);R=ke.forBits(k)}switch(R){case ke.TERMINATOR:break;case ke.FNC1_FIRST_POSITION:case ke.FNC1_SECOND_POSITION:T=!0;break;case ke.STRUCTURED_APPEND:if(o.available()<16)throw new oe;g=o.readBits(8),x=o.readBits(8);break;case ke.ECI:const k=bt.parseECIValue(o);if(A=ie.getCharacterSetECIByValue(k),A===null)throw new oe;break;case ke.HANZI:const P=o.readBits(4),j=o.readBits(R.getCharacterCountBits(n));P===bt.GB2312_SUBSET&&bt.decodeHanziSegment(o,a,j);break;default:const H=o.readBits(R.getCharacterCountBits(n));switch(R){case ke.NUMERIC:bt.decodeNumericSegment(o,a,H);break;case ke.ALPHANUMERIC:bt.decodeAlphanumericSegment(o,a,H,T);break;case ke.BYTE:bt.decodeByteSegment(o,a,H,A,f,s);break;case ke.KANJI:bt.decodeKanjiSegment(o,a,H);break;default:throw new oe}break}}while(R!==ke.TERMINATOR)}catch{throw new oe}return new xt(e,a.toString(),f.length===0?null:f,r===null?null:r.toString(),g,x)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new oe;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let f=a/96<<8&4294967295|a%96;f<959?f+=41377:f+=42657,s[o]=f>>8&255,s[o+1]=f&255,o+=2,r--}try{n.append($e.decode(s,Me.GB2312))}catch(a){throw new oe(a)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new oe;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let f=a/192<<8&4294967295|a%192;f<7936?f+=33088:f+=49472,s[o]=f>>8,s[o+1]=f,o+=2,r--}try{n.append($e.decode(s,Me.SHIFT_JIS))}catch(a){throw new oe(a)}}static decodeByteSegment(e,n,r,s,o,a){if(8*r>e.available())throw new oe;const f=new Uint8Array(r);for(let x=0;x<r;x++)f[x]=e.readBits(8);let g;s===null?g=Me.guessEncoding(f,a):g=s.getName();try{n.append($e.decode(f,g))}catch(x){throw new oe(x)}o.push(f)}static toAlphaNumericChar(e){if(e>=bt.ALPHANUMERIC_CHARS.length)throw new oe;return bt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new oe;const a=e.readBits(11);n.append(bt.toAlphaNumericChar(Math.floor(a/45))),n.append(bt.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new oe;n.append(bt.toAlphaNumericChar(e.readBits(6)))}if(s)for(let a=o;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new oe;const s=e.readBits(10);if(s>=1e3)throw new oe;n.append(bt.toAlphaNumericChar(Math.floor(s/100))),n.append(bt.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(bt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new oe;const s=e.readBits(7);if(s>=100)throw new oe;n.append(bt.toAlphaNumericChar(Math.floor(s/10))),n.append(bt.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new oe;const s=e.readBits(4);if(s>=10)throw new oe;n.append(bt.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new oe}}bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",bt.GB2312_SUBSET=1;class ho{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class go{constructor(){this.rsDecoder=new hi(ot.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(_e.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new aa(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new ho(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=Ts.getDataBlocks(o,r,s);let f=0;for(const A of a)f+=A.getNumDataCodewords();const g=new Uint8Array(f);let x=0;for(const A of a){const T=A.getCodewords(),R=A.getNumDataCodewords();this.correctErrors(T,R);for(let k=0;k<R;k++)g[x++]=T[k]}return bt.decode(g,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new W}for(let s=0;s<n;s++)e[s]=r[s]}}class wi extends ve{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new wi(s,o,a)}}class Jn{constructor(e,n,r,s,o,a,f){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=a,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,a=new Int32Array(3),f=this.image;for(let g=0;g<n;g++){const x=o+((g&1)===0?Math.floor((g+1)/2):-Math.floor((g+1)/2));a[0]=0,a[1]=0,a[2]=0;let A=e;for(;A<s&&!f.get(A,x);)A++;let T=0;for(;A<s;){if(f.get(A,x))if(T===1)a[1]++;else if(T===2){if(this.foundPatternCross(a)){const R=this.handlePossibleCenter(a,x,A);if(R!==null)return R}a[0]=a[2],a[1]=1,a[2]=0,T=1}else a[++T]++;else T===1&&T++,a[T]++;A++}if(this.foundPatternCross(a)){const R=this.handlePossibleCenter(a,x,s);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,a=o.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let g=e;for(;g>=0&&o.get(n,g)&&f[1]<=r;)f[1]++,g--;if(g<0||f[1]>r)return NaN;for(;g>=0&&!o.get(n,g)&&f[0]<=r;)f[0]++,g--;if(f[0]>r)return NaN;for(g=e+1;g<a&&o.get(n,g)&&f[1]<=r;)f[1]++,g++;if(g===a||f[1]>r)return NaN;for(;g<a&&!o.get(n,g)&&f[2]<=r;)f[2]++,g++;if(f[2]>r)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-s)>=2*s?NaN:this.foundPatternCross(f)?Jn.centerFromEnd(f,g):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Jn.centerFromEnd(e,r),a=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(a)){const f=(e[0]+e[1]+e[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,a,o))return x.combineEstimate(a,o,f);const g=new wi(o,a,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class dr extends ve{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,a=(this.count*this.getY()+e)/s,f=(this.count*this.estimatedModuleSize+r)/s;return new dr(o,a,f,s)}}class Lr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(De.TRY_HARDER)!==void 0,r=e!=null&&e.get(De.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),a=s.getWidth();let f=Math.floor(3*o/(4*kt.MAX_MODULES));(f<kt.MIN_SKIP||n)&&(f=kt.MIN_SKIP);let g=!1;const x=new Int32Array(5);for(let T=f-1;T<o&&!g;T+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let R=0;for(let k=0;k<a;k++)if(s.get(k,T))(R&1)===1&&R++,x[R]++;else if((R&1)===0)if(R===4)if(kt.foundPatternCross(x)){if(this.handlePossibleCenter(x,T,k,r)===!0)if(f=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>x[2]&&(T+=j-x[2]-f,k=a-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;continue}R=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;else x[++R]++;else x[R]++;kt.foundPatternCross(x)&&this.handlePossibleCenter(x,T,a,r)===!0&&(f=x[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return ve.orderBestPatterns(A),new Lr(A)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;n+=a}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let a=0;const f=this.image;for(;e>=a&&n>=a&&f.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!f.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&f.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;const g=f.getHeight(),x=f.getWidth();for(a=1;e+a<g&&n+a<x&&f.get(n+a,e+a);)o[2]++,a++;if(e+a>=g||n+a>=x)return!1;for(;e+a<g&&n+a<x&&!f.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=g||n+a>=x||o[3]>=r)return!1;for(;e+a<g&&n+a<x&&f.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;const A=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(A-s)<2*s&&kt.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,a=o.getHeight(),f=this.getCrossCheckStateCount();let g=e;for(;g>=0&&o.get(n,g);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(n,g)&&f[1]<=r;)f[1]++,g--;if(g<0||f[1]>r)return NaN;for(;g>=0&&o.get(n,g)&&f[0]<=r;)f[0]++,g--;if(f[0]>r)return NaN;for(g=e+1;g<a&&o.get(n,g);)f[2]++,g++;if(g===a)return NaN;for(;g<a&&!o.get(n,g)&&f[3]<r;)f[3]++,g++;if(g===a||f[3]>=r)return NaN;for(;g<a&&o.get(n,g)&&f[4]<r;)f[4]++,g++;if(f[4]>=r)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-s)>=2*s?NaN:kt.foundPatternCross(f)?kt.centerFromEnd(f,g):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,a=o.getWidth(),f=this.getCrossCheckStateCount();let g=e;for(;g>=0&&o.get(g,n);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(g,n)&&f[1]<=r;)f[1]++,g--;if(g<0||f[1]>r)return NaN;for(;g>=0&&o.get(g,n)&&f[0]<=r;)f[0]++,g--;if(f[0]>r)return NaN;for(g=e+1;g<a&&o.get(g,n);)f[2]++,g++;if(g===a)return NaN;for(;g<a&&!o.get(g,n)&&f[3]<r;)f[3]++,g++;if(g===a||f[3]>=r)return NaN;for(;g<a&&o.get(g,n)&&f[4]<r;)f[4]++,g++;if(f[4]>=r)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-s)>=s?NaN:kt.foundPatternCross(f)?kt.centerFromEnd(f,g):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=kt.centerFromEnd(e,r),f=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(f)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(f),e[2],o),!isNaN(a)&&(!s||this.crossCheckDiagonal(Math.floor(f),Math.floor(a),e[2],o)))){const g=o/7;let x=!1;const A=this.possibleCenters;for(let T=0,R=A.length;T<R;T++){const k=A[T];if(k.aboutEquals(g,f,a)){A[T]=k.combineEstimate(f,a,g),x=!0;break}}if(!x){const T=new dr(a,f,g);A.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=kt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=kt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new q;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const g of this.possibleCenters){const x=g.getEstimatedModuleSize();s+=x,o+=x*x}r=s/e;let a=Math.sqrt(o/e-r*r);n.sort((g,x)=>{const A=Math.abs(x.getEstimatedModuleSize()-r),T=Math.abs(g.getEstimatedModuleSize()-r);return A<T?-1:A>T?1:0});const f=Math.max(.2*r,a);for(let g=0;g<n.length&&n.length>3;g++){const x=n[g];Math.abs(x.getEstimatedModuleSize()-r)>f&&(n.splice(g,1),g--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,a)=>{if(a.getCount()===o.getCount()){const f=Math.abs(a.getEstimatedModuleSize()-r),g=Math.abs(o.getEstimatedModuleSize()-r);return f<g?1:f>g?-1:0}else return a.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}kt.CENTER_QUORUM=2,kt.MIN_SKIP=3,kt.MAX_MODULES=57;class Er{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(De.NEED_RESULT_POINT_CALLBACK);const r=new kt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new q("No pattern found in proccess finder.");const a=Er.computeDimension(n,r,s,o),f=Oe.getProvisionalVersionForDimension(a),g=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const k=r.getX()-n.getX()+s.getX(),P=r.getY()-n.getY()+s.getY(),j=1-3/g,H=Math.floor(n.getX()+j*(k-n.getX())),$=Math.floor(n.getY()+j*(P-n.getY()));for(let fe=4;fe<=16;fe<<=1)try{x=this.findAlignmentInRegion(o,H,$,fe);break}catch(de){if(!(de instanceof q))throw de}}const A=Er.createTransform(n,r,s,x,a),T=Er.sampleGrid(this.image,A,a);let R;return x===null?R=[s,n,r]:R=[s,n,r,x],new gi(T,R)}static createTransform(e,n,r,s,o){const a=o-3.5;let f,g,x,A;return s!==null?(f=s.getX(),g=s.getY(),x=a-3,A=x):(f=n.getX()-e.getX()+r.getX(),g=n.getY()-e.getY()+r.getY(),x=a,A=a),Bn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,x,A,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),f,g,r.getX(),r.getY())}static sampleGrid(e,n,r){return Qn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=nt.round(ve.distance(e,n)/s),a=nt.round(ve.distance(e,r)/s);let f=Math.floor((o+a)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new q("Dimensions could be not found.")}return f}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),a=1,f=e-(r-e);f<0?(a=e/(e-f),f=0):f>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(f-e),f=this.image.getWidth()-1);let g=Math.floor(n-(s-n)*a);return a=1,g<0?(a=n/(n-g),g=0):g>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(g-n),g=this.image.getHeight()-1),f=Math.floor(e+(f-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,n,f,g),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let k=e;e=n,n=k,k=r,r=s,s=k}const a=Math.abs(r-e),f=Math.abs(s-n);let g=-a/2;const x=e<r?1:-1,A=n<s?1:-1;let T=0;const R=r+x;for(let k=e,P=n;k!==R;k+=x){const j=o?P:k,H=o?k:P;if(T===1===this.image.get(j,H)){if(T===2)return nt.distance(k,P,e,n);T++}if(g+=f,g>0){if(P===s)break;P+=A,g-=a}}return T===2?nt.distance(r+x,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),a=Math.max(0,n-o),f=Math.min(this.image.getWidth()-1,n+o);if(f-a<e*3)throw new q("Alignment top exceeds estimated module size.");const g=Math.max(0,r-o),x=Math.min(this.image.getHeight()-1,r+o);if(x-g<e*3)throw new q("Alignment bottom exceeds estimated module size.");return new Jn(this.image,a,g,f-a,x-g,e,this.resultPointCallback).find()}}class yn{constructor(){this.decoder=new go}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(De.PURE_BARCODE)!==void 0){const g=yn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(g,n),s=yn.NO_POINTS}else{const g=new Er(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(g.getBits(),n),s=g.getPoints()}r.getOther()instanceof ho&&r.getOther().applyMirroredCorrection(s);const o=new Be(r.getText(),r.getRawBytes(),void 0,s,me.QR_CODE,void 0),a=r.getByteSegments();a!==null&&o.putMetadata(Ve.BYTE_SEGMENTS,a);const f=r.getECLevel();return f!==null&&o.putMetadata(Ve.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(o.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ve.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new q;const s=this.moduleSize(n,e);let o=n[1],a=r[1],f=n[0],g=r[0];if(f>=g||o>=a)throw new q;if(a-o!==g-f&&(g=f+(a-o),g>=e.getWidth()))throw new q;const x=Math.round((g-f+1)/s),A=Math.round((a-o+1)/s);if(x<=0||A<=0)throw new q;if(A!==x)throw new q;const T=Math.floor(s/2);o+=T,f+=T;const R=f+Math.floor((x-1)*s)-g;if(R>0){if(R>T)throw new q;f-=R}const k=o+Math.floor((A-1)*s)-a;if(k>0){if(k>T)throw new q;o-=k}const P=new _e(x,A);for(let j=0;j<A;j++){const H=o+Math.floor(j*s);for(let $=0;$<x;$++)e.get(f+Math.floor($*s),H)&&P.set($,j)}return P}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],a=e[1],f=!0,g=0;for(;o<s&&a<r;){if(f!==n.get(o,a)){if(++g===5)break;f=!f}o++,a++}if(o===s||a===r)throw new q;return(o-e[0])/7}}yn.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(e){return nt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ue.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=he.binarySearch(Ue.SYMBOL_TABLE,e&262143);return n<0?-1:(Ue.CODEWORD_TABLE[n]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class la{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Ye{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=Ye.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=Ye.detect(r,s)),new la(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,a=!1;for(;s<n.getHeight();){const f=Ye.findVertices(n,s,o);if(f[0]==null&&f[3]==null){if(!a)break;a=!1,o=0;for(const g of r)g[1]!=null&&(s=Math.trunc(Math.max(s,g[1].getY()))),g[3]!=null&&(s=Math.max(s,Math.trunc(g[3].getY())));s+=Ye.ROW_STEP;continue}if(a=!0,r.push(f),!e)break;f[2]!=null?(o=Math.trunc(f[2].getX()),s=Math.trunc(f[2].getY())):(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),a=new Array(8);return Ye.copyToResult(a,Ye.findRowsWithPattern(e,s,o,n,r,Ye.START_PATTERN),Ye.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),Ye.copyToResult(a,Ye.findRowsWithPattern(e,s,o,n,r,Ye.STOP_PATTERN),Ye.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,a){const f=new Array(4);let g=!1;const x=new Int32Array(a.length);for(;s<n;s+=Ye.ROW_STEP){let T=Ye.findGuardPattern(e,o,s,r,!1,a,x);if(T!=null){for(;s>0;){const R=Ye.findGuardPattern(e,o,--s,r,!1,a,x);if(R!=null)T=R;else{s++;break}}f[0]=new ve(T[0],s),f[1]=new ve(T[1],s),g=!0;break}}let A=s+1;if(g){let T=0,R=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;A<n;A++){const k=Ye.findGuardPattern(e,R[0],A,r,!1,a,x);if(k!=null&&Math.abs(R[0]-k[0])<Ye.MAX_PATTERN_DRIFT&&Math.abs(R[1]-k[1])<Ye.MAX_PATTERN_DRIFT)R=k,T=0;else{if(T>Ye.SKIPPED_ROW_COUNT_MAX)break;T++}}A-=T+1,f[2]=new ve(R[0],A),f[3]=new ve(R[1],A)}return A-s<Ye.BARCODE_MIN_HEIGHT&&he.fill(f,null),f}static findGuardPattern(e,n,r,s,o,a,f){he.fillWithin(f,0,f.length,0);let g=n,x=0;for(;e.get(g,r)&&g>0&&x++<Ye.MAX_PIXEL_DRIFT;)g--;let A=g,T=0,R=a.length;for(let k=o;A<s;A++)if(e.get(A,r)!==k)f[T]++;else{if(T===R-1){if(Ye.patternMatchVariance(f,a,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return new Int32Array([g,A]);g+=f[0]+f[1],X.arraycopy(f,2,f,0,T-1),f[T-1]=0,f[T]=0,T--}else T++;f[T]=1,k=!k}return T===R-1&&Ye.patternMatchVariance(f,a,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE?new Int32Array([g,A-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,a=0;for(let x=0;x<s;x++)o+=e[x],a+=n[x];if(o<a)return 1/0;let f=o/a;r*=f;let g=0;for(let x=0;x<s;x++){let A=e[x],T=n[x]*f,R=A>T?A-T:T-A;if(R>r)return 1/0;g+=R}return g/o}}Ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ye.MAX_AVG_VARIANCE=.42,Ye.MAX_INDIVIDUAL_VARIANCE=.8,Ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ye.MAX_PIXEL_DRIFT=3,Ye.MAX_PATTERN_DRIFT=5,Ye.SKIPPED_ROW_COUNT_MAX=25,Ye.ROW_STEP=5,Ye.BARCODE_MIN_HEIGHT=10;class on{constructor(e,n){if(n.length===0)throw new _;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),X.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let a=n;n=r,r=a}let s=new Int32Array(r.length),o=r.length-n.length;X.arraycopy(r,0,s,0,o);for(let a=o;a<r.length;a++)s[a]=this.field.add(n[a-o],r[a]);return new on(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new _("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof on?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new on(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,a=new Int32Array(r+o-1);for(let f=0;f<r;f++){let g=n[f];for(let x=0;x<o;x++)a[f+x]=this.field.add(a[f+x],this.field.multiply(g,s[x]))}return new on(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new on(this.field,n)}multiplyScalar(e){if(e===0)return new on(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new on(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new _;if(n===0)return new on(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new on(this.field,s)}toString(){let e=new We;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class ua{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new _;return this.logTable[e]}inverse(e){if(e===0)throw new Yi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ci extends ua{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new on(this,new Int32Array([0])),this.one=new on(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new _;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new on(this,r)}}Ci.PDF417_GF=new Ci(Ue.NUMBER_OF_CODEWORDS,3);class po{constructor(){this.field=Ci.PDF417_GF}decode(e,n,r){let s=new on(this.field,e),o=new Int32Array(n),a=!1;for(let P=n;P>0;P--){let j=s.evaluateAt(this.field.exp(P));o[n-P]=j,j!==0&&(a=!0)}if(!a)return 0;let f=this.field.getOne();if(r!=null)for(const P of r){let j=this.field.exp(e.length-1-P),H=new on(this.field,new Int32Array([this.field.subtract(0,j),1]));f=f.multiply(H)}let g=new on(this.field,o),x=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),g,n),A=x[0],T=x[1],R=this.findErrorLocations(A),k=this.findErrorMagnitudes(T,A,R);for(let P=0;P<R.length;P++){let j=e.length-1-this.field.log(R[P]);if(j<0)throw W.getChecksumInstance();e[j]=this.field.subtract(e[j],k[P])}return R.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let R=e;e=n,n=R}let s=e,o=n,a=this.field.getZero(),f=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let R=s,k=a;if(s=o,a=f,s.isZero())throw W.getChecksumInstance();o=R;let P=this.field.getZero(),j=s.getCoefficient(s.getDegree()),H=this.field.inverse(j);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let $=o.getDegree()-s.getDegree(),fe=this.field.multiply(o.getCoefficient(o.getDegree()),H);P=P.add(this.field.buildMonomial($,fe)),o=o.subtract(s.multiplyByMonomial($,fe))}f=P.multiply(a).subtract(k).negative()}let g=f.getCoefficient(0);if(g===0)throw W.getChecksumInstance();let x=this.field.inverse(g),A=f.multiply(x),T=o.multiply(x);return[A,T]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw W.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let x=1;x<=s;x++)o[s-x]=this.field.multiply(x,n.getCoefficient(x));let a=new on(this.field,o),f=r.length,g=new Int32Array(f);for(let x=0;x<f;x++){let A=this.field.inverse(r[x]),T=this.field.subtract(0,e.evaluateAt(A)),R=this.field.inverse(a.evaluateAt(A));g[x]=this.field.multiply(T,R)}return g}}class Xr{constructor(e,n,r,s,o){e instanceof Xr?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const a=n==null||r==null,f=s==null||o==null;if(a&&f)throw new q;a?(n=new ve(0,s.getY()),r=new ve(0,o.getY())):f&&(s=new ve(e.getWidth()-1,n.getY()),o=new ve(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Xr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,a=this.topRight,f=this.bottomRight;if(e>0){let g=r?this.topLeft:this.topRight,x=Math.trunc(g.getY()-e);x<0&&(x=0);let A=new ve(g.getX(),x);r?s=A:a=A}if(n>0){let g=r?this.bottomLeft:this.bottomRight,x=Math.trunc(g.getY()+n);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let A=new ve(g.getX(),x);r?o=A:f=A}return new Xr(this.image,s,o,a,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qi{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ar{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(a,f,g,x,A,T){if(a==="%%")return"%";if(n[++r]===void 0)return;a=x?parseInt(x.substr(1)):void 0;let R=A?parseInt(A.substr(1)):void 0,k;switch(T){case"s":k=n[r];break;case"c":k=n[r][0];break;case"f":k=parseFloat(n[r]).toFixed(a);break;case"p":k=parseFloat(n[r]).toPrecision(a);break;case"e":k=parseFloat(n[r]).toExponential(a);break;case"x":k=parseInt(n[r]).toString(R||16);break;case"d":k=parseFloat(parseInt(n[r],R||10).toPrecision(a)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(R);let P=parseInt(g),j=g&&g[0]+""=="0"?"0":" ";for(;k.length<P;)k=f!==void 0?k+j:j+k;return k}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=Ar.form(e,n)}toString(){return this.buffer}}class hr{constructor(e){this.boundingBox=new Xr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<hr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ar;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}hr.MAX_NEARBY_DISTANCE=5;class Br{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Ue.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class ca extends hr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),g=-1,x=1,A=0;for(let T=a;T<f;T++){if(n[T]==null)continue;let R=n[T],k=R.getRowNumber()-g;if(k===0)A++;else if(k===1)x=Math.max(x,A),A=1,g=R.getRowNumber();else if(k<0||R.getRowNumber()>=e.getRowCount()||k>T)n[T]=null;else{let P;x>2?P=(x-2)*k:P=k;let j=P>=T;for(let H=1;H<=P&&!j;H++)j=n[T-H]!=null;j?n[T]=null:(g=R.getRowNumber(),A=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.getCodewords(),g=-1;for(let x=o;x<a;x++){if(f[x]==null)continue;let A=f[x];A.setRowNumberAsRowIndicatorColumn();let T=A.getRowNumber()-g;T===0||(T===1?g=A.getRowNumber():A.getRowNumber()>=e.getRowCount()?f[x]=null:g=A.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Br,r=new Br,s=new Br,o=new Br;for(let f of e){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let g=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:r.setValue(g*3+1);break;case 1:o.setValue(g/3),s.setValue(g%3);break;case 2:n.setValue(g+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let a=new qi(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,a=s.getRowNumber();if(a>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class $i{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ue.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let f=this.detectionResultColumns[a].getCodewords()[r];f!=null&&(o=$i.adjustRowNumberIfValid(s,o,f),f.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let f=this.detectionResultColumns[a].getCodewords()[r];f!=null&&(o=$i.adjustRowNumberIfValid(s,o,f),f.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let f=new Array(14);f[2]=o[n],f[3]=a[n],n>0&&(f[0]=r[n-1],f[4]=o[n-1],f[5]=a[n-1]),n>1&&(f[8]=r[n-2],f[10]=o[n-2],f[11]=a[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=o[n+1],f[7]=a[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=o[n+2],f[13]=a[n+2]);for(let g of f)if($i.adjustRowNumber(s,g))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Ar;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class Qr{constructor(e,n,r,s){this.rowNumber=Qr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Qr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Qr.BARCODE_ROW_UNKNOWN=-1;class an{static initialize(){for(let e=0;e<Ue.SYMBOL_TABLE.length;e++){let n=Ue.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<Ue.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,an.RATIOS_TABLE[e]||(an.RATIOS_TABLE[e]=new Array(Ue.BARS_IN_MODULE)),an.RATIOS_TABLE[e][Ue.BARS_IN_MODULE-s-1]=Math.fround(o/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=an.getDecodedCodewordValue(an.sampleBitCounts(e));return n!==-1?n:an.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=nt.sum(e),r=new Int32Array(Ue.BARS_IN_MODULE),s=0,o=0;for(let a=0;a<Ue.MODULES_IN_CODEWORD;a++){let f=n/(2*Ue.MODULES_IN_CODEWORD)+a*n/Ue.MODULES_IN_CODEWORD;o+e[s]<=f&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=an.getBitValue(e);return Ue.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=nt.sum(e),r=new Array(Ue.BARS_IN_MODULE);if(n>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/n);let s=Or.MAX_VALUE,o=-1;this.bSymbolTableReady||an.initialize();for(let a=0;a<an.RATIOS_TABLE.length;a++){let f=0,g=an.RATIOS_TABLE[a];for(let x=0;x<Ue.BARS_IN_MODULE;x++){let A=Math.fround(g[x]-r[x]);if(f+=Math.fround(A*A),f>=s)break}f<s&&(s=f,o=Ue.SYMBOL_TABLE[a])}return o}}an.bSymbolTableReady=!1,an.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(N=>new Array(Ue.BARS_IN_MODULE));class bs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class xo{static parseLong(e,n=void 0){return parseInt(e,n)}}class vr extends C{}vr.kind="NullPointerException";class mo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new vr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new Q;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class Ms extends C{}class fa extends mo{constructor(e=32){if(super(),this.count=0,e<0)throw new _("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new Ms;r=te.MAX_VALUE}this.buf=he.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new Q;this.ensureCapacity(this.count+r),X.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return he.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ut;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ut||(ut={}));function Ji(){if(typeof window<"u")return window.BigInt||null;if(typeof ll<"u")return ll.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let es;function Ht(N){if(typeof es>"u"&&(es=Ji()),es===null)throw new Error("BigInt is not supported!");return es(N)}function Ei(){let N=[];N[0]=Ht(1);let e=Ht(900);N[1]=e;for(let n=2;n<16;n++)N[n]=N[n-1]*e;return N}class J{static decode(e,n){let r=new We(""),s=ie.ISO8859_1;r.enableDecoding(s);let o=1,a=e[o++],f=new bs;for(;o<e[0];){switch(a){case J.TEXT_COMPACTION_MODE_LATCH:o=J.textCompaction(e,o,r);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:o=J.byteCompaction(a,e,s,o,r);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:o=J.numericCompaction(e,o,r);break;case J.ECI_CHARSET:ie.getCharacterSetECIByValue(e[o++]);break;case J.ECI_GENERAL_PURPOSE:o+=2;break;case J.ECI_USER_DEFINED:o++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=J.decodeMacroBlock(e,o,f);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new oe;default:o--,o=J.textCompaction(e,o,r);break}if(o<e.length)a=e[o++];else throw oe.getFormatInstance()}if(r.length()===0)throw oe.getFormatInstance();let g=new xt(null,r.toString(),null,n);return g.setOther(f),g}static decodeMacroBlock(e,n,r){if(n+J.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw oe.getFormatInstance();let s=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<J.NUMBER_OF_SEQUENCE_CODEWORDS;f++,n++)s[f]=e[n];r.setSegmentIndex(te.parseInt(J.decodeBase900toBase10(s,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new We;n=J.textCompaction(e,n,o),r.setFileId(o.toString());let a=-1;for(e[n]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new We;n=J.textCompaction(e,n+1,f),r.setFileName(f.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new We;n=J.textCompaction(e,n+1,g),r.setSender(g.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new We;n=J.textCompaction(e,n+1,x),r.setAddressee(x.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new We;n=J.numericCompaction(e,n+1,A),r.setSegmentCount(te.parseInt(A.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new We;n=J.numericCompaction(e,n+1,T),r.setTimestamp(xo.parseLong(T.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new We;n=J.numericCompaction(e,n+1,R),r.setChecksum(te.parseInt(R.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new We;n=J.numericCompaction(e,n+1,k),r.setFileSize(xo.parseLong(k.toString()));break;default:throw oe.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw oe.getFormatInstance()}if(a!==-1){let f=n-a;r.isLastSegment()&&f--,r.setOptionalData(he.copyOfRange(e,a,a+f))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),a=0,f=!1;for(;n<e[0]&&!f;){let g=e[n++];if(g<J.TEXT_COMPACTION_MODE_LATCH)s[a]=g/30,s[a+1]=g%30,a+=2;else switch(g){case J.TEXT_COMPACTION_MODE_LATCH:s[a++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:n--,f=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[a]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=e[n++],o[a]=g,a++;break}}return J.decodeTextCompaction(s,o,a,r),n}static decodeTextCompaction(e,n,r,s){let o=ut.ALPHA,a=ut.ALPHA,f=0;for(;f<r;){let g=e[f],x="";switch(o){case ut.ALPHA:if(g<26)x=String.fromCharCode(65+g);else switch(g){case 26:x=" ";break;case J.LL:o=ut.LOWER;break;case J.ML:o=ut.MIXED;break;case J.PS:a=o,o=ut.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case J.TEXT_COMPACTION_MODE_LATCH:o=ut.ALPHA;break}break;case ut.LOWER:if(g<26)x=String.fromCharCode(97+g);else switch(g){case 26:x=" ";break;case J.AS:a=o,o=ut.ALPHA_SHIFT;break;case J.ML:o=ut.MIXED;break;case J.PS:a=o,o=ut.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case J.TEXT_COMPACTION_MODE_LATCH:o=ut.ALPHA;break}break;case ut.MIXED:if(g<J.PL)x=J.MIXED_CHARS[g];else switch(g){case J.PL:o=ut.PUNCT;break;case 26:x=" ";break;case J.LL:o=ut.LOWER;break;case J.AL:o=ut.ALPHA;break;case J.PS:a=o,o=ut.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case J.TEXT_COMPACTION_MODE_LATCH:o=ut.ALPHA;break}break;case ut.PUNCT:if(g<J.PAL)x=J.PUNCT_CHARS[g];else switch(g){case J.PAL:o=ut.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case J.TEXT_COMPACTION_MODE_LATCH:o=ut.ALPHA;break}break;case ut.ALPHA_SHIFT:if(o=a,g<26)x=String.fromCharCode(65+g);else switch(g){case 26:x=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:o=ut.ALPHA;break}break;case ut.PUNCT_SHIFT:if(o=a,g<J.PAL)x=J.PUNCT_CHARS[g];else switch(g){case J.PAL:o=ut.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case J.TEXT_COMPACTION_MODE_LATCH:o=ut.ALPHA;break}break}x!==""&&s.append(x),f++}}static byteCompaction(e,n,r,s,o){let a=new fa,f=0,g=0,x=!1;switch(e){case J.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),T=n[s++];for(;s<n[0]&&!x;)switch(A[f++]=T,g=900*g+T,T=n[s++],T){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,x=!0;break;default:if(f%5===0&&f>0){for(let R=0;R<6;++R)a.write(Number(Ht(g)>>Ht(8*(5-R))));g=0,f=0}break}s===n[0]&&T<J.TEXT_COMPACTION_MODE_LATCH&&(A[f++]=T);for(let R=0;R<f;R++)a.write(A[R]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!x;){let R=n[s++];if(R<J.TEXT_COMPACTION_MODE_LATCH)f++,g=900*g+R;else switch(R){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,x=!0;break}if(f%5===0&&f>0){for(let k=0;k<6;++k)a.write(Number(Ht(g)>>Ht(8*(5-k))));g=0,f=0}}break}return o.append($e.decode(a.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,a=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let f=e[n++];if(n===e[0]&&(o=!0),f<J.TEXT_COMPACTION_MODE_LATCH)a[s]=f,s++;else switch(f){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%J.MAX_NUMERIC_CODEWORDS===0||f===J.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(J.decodeBase900toBase10(a,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=Ht(0);for(let o=0;o<n;o++)r+=J.EXP900[n-o-1]*Ht(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new oe;return s.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=Ji()?Ei():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(e,n,r,s,o,a,f){let g=new Xr(e,n,r,s,o),x=null,A=null,T;for(let P=!0;;P=!1){if(n!=null&&(x=Qe.getRowIndicatorColumn(e,g,n,!0,a,f)),s!=null&&(A=Qe.getRowIndicatorColumn(e,g,s,!1,a,f)),T=Qe.merge(x,A),T==null)throw q.getNotFoundInstance();let j=T.getBoundingBox();if(P&&j!=null&&(j.getMinY()<g.getMinY()||j.getMaxY()>g.getMaxY()))g=j;else break}T.setBoundingBox(g);let R=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,x),T.setDetectionResultColumn(R,A);let k=x!=null;for(let P=1;P<=R;P++){let j=k?P:R-P;if(T.getDetectionResultColumn(j)!==void 0)continue;let H;j===0||j===R?H=new ca(g,j===0):H=new hr(g),T.setDetectionResultColumn(j,H);let $=-1,fe=$;for(let de=g.getMinY();de<=g.getMaxY();de++){if($=Qe.getStartColumn(T,j,de,k),$<0||$>g.getMaxX()){if(fe===-1)continue;$=fe}let le=Qe.detectCodeword(e,g.getMinX(),g.getMaxX(),k,$,de,a,f);le!=null&&(H.setCodeword(de,le),fe=$,a=Math.min(a,le.getWidth()),f=Math.max(f,le.getWidth()))}}return Qe.createDecoderResult(T)}static merge(e,n){if(e==null&&n==null)return null;let r=Qe.getBarcodeMetadata(e,n);if(r==null)return null;let s=Xr.merge(Qe.adjustBoundingBox(e),Qe.adjustBoundingBox(n));return new $i(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Qe.getMax(n),s=0;for(let f of n)if(s+=r-f,f>0)break;let o=e.getCodewords();for(let f=0;s>0&&o[f]==null;f++)s--;let a=0;for(let f=n.length-1;f>=0&&(a+=r-n[f],!(n[f]>0));f--);for(let f=o.length-1;a>0&&o[f]==null;f--)a--;return e.getBoundingBox().addMissingRows(s,a,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,a){let f=new ca(n,s);for(let g=0;g<2;g++){let x=g===0?1:-1,A=Math.trunc(Math.trunc(r.getX()));for(let T=Math.trunc(Math.trunc(r.getY()));T<=n.getMaxY()&&T>=n.getMinY();T+=x){let R=Qe.detectCodeword(e,0,e.getWidth(),s,A,T,o,a);R!=null&&(f.setCodeword(T,R),s?A=R.getStartX():A=R.getEndX())}}return f}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Ue.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Qe.createBarcodeMatrix(e);Qe.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let g=0;g<e.getBarcodeRowCount();g++)for(let x=0;x<e.getBarcodeColumnCount();x++){let A=n[g][x+1].getValue(),T=g*e.getBarcodeColumnCount()+x;A.length===0?r.push(T):A.length===1?s[T]=A[0]:(a.push(T),o.push(A))}let f=new Array(o.length);for(let g=0;g<f.length;g++)f[g]=o[g];return Qe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Ue.toIntArray(r),Ue.toIntArray(a),f)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let a=new Int32Array(s.length),f=100;for(;f-- >0;){for(let g=0;g<a.length;g++)n[s[g]]=o[g][a[g]];try{return Qe.decodeCodewords(n,e,r)}catch(g){if(!(g instanceof W))throw g}if(a.length===0)throw W.getChecksumInstance();for(let g=0;g<a.length;g++)if(a[g]<o[g].length-1){a[g]++;break}else if(a[g]=0,g===a.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new Br;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,a=null;if(Qe.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodeword(r)),a!=null)return s?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(r),a!=null)return s?a.getStartX():a.getEndX();if(Qe.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),a!=null)return s?a.getEndX():a.getStartX();let f=0;for(;Qe.isValidBarcodeColumn(e,n-o);){n-=o;for(let g of e.getDetectionResultColumn(n).getCodewords())if(g!=null)return(s?g.getEndX():g.getStartX())+o*f*(g.getEndX()-g.getStartX());f++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,a,f,g){o=Qe.adjustCodewordStartColumn(e,n,r,s,o,a);let x=Qe.getModuleBitCount(e,n,r,s,o,a);if(x==null)return null;let A,T=nt.sum(x);if(s)A=o+T;else{for(let P=0;P<x.length/2;P++){let j=x[P];x[P]=x[x.length-1-P],x[x.length-1-P]=j}A=o,o=A-T}if(!Qe.checkCodewordSkew(T,f,g))return null;let R=an.getDecodedValue(x),k=Ue.getCodeword(R);return k===-1?null:new Qr(o,A,Qe.getCodewordBucketNumber(R),k)}static getModuleBitCount(e,n,r,s,o,a){let f=o,g=new Int32Array(8),x=0,A=s?1:-1,T=s;for(;(s?f<r:f>=n)&&x<g.length;)e.get(f,a)===T?(g[x]++,f+=A):(x++,T=!T);return x===g.length||f===(s?r:n)&&x===g.length-1?g:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,a){let f=o,g=s?-1:1;for(let x=0;x<2;x++){for(;(s?f>=n:f<r)&&s===e.get(f,a);){if(Math.abs(o-f)>Qe.CODEWORD_SKEW_SIZE)return o;f+=g}g=-g,s=!s}return f}static checkCodewordSkew(e,n,r){return n-Qe.CODEWORD_SKEW_SIZE<=e&&e<=r+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw oe.getFormatInstance();let s=1<<n+1,o=Qe.correctErrors(e,r,s);Qe.verifyCodewordCount(e,s);let a=J.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Qe.MAX_ERRORS||r<0||r>Qe.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return Qe.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw oe.getFormatInstance();let r=e[0];if(r>e.length)throw oe.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw oe.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Ar;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new po;class ln{decode(e,n=null){let r=ln.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw q.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return ln.decode(e,n,!0)}catch(r){throw r instanceof oe||r instanceof W?q.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=Ye.detectMultiple(e,n,r);for(const a of o.getPoints()){const f=Qe.decode(o.getBits(),a[4],a[5],a[6],a[7],ln.getMinCodewordWidth(a),ln.getMaxCodewordWidth(a)),g=new Be(f.getText(),f.getRawBytes(),void 0,a,me.PDF_417);g.putMetadata(Ve.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&g.putMetadata(Ve.PDF417_EXTRA_METADATA,x),s.push(g)}return s.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?te.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(ln.getMaxWidth(e[0],e[4]),ln.getMaxWidth(e[6],e[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(ln.getMaxWidth(e[1],e[5]),ln.getMaxWidth(e[7],e[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(ln.getMinWidth(e[0],e[4]),ln.getMinWidth(e[6],e[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(ln.getMinWidth(e[1],e[5]),ln.getMinWidth(e[7],e[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ai extends C{}Ai.kind="ReaderException";class _s{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!m(e)&&e.get(De.TRY_HARDER)===!0,r=m(e)?null:e.get(De.POSSIBLE_FORMATS),s=new Array;if(!m(r)){const o=r.some(a=>a===me.UPC_A||a===me.UPC_E||a===me.EAN_13||a===me.EAN_8||a===me.CODABAR||a===me.CODE_39||a===me.CODE_93||a===me.CODE_128||a===me.ITF||a===me.RSS_14||a===me.RSS_EXPANDED);o&&!n&&s.push(new mi(e,this.verbose)),r.includes(me.QR_CODE)&&s.push(new yn),r.includes(me.DATA_MATRIX)&&s.push(new $n),r.includes(me.AZTEC)&&s.push(new Dr),r.includes(me.PDF_417)&&s.push(new ln),o&&n&&s.push(new mi(e,this.verbose))}s.length===0&&(n||s.push(new mi(e,this.verbose)),s.push(new yn),s.push(new $n),s.push(new Dr),s.push(new ln),n&&s.push(new mi(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Ai("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof Ai)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class ts extends He{constructor(e=null,n=500){const r=new _s;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Rs extends He{constructor(e=500){super(new ln,e)}}class da extends He{constructor(e=500){super(new yn,e)}}var yo;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(yo||(yo={}));var Zt=yo;class wo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new nn(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const a=r.multiply(new nn(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(a),r=a}}return n[e]}encode(e,n){if(n===0)throw new _("No error correction bytes");const r=e.length-n;if(r<=0)throw new _("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);X.arraycopy(e,0,o,0,r);let a=new nn(this.field,o);a=a.multiplyByMonomial(n,1);const g=a.divide(s)[1].getCoefficients(),x=n-g.length;for(let A=0;A<x;A++)e[r+A]=0;X.arraycopy(g,0,e,r+x,g.length)}}class Mt{constructor(){}static applyMaskPenaltyRule1(e){return Mt.applyMaskPenaltyRule1Internal(e,!0)+Mt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const f=r[a];for(let g=0;g<s-1;g++){const x=f[g];x===f[g+1]&&x===r[a+1][g]&&x===r[a+1][g+1]&&n++}}return Mt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let f=0;f<s;f++){const g=r[a];f+6<s&&g[f]===1&&g[f+1]===0&&g[f+2]===1&&g[f+3]===1&&g[f+4]===1&&g[f+5]===0&&g[f+6]===1&&(Mt.isWhiteHorizontal(g,f-4,f)||Mt.isWhiteHorizontal(g,f+7,f+11))&&n++,a+6<o&&r[a][f]===1&&r[a+1][f]===0&&r[a+2][f]===1&&r[a+3][f]===1&&r[a+4][f]===1&&r[a+5][f]===0&&r[a+6][f]===1&&(Mt.isWhiteVertical(r,f,a-4,a)||Mt.isWhiteVertical(r,f,a+7,a+11))&&n++}return n*Mt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let g=0;g<o;g++){const x=r[g];for(let A=0;A<s;A++)x[A]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*Mt.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new _("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray();for(let f=0;f<s;f++){let g=0,x=-1;for(let A=0;A<o;A++){const T=n?a[f][A]:a[A][f];T===x?g++:(g>=5&&(r+=Mt.N1+(g-5)),g=1,x=T)}g>=5&&(r+=Mt.N1+(g-5))}return r}}Mt.N1=3,Mt.N2=3,Mt.N3=40,Mt.N4=10;class Os{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)he.fill(n,e)}equals(e){if(!(e instanceof Os))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],a=n.bytes[r];for(let f=0,g=this.width;f<g;++f)if(o[f]!==a[f])return!1}return!0}toString(){const e=new We;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,a=this.width;o<a;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Zr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new We;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Zr.NUM_MASK_PATTERNS}}Zr.NUM_MASK_PATTERNS=8;class Et extends C{}Et.kind="WriterException";class Pe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){Pe.clearMatrix(o),Pe.embedBasicPatterns(r,o),Pe.embedTypeInfo(n,s,o),Pe.maybeEmbedVersionInfo(r,o),Pe.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){Pe.embedPositionDetectionPatternsAndSeparators(n),Pe.embedDarkDotAtLeftBottomCorner(n),Pe.maybeEmbedPositionAdjustmentPatterns(e,n),Pe.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new pe;Pe.makeTypeInfoBits(e,n,s);for(let o=0,a=s.getSize();o<a;++o){const f=s.get(s.getSize()-1-o),g=Pe.TYPE_INFO_COORDINATES[o],x=g[0],A=g[1];if(r.setBoolean(x,A,f),o<8){const T=r.getWidth()-o-1;r.setBoolean(T,8,f)}else{const R=r.getHeight()-7+(o-8);r.setBoolean(8,R,f)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new pe;Pe.makeVersionInfoBits(e,r);let s=17;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const f=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+a,f),n.setBoolean(n.getHeight()-11+a,o,f)}}static embedDataBits(e,n,r){let s=0,o=-1,a=r.getWidth()-1,f=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);f>=0&&f<r.getHeight();){for(let g=0;g<2;++g){const x=a-g;if(!Pe.isEmpty(r.get(x,f)))continue;let A;s<e.getSize()?(A=e.get(s),++s):A=!1,n!==255&&Mt.getDataMaskBit(n,x,f)&&(A=!A),r.setBoolean(x,f,A)}f+=o}o=-o,f+=o,a-=2}if(s!==e.getSize())throw new Et("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-te.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new _("0 polynomial");const r=Pe.findMSBSet(n);for(e<<=r-1;Pe.findMSBSet(e)>=r;)e^=n<<Pe.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Zr.isValidMaskPattern(n))throw new Et("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=Pe.calculateBCHCode(s,Pe.TYPE_INFO_POLY);r.appendBits(o,10);const a=new pe;if(a.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new Et("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Pe.calculateBCHCode(e.getVersionNumber(),Pe.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Et("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Pe.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Pe.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Et;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!Pe.isEmpty(r.get(e+s,n)))throw new Et;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!Pe.isEmpty(r.get(e,n+s)))throw new Et;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=Pe.POSITION_ADJUSTMENT_PATTERN[s];for(let a=0;a<5;++a)r.setNumber(e+a,n+s,o[a])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=Pe.POSITION_DETECTION_PATTERN[s];for(let a=0;a<7;++a)r.setNumber(e+a,n+s,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,e),Pe.embedPositionDetectionPattern(e.getWidth()-n,0,e),Pe.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Pe.embedHorizontalSeparationPattern(0,r-1,e),Pe.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Pe.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Pe.embedVerticalSeparationPattern(s,0,e),Pe.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Pe.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,a=s.length;o!==a;o++){const f=s[o];if(f>=0)for(let g=0;g!==a;g++){const x=s[g];x>=0&&Pe.isEmpty(n.get(x,f))&&Pe.embedPositionAdjustmentPattern(x-2,f-2,n)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class Tl{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vt{constructor(){}static calculateMaskPenalty(e){return Mt.applyMaskPenaltyRule1(e)+Mt.applyMaskPenaltyRule2(e)+Mt.applyMaskPenaltyRule3(e)+Mt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=vt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Zt.CHARACTER_SET)!==void 0;o&&(s=r.get(Zt.CHARACTER_SET).toString());const a=this.chooseMode(e,s),f=new pe;if(a===ke.BYTE&&(o||vt.DEFAULT_BYTE_MODE_ENCODING!==s)){const de=ie.getCharacterSetECIByName(s);de!==void 0&&this.appendECI(de,f)}this.appendModeInfo(a,f);const g=new pe;this.appendBytes(e,a,g,s);let x;if(r!==null&&r.get(Zt.QR_VERSION)!==void 0){const de=Number.parseInt(r.get(Zt.QR_VERSION).toString(),10);x=Oe.getVersionForNumber(de);const le=this.calculateBitsNeeded(a,f,g,x);if(!this.willFit(le,x,n))throw new Et("Data too big for requested version")}else x=this.recommendVersion(n,a,f,g);const A=new pe;A.appendBitArray(f);const T=a===ke.BYTE?g.getSizeInBytes():e.length;this.appendLengthInfo(T,x,a,A),A.appendBitArray(g);const R=x.getECBlocksForLevel(n),k=x.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(k,A);const P=this.interleaveWithECBytes(A,x.getTotalCodewords(),k,R.getNumBlocks()),j=new Zr;j.setECLevel(n),j.setMode(a),j.setVersion(x);const H=x.getDimensionForVersion(),$=new Os(H,H),fe=this.chooseMaskPattern(P,n,x,$);return j.setMaskPattern(fe),Pe.buildMatrix(P,n,x,fe,$),j.setMatrix($),j}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,Oe.getVersionForNumber(1)),a=this.chooseVersion(o,e),f=this.calculateBitsNeeded(n,r,s,a);return this.chooseVersion(f,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<vt.ALPHANUMERIC_TABLE.length?vt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(ie.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return ke.KANJI;let r=!1,s=!1;for(let o=0,a=e.length;o<a;++o){const f=e.charAt(o);if(vt.isDigit(f))r=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)s=!0;else return ke.BYTE}return s?ke.ALPHANUMERIC:r?ke.NUMERIC:ke.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=$e.encode(e,ie.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let f=0;f<Zr.NUM_MASK_PATTERNS;f++){Pe.buildMatrix(e,n,r,f,s);let g=this.calculateMaskPenalty(s);g<o&&(o=g,a=f)}return a}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=Oe.getVersionForNumber(r);if(vt.willFit(e,s,n))return s}throw new Et("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),a=n.getECBlocksForLevel(r).getTotalECCodewords(),f=s-a,g=(e+7)/8;return f>=g}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new Et("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let a=s;a<8;a++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let a=0;a<o;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==r)throw new Et("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,a){if(s>=r)throw new Et("Block ID too large");const f=e%r,g=r-f,x=Math.floor(e/r),A=x+1,T=Math.floor(n/r),R=T+1,k=x-T,P=A-R;if(k!==P)throw new Et("EC bytes mismatch");if(r!==g+f)throw new Et("RS blocks mismatch");if(e!==(T+k)*g+(R+P)*f)throw new Et("Total bytes mismatch");s<g?(o[0]=T,a[0]=k):(o[0]=R,a[0]=P)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new Et("Number of bits and data bytes does not match");let o=0,a=0,f=0;const g=new Array;for(let A=0;A<s;++A){const T=new Int32Array(1),R=new Int32Array(1);vt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,A,T,R);const k=T[0],P=new Uint8Array(k);e.toBytes(8*o,P,0,k);const j=vt.generateECBytes(P,R[0]);g.push(new Tl(P,j)),a=Math.max(a,k),f=Math.max(f,j.length),o+=T[0]}if(r!==o)throw new Et("Data bytes does not match offset");const x=new pe;for(let A=0;A<a;++A)for(const T of g){const R=T.getDataBytes();A<R.length&&x.appendBits(R[A],8)}for(let A=0;A<f;++A)for(const T of g){const R=T.getErrorCorrectionBytes();A<R.length&&x.appendBits(R[A],8)}if(n!==x.getSizeInBytes())throw new Et("Interleaving error: "+n+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let a=0;a<r;a++)s[a]=e[a]&255;new wo(ot.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=s[r+a];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new Et(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case ke.NUMERIC:vt.appendNumericBytes(e,r);break;case ke.ALPHANUMERIC:vt.appendAlphanumericBytes(e,r);break;case ke.BYTE:vt.append8BitBytes(e,r,s);break;case ke.KANJI:vt.appendKanjiBytes(e,r);break;default:throw new Et("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=vt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=vt.getDigit(e.charAt(s));if(s+2<r){const a=vt.getDigit(e.charAt(s+1)),f=vt.getDigit(e.charAt(s+2));n.appendBits(o*100+a*10+f,10),s+=3}else if(s+1<r){const a=vt.getDigit(e.charAt(s+1));n.appendBits(o*10+a,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=vt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new Et;if(s+1<r){const a=vt.getAlphanumericCode(e.charCodeAt(s+1));if(a===-1)throw new Et;n.appendBits(o*45+a,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=$e.encode(e,r)}catch(o){throw new Et(o)}for(let o=0,a=s.length;o!==a;o++){const f=s[o];n.appendBits(f,8)}}static appendKanjiBytes(e,n){let r;try{r=$e.encode(e,ie.SJIS)}catch(o){throw new Et(o)}const s=r.length;for(let o=0;o<s;o+=2){const a=r[o]&255,f=r[o+1]&255,g=a<<8&4294967295|f;let x=-1;if(g>=33088&&g<=40956?x=g-33088:g>=57408&&g<=60351&&(x=g-49472),x===-1)throw new Et("Invalid byte sequence");const A=(x>>8)*192+(x&255);n.appendBits(A,13)}}static appendECI(e,n){n.appendBits(ke.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vt.DEFAULT_BYTE_MODE_ENCODING=ie.UTF8.getName();class Kr{write(e,n,r,s=null){if(e.length===0)throw new _("Found empty contents");if(n<0||r<0)throw new _("Requested dimensions are too small: "+n+"x"+r);let o=yt.L,a=Kr.QUIET_ZONE_SIZE;s!==null&&(s.get(Zt.ERROR_CORRECTION)!==void 0&&(o=yt.fromString(s.get(Zt.ERROR_CORRECTION).toString())),s.get(Zt.MARGIN)!==void 0&&(a=Number.parseInt(s.get(Zt.MARGIN).toString(),10)));const f=vt.encode(e,o,s);return this.renderResult(f,n,r,a)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,r,s,o);e&&e.appendChild(a)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Xn;const a=o.getWidth(),f=o.getHeight(),g=a+s*2,x=f+s*2,A=Math.max(n,g),T=Math.max(r,x),R=Math.min(Math.floor(A/g),Math.floor(T/x)),k=Math.floor((A-a*R)/2),P=Math.floor((T-f*R)/2),j=this.createSVGElement(A,T);for(let H=0,$=P;H<f;H++,$+=R)for(let fe=0,de=k;fe<a;fe++,de+=R)if(o.get(fe,H)===1){const le=this.createSvgRectElement(de,$,R,R);j.appendChild(le)}return j}createSVGElement(e,n){const r=document.createElementNS(Kr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(Kr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Kr.QUIET_ZONE_SIZE=4,Kr.SVG_NS="http://www.w3.org/2000/svg";class vi{encode(e,n,r,s,o){if(e.length===0)throw new _("Found empty contents");if(n!==me.QR_CODE)throw new _("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new _(`Requested dimensions are too small: ${r}x${s}`);let a=yt.L,f=vi.QUIET_ZONE_SIZE;o!==null&&(o.get(Zt.ERROR_CORRECTION)!==void 0&&(a=yt.fromString(o.get(Zt.ERROR_CORRECTION).toString())),o.get(Zt.MARGIN)!==void 0&&(f=Number.parseInt(o.get(Zt.MARGIN).toString(),10)));const g=vt.encode(e,a,o);return vi.renderResult(g,r,s,f)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Xn;const a=o.getWidth(),f=o.getHeight(),g=a+s*2,x=f+s*2,A=Math.max(n,g),T=Math.max(r,x),R=Math.min(Math.floor(A/g),Math.floor(T/x)),k=Math.floor((A-a*R)/2),P=Math.floor((T-f*R)/2),j=new _e(A,T);for(let H=0,$=P;H<f;H++,$+=R)for(let fe=0,de=k;fe<a;fe++,de+=R)o.get(fe,H)===1&&j.setRegion(de,$,R,R);return j}}vi.QUIET_ZONE_SIZE=4;class bl{encode(e,n,r,s,o){let a;switch(n){case me.QR_CODE:a=new vi;break;default:throw new _("No encoder available for format "+n)}return a.encode(e,n,r,s,o)}}class gr extends xe{constructor(e,n,r,s,o,a,f,g){if(super(a,f),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+a>n||o+f>r)throw new _("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(a,f)}getRow(e,n){if(e<0||e>=this.getHeight())throw new _("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return X.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return X.arraycopy(this.yuvData,o,s,0,r),s;for(let a=0;a<n;a++){const f=a*e;X.arraycopy(this.yuvData,o,s,f,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const f=a*e;for(let g=0;g<e;g++){const x=s[o+g*gr.THUMBNAIL_SCALE_FACTOR]&255;r[f+g]=4278190080|x*65793}o+=this.dataWidth*gr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const a=o+e/2;for(let f=o,g=o+e-1;f<a;f++,g--){const x=r[f];r[f]=r[g],r[g]=x}}}invert(){return new Ne(this)}}gr.THUMBNAIL_SCALE_FACTOR=2;class ns extends xe{constructor(e,n,r,s,o,a,f){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=a,this.top=f,e.BYTES_PER_ELEMENT===4){const g=n*r,x=new Uint8ClampedArray(g);for(let A=0;A<g;A++){const T=e[A],R=T>>16&255,k=T>>7&510,P=T&255;x[A]=(R+k+P)/4&255}this.luminances=x}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new _("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return X.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return X.arraycopy(this.luminances,o,s,0,r),s;for(let a=0;a<n;a++){const f=a*e;X.arraycopy(this.luminances,o,s,f,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new ns(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ne(this)}}class ha extends ie{static forName(e){return this.getCharacterSetECIByName(e)}}class Co{}Co.ISO_8859_1=ie.ISO8859_1;class ga{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Eo{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Ml{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Si extends Ml{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Si(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Si(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+te.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ao extends Si{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Ao(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function _l(N,e,n){return new Ao(N,e,n)}function rs(N,e,n){return new Si(N,e,n)}const Rl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Pr=0,Ii=1,hn=2,pa=3,er=4,xa=new Si(null,0,0),Ds=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ma(N){for(let e of N)he.fill(e,-1);return N[Pr][er]=0,N[Ii][er]=0,N[Ii][Pr]=28,N[pa][er]=0,N[hn][er]=0,N[hn][Pr]=15,N}const vo=ma(he.createInt32Array(6,6));class wn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let a=Ds[this.mode][e];s=rs(s,a&65535,a>>16),r+=a>>16}let o=e===hn?4:5;return s=rs(s,n,o),new wn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===hn?4:5;return r=rs(r,vo[this.mode][e],s),r=rs(r,n,5),new wn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===er||this.mode===hn){let f=Ds[r][Pr];n=rs(n,f&65535,f>>16),s+=f>>16,r=Pr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new wn(n,r,this.binaryShiftByteCount+1,s+o);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=_l(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new wn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(Ds[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=wn.calculateBinaryShiftCost(e)-wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new pe;for(const s of n)s.appendTo(r,e);return r}toString(){return Me.format("%s bits=%d bytes=%d",Rl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}wn.INITIAL_STATE=new wn(xa,Pr,0,0);function Ol(N){const e=Me.getCharCode(" "),n=Me.getCharCode("."),r=Me.getCharCode(",");N[Pr][e]=1;const s=Me.getCharCode("Z"),o=Me.getCharCode("A");for(let R=o;R<=s;R++)N[Pr][R]=R-o+2;N[Ii][e]=1;const a=Me.getCharCode("z"),f=Me.getCharCode("a");for(let R=f;R<=a;R++)N[Ii][R]=R-f+2;N[hn][e]=1;const g=Me.getCharCode("9"),x=Me.getCharCode("0");for(let R=x;R<=g;R++)N[hn][R]=R-x+2;N[hn][r]=12,N[hn][n]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<A.length;R++)N[pa][Me.getCharCode(A[R])]=R;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<T.length;R++)Me.getCharCode(T[R])>0&&(N[er][Me.getCharCode(T[R])]=R);return N}const So=Ol(he.createInt32Array(5,256));class is{constructor(e){this.text=e}encode(){const e=Me.getCharCode(" "),n=Me.getCharCode(`
`);let r=Eo.singletonList(wn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,f=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Me.getCharCode("\r"):a=f===n?2:0;break;case Me.getCharCode("."):a=f===e?3:0;break;case Me.getCharCode(","):a=f===e?4:0;break;case Me.getCharCode(":"):a=f===e?5:0;break;default:a=0}a>0?(r=is.updateStateListForPair(r,o,a),o++):r=this.updateStateListForChar(r,o)}return Eo.min(r,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return is.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=So[e.getMode()][s]>0,a=null;for(let f=0;f<=er;f++){let g=So[f][s];if(g>0){if(a==null&&(a=e.endBinaryShift(n)),!o||f===e.getMode()||f===hn){const x=a.latchAndAppend(f,g);r.push(x)}if(!o&&vo[e.getMode()][f]>=0){const x=a.shiftAndAppend(f,g);r.push(x)}}}if(e.getBinaryShiftByteCount()>0||So[e.getMode()][s]===0){let f=e.addBinaryShiftChar(n);r.push(f)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(er,r)),e.getMode()!==er&&s.push(o.shiftAndAppend(er,r)),r===3||r===4){let a=o.latchAndAppend(hn,16-r).latchAndAppend(hn,1);s.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(a)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(a=>a!==o))}s&&n.push(r)}return n}}class at{constructor(){}static encodeBytes(e){return at.encode(e,at.DEFAULT_EC_PERCENT,at.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new is(e).encode(),o=te.truncDivision(s.getSize()*n,100)+11,a=s.getSize()+o,f,g,x,A,T;if(r!==at.DEFAULT_AZTEC_LAYERS){if(f=r<0,g=Math.abs(r),g>(f?at.MAX_NB_BITS_COMPACT:at.MAX_NB_BITS))throw new _(Me.format("Illegal value %s for layers",r));x=at.totalBitsInLayer(g,f),A=at.WORD_SIZE[g];let le=x-x%A;if(T=at.stuffBits(s,A),T.getSize()+o>le)throw new _("Data to large for user specified layer");if(f&&T.getSize()>A*64)throw new _("Data to large for user specified layer")}else{A=0,T=null;for(let le=0;;le++){if(le>at.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(f=le<=3,g=f?le+1:le,x=at.totalBitsInLayer(g,f),a>x)continue;(T==null||A!==at.WORD_SIZE[g])&&(A=at.WORD_SIZE[g],T=at.stuffBits(s,A));let Je=x-x%A;if(!(f&&T.getSize()>A*64)&&T.getSize()+o<=Je)break}}let R=at.generateCheckWords(T,x,A),k=T.getSize()/A,P=at.generateModeMessage(f,g,k),j=(f?11:14)+g*4,H=new Int32Array(j),$;if(f){$=j;for(let le=0;le<H.length;le++)H[le]=le}else{$=j+1+2*te.truncDivision(te.truncDivision(j,2)-1,15);let le=te.truncDivision(j,2),Je=te.truncDivision($,2);for(let Xe=0;Xe<le;Xe++){let Tn=Xe+te.truncDivision(Xe,15);H[le-Xe-1]=Je-Tn-1,H[le+Xe]=Je+Tn+1}}let fe=new _e($);for(let le=0,Je=0;le<g;le++){let Xe=(g-le)*4+(f?9:12);for(let Tn=0;Tn<Xe;Tn++){let tr=Tn*2;for(let Kt=0;Kt<2;Kt++)R.get(Je+tr+Kt)&&fe.set(H[le*2+Kt],H[le*2+Tn]),R.get(Je+Xe*2+tr+Kt)&&fe.set(H[le*2+Tn],H[j-1-le*2-Kt]),R.get(Je+Xe*4+tr+Kt)&&fe.set(H[j-1-le*2-Kt],H[j-1-le*2-Tn]),R.get(Je+Xe*6+tr+Kt)&&fe.set(H[j-1-le*2-Tn],H[le*2+Kt])}Je+=Xe*8}if(at.drawModeMessage(fe,f,$,P),f)at.drawBullsEye(fe,te.truncDivision($,2),5);else{at.drawBullsEye(fe,te.truncDivision($,2),7);for(let le=0,Je=0;le<te.truncDivision(j,2)-1;le+=15,Je+=16)for(let Xe=te.truncDivision($,2)&1;Xe<$;Xe+=2)fe.set(te.truncDivision($,2)-Je,Xe),fe.set(te.truncDivision($,2)+Je,Xe),fe.set(Xe,te.truncDivision($,2)-Je),fe.set(Xe,te.truncDivision($,2)+Je)}let de=new ga;return de.setCompact(f),de.setSize($),de.setLayers(g),de.setCodeWords(k),de.setMatrix(fe),de}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new pe;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=at.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=at.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=te.truncDivision(r,2);if(n)for(let a=0;a<7;a++){let f=o-3+a;s.get(a)&&e.set(f,o-5),s.get(a+7)&&e.set(o+5,f),s.get(20-a)&&e.set(f,o+5),s.get(27-a)&&e.set(o-5,f)}else for(let a=0;a<10;a++){let f=o-5+a+te.truncDivision(a,5);s.get(a)&&e.set(f,o-7),s.get(a+10)&&e.set(o+7,f),s.get(29-a)&&e.set(f,o+7),s.get(39-a)&&e.set(o-7,f)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new wo(at.getGF(r)),a=te.truncDivision(n,r),f=at.bitsToWords(e,r,a);o.encode(f,a-s);let g=n%r,x=new pe;x.appendBits(0,g);for(const A of Array.from(f))x.appendBits(A,r);return x}static bitsToWords(e,n,r){let s=new Int32Array(r),o,a;for(o=0,a=e.getSize()/n;o<a;o++){let f=0;for(let g=0;g<n;g++)f|=e.get(o*n+g)?1<<n-g-1:0;s[o]=f}return s}static getGF(e){switch(e){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new _("Unsupported word size "+e)}}static stuffBits(e,n){let r=new pe,s=e.getSize(),o=(1<<n)-2;for(let a=0;a<s;a+=n){let f=0;for(let g=0;g<n;g++)(a+g>=s||e.get(a+g))&&(f|=1<<n-1-g);(f&o)===o?(r.appendBits(f&o,n),a--):(f&o)===0?(r.appendBits(f|1,n),a--):r.appendBits(f,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}at.DEFAULT_EC_PERCENT=33,at.DEFAULT_AZTEC_LAYERS=0,at.MAX_NB_BITS=32,at.MAX_NB_BITS_COMPACT=4,at.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ss{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let a=Co.ISO_8859_1,f=at.DEFAULT_EC_PERCENT,g=at.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Zt.CHARACTER_SET)&&(a=ha.forName(o.get(Zt.CHARACTER_SET).toString())),o.has(Zt.ERROR_CORRECTION)&&(f=te.parseInt(o.get(Zt.ERROR_CORRECTION).toString())),o.has(Zt.AZTEC_LAYERS)&&(g=te.parseInt(o.get(Zt.AZTEC_LAYERS).toString()))),ss.encodeLayers(e,n,r,s,a,f,g)}static encodeLayers(e,n,r,s,o,a,f){if(n!==me.AZTEC)throw new _("Can only encode AZTEC, but got "+n);let g=at.encode(Me.getBytes(e,o),a,f);return ss.renderResult(g,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new Xn;let o=s.getWidth(),a=s.getHeight(),f=Math.max(n,o),g=Math.max(r,a),x=Math.min(f/o,g/a),A=(f-o*x)/2,T=(g-a*x)/2,R=new _e(f,g);for(let k=0,P=T;k<a;k++,P+=x)for(let j=0,H=A;j<o;j++,H+=x)s.get(j,k)&&R.setRegion(H,P,x,x);return R}}c.AbstractExpandedDecoder=lo,c.ArgumentException=b,c.ArithmeticException=Yi,c.AztecCode=ga,c.AztecCodeReader=Dr,c.AztecCodeWriter=ss,c.AztecDecoder=Ct,c.AztecDetector=pi,c.AztecDetectorResult=ro,c.AztecEncoder=at,c.AztecHighLevelEncoder=is,c.AztecPoint=fn,c.BarcodeFormat=me,c.Binarizer=K,c.BinaryBitmap=B,c.BitArray=pe,c.BitMatrix=_e,c.BitSource=fo,c.BrowserAztecCodeReader=Il,c.BrowserBarcodeReader=oa,c.BrowserCodeReader=He,c.BrowserDatamatrixCodeReader=Nl,c.BrowserMultiFormatReader=ts,c.BrowserPDF417Reader=Rs,c.BrowserQRCodeReader=da,c.BrowserQRCodeSvgWriter=Kr,c.CharacterSetECI=ie,c.ChecksumException=W,c.Code128Reader=ye,c.Code39Reader=Xt,c.DataMatrixDecodedBitStreamParser=qn,c.DataMatrixReader=$n,c.DecodeHintType=De,c.DecoderResult=xt,c.DefaultGridSampler=vs,c.DetectorResult=gi,c.EAN13Reader=Pn,c.EncodeHintType=Zt,c.Exception=C,c.FormatException=oe,c.GenericGF=ot,c.GenericGFPoly=nn,c.GlobalHistogramBinarizer=Ze,c.GridSampler=As,c.GridSamplerInstance=Qn,c.HTMLCanvasElementLuminanceSource=we,c.HybridBinarizer=Ce,c.ITFReader=dt,c.IllegalArgumentException=_,c.IllegalStateException=Xn,c.InvertedLuminanceSource=Ne,c.LuminanceSource=xe,c.MathUtils=nt,c.MultiFormatOneDReader=mi,c.MultiFormatReader=_s,c.MultiFormatWriter=bl,c.NotFoundException=q,c.OneDReader=Bt,c.PDF417DecodedBitStreamParser=J,c.PDF417DecoderErrorCorrection=po,c.PDF417Reader=ln,c.PDF417ResultMetadata=bs,c.PerspectiveTransform=Bn,c.PlanarYUVLuminanceSource=gr,c.QRCodeByteMatrix=Os,c.QRCodeDataMask=qe,c.QRCodeDecodedBitStreamParser=bt,c.QRCodeDecoderErrorCorrectionLevel=yt,c.QRCodeDecoderFormatInformation=sn,c.QRCodeEncoder=vt,c.QRCodeEncoderQRCode=Zr,c.QRCodeMaskUtil=Mt,c.QRCodeMatrixUtil=Pe,c.QRCodeMode=ke,c.QRCodeReader=yn,c.QRCodeVersion=Oe,c.QRCodeWriter=vi,c.RGBLuminanceSource=ns,c.RSS14Reader=St,c.RSSExpandedReader=se,c.ReaderException=Ai,c.ReedSolomonDecoder=hi,c.ReedSolomonEncoder=wo,c.ReedSolomonException=Rr,c.Result=Be,c.ResultMetadataType=Ve,c.ResultPoint=ve,c.StringUtils=Me,c.UnsupportedOperationException=gt,c.VideoInputDevice=V,c.WhiteRectangleDetector=ur,c.WriterException=Et,c.ZXingArrays=he,c.ZXingCharset=ha,c.ZXingInteger=te,c.ZXingStandardCharsets=Co,c.ZXingStringBuilder=We,c.ZXingStringEncoding=$e,c.ZXingSystem=X,c.createAbstractExpandedDecoder=ia,Object.defineProperty(c,"__esModule",{value:!0})})}(Xo,Xo.exports)),Xo.exports}var Dt=L2();const B2=yc(Dt),P2=Wd({__proto__:null,default:B2},[Dt]);var H0=function(){function u(d,c,m){if(this.formatMap=new Map([[Se.QR_CODE,Dt.BarcodeFormat.QR_CODE],[Se.AZTEC,Dt.BarcodeFormat.AZTEC],[Se.CODABAR,Dt.BarcodeFormat.CODABAR],[Se.CODE_39,Dt.BarcodeFormat.CODE_39],[Se.CODE_93,Dt.BarcodeFormat.CODE_93],[Se.CODE_128,Dt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Dt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Dt.BarcodeFormat.MAXICODE],[Se.ITF,Dt.BarcodeFormat.ITF],[Se.EAN_13,Dt.BarcodeFormat.EAN_13],[Se.EAN_8,Dt.BarcodeFormat.EAN_8],[Se.PDF_417,Dt.BarcodeFormat.PDF_417],[Se.RSS_14,Dt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Dt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Dt.BarcodeFormat.UPC_A],[Se.UPC_E,Dt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Dt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!P2)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=c,this.logger=m;var w=this.createZXingFormats(d),p=new Map;p.set(Dt.DecodeHintType.POSSIBLE_FORMATS,w),p.set(Dt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return u.prototype.decodeAsync=function(d){var c=this;return new Promise(function(m,w){try{m(c.decode(d))}catch(p){w(p)}})},u.prototype.decode=function(d){var c=new Dt.MultiFormatReader(this.verbose,this.hints),m=new Dt.HTMLCanvasElementLuminanceSource(d),w=new Dt.BinaryBitmap(new Dt.HybridBinarizer(m)),p=c.decode(w);return{text:p.text,format:Of.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},u.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(c,m,w){d.set(c,m)}),d},u.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},u.prototype.createZXingFormats=function(d){for(var c=[],m=0,w=d;m<w.length;m++){var p=w[m];this.formatMap.has(p)?c.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return c},u.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},u}(),F2=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},j2=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},V0=function(){function u(d,c,m){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!u.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=c,this.logger=m;var w=this.createBarcodeDetectorFormats(d);if(this.detector=new BarcodeDetector(w),!this.detector)throw"BarcodeDetector detector not supported"}return u.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var d=new BarcodeDetector({formats:["qr_code"]});return typeof d<"u"},u.prototype.decodeAsync=function(d){return F2(this,void 0,void 0,function(){var c,m;return j2(this,function(w){switch(w.label){case 0:return[4,this.detector.detect(d)];case 1:if(c=w.sent(),!c||c.length===0)throw"No barcode or QR code detected.";return m=this.selectLargestBarcode(c),[2,{text:m.rawValue,format:Of.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}]}})})},u.prototype.selectLargestBarcode=function(d){for(var c=null,m=0,w=0,p=d;w<p.length;w++){var I=p[w],O=I.boundingBox.width*I.boundingBox.height;O>m&&(m=O,c=I)}if(!c)throw"No largest barcode found";return c},u.prototype.createBarcodeDetectorFormats=function(d){for(var c=[],m=0,w=d;m<w.length;m++){var p=w[m];this.formatMap.has(p)?c.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:c}},u.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},u.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(c,m,w){d.set(c,m)}),d},u.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},u}(),W0=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},G0=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},U2=function(){function u(d,c,m,w){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=m,c&&V0.isSupported()?(this.primaryDecoder=new V0(d,m,w),this.secondaryDecoder=new H0(d,m,w)):this.primaryDecoder=new H0(d,m,w)}return u.prototype.decodeAsync=function(d){return W0(this,void 0,void 0,function(){var c;return G0(this,function(m){switch(m.label){case 0:c=performance.now(),m.label=1;case 1:return m.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(d)];case 2:return[2,m.sent()];case 3:return this.possiblyLogPerformance(c),[7];case 4:return[2]}})})},u.prototype.decodeRobustlyAsync=function(d){return W0(this,void 0,void 0,function(){var c,m;return G0(this,function(w){switch(w.label){case 0:c=performance.now(),w.label=1;case 1:return w.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(d)];case 2:return[2,w.sent()];case 3:if(m=w.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(d)];throw m;case 4:return this.possiblyLogPerformance(c),[7];case 5:return[2]}})})},u.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},u.prototype.possiblyLogPerformance=function(d){if(this.verbose){var c=performance.now()-d;this.executionResults.push(c),this.executions++,this.possiblyFlushPerformanceReport()}},u.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var d=0,c=0,m=this.executionResults;c<m.length;c++){var w=m[c];d+=w}var p=d/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},u}(),Ic=function(){var u=function(d,c){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var p in w)Object.prototype.hasOwnProperty.call(w,p)&&(m[p]=w[p])},u(d,c)};return function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");u(d,c);function m(){this.constructor=d}d.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}}(),yl=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},wl=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Bf=function(){function u(d,c){this.name=d,this.track=c}return u.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},u.prototype.apply=function(d){var c={};c[this.name]=d;var m={advanced:[c]};return this.track.applyConstraints(m)},u.prototype.value=function(){var d=this.track.getSettings();if(this.name in d){var c=d[this.name];return c}return null},u}(),z2=function(u){Ic(d,u);function d(c,m){return u.call(this,c,m)||this}return d.prototype.min=function(){return this.getCapabilities().min},d.prototype.max=function(){return this.getCapabilities().max},d.prototype.step=function(){return this.getCapabilities().step},d.prototype.apply=function(c){var m={};m[this.name]=c;var w={advanced:[m]};return this.track.applyConstraints(w)},d.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),m=c[this.name];return{min:m.min,max:m.max,step:m.step}},d.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},d}(Bf),H2=function(u){Ic(d,u);function d(c){return u.call(this,"zoom",c)||this}return d}(z2),V2=function(u){Ic(d,u);function d(c){return u.call(this,"torch",c)||this}return d}(Bf),W2=function(){function u(d){this.track=d}return u.prototype.zoomFeature=function(){return new H2(this.track)},u.prototype.torchFeature=function(){return new V2(this.track)},u}(),G2=function(){function u(d,c,m){this.isClosed=!1,this.parentElement=d,this.mediaStream=c,this.callbacks=m,this.surface=this.createVideoElement(this.parentElement.clientWidth),d.append(this.surface)}return u.prototype.createVideoElement=function(d){var c=document.createElement("video");return c.style.width="".concat(d,"px"),c.style.display="block",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,c},u.prototype.setupSurface=function(){var d=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var c=function(){var m=d.surface.clientWidth,w=d.surface.clientHeight;d.callbacks.onRenderSurfaceReady(m,w),d.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.srcObject=this.mediaStream,this.surface.play()},u.create=function(d,c,m,w){return yl(this,void 0,void 0,function(){var p,I;return wl(this,function(O){switch(O.label){case 0:return p=new u(d,c,w),m.aspectRatio?(I={aspectRatio:m.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(I)]):[3,2];case 1:O.sent(),O.label=2;case 2:return p.setupSurface(),[2,p]}})})},u.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},u.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},u.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},u.prototype.resume=function(d){this.failIfClosed();var c=this,m=function(){setTimeout(d,200),c.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.play()},u.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},u.prototype.getSurface=function(){return this.failIfClosed(),this.surface},u.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},u.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},u.prototype.applyVideoConstraints=function(d){return yl(this,void 0,void 0,function(){return wl(this,function(c){if("aspectRatio"in d)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(d)]})})},u.prototype.close=function(){if(this.isClosed)return Promise.resolve();var d=this;return new Promise(function(c,m){var w=d.mediaStream.getVideoTracks(),p=w.length,I=0;d.mediaStream.getVideoTracks().forEach(function(O){d.mediaStream.removeTrack(O),O.stop(),++I,I>=p&&(d.isClosed=!0,d.parentElement.removeChild(d.surface),c())})})},u.prototype.getCapabilities=function(){return new W2(this.getFirstTrackOrFail())},u}(),Y2=function(){function u(d){this.mediaStream=d}return u.prototype.render=function(d,c,m){return yl(this,void 0,void 0,function(){return wl(this,function(w){return[2,G2.create(d,this.mediaStream,c,m)]})})},u.create=function(d){return yl(this,void 0,void 0,function(){var c,m;return wl(this,function(w){switch(w.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return c={audio:!1,video:d},[4,navigator.mediaDevices.getUserMedia(c)];case 1:return m=w.sent(),[2,new u(m)]}})})},u}(),Y0=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},X0=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},X2=function(){function u(){}return u.failIfNotSupported=function(){return Y0(this,void 0,void 0,function(){return X0(this,function(d){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new u]})})},u.prototype.create=function(d){return Y0(this,void 0,void 0,function(){return X0(this,function(c){return[2,Y2.create(d)]})})},u}(),Q2=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},Z2=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},K2=function(){function u(){}return u.retrieve=function(){if(navigator.mediaDevices)return u.getCamerasFromMediaDevices();var d=MediaStreamTrack;return MediaStreamTrack&&d.getSources?u.getCamerasFromMediaStreamTrack():u.rejectWithError()},u.rejectWithError=function(){var d=$s.unableToQuerySupportedDevices();return u.isHttpsOrLocalhost()||(d=$s.insecureContextCameraQueryError()),Promise.reject(d)},u.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var d=location.host.split(":")[0];return d==="127.0.0.1"||d==="localhost"},u.getCamerasFromMediaDevices=function(){return Q2(this,void 0,void 0,function(){var d,c,m,w,p,I,O;return Z2(this,function(v){switch(v.label){case 0:return d=function(C){for(var b=C.getVideoTracks(),_=0,B=b;_<B.length;_++){var W=B[_];W.enabled=!1,W.stop(),C.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return c=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(m=v.sent(),w=[],p=0,I=m;p<I.length;p++)O=I[p],O.kind==="videoinput"&&w.push({id:O.deviceId,label:O.label});return d(c),[2,w]}})})},u.getCamerasFromMediaStreamTrack=function(){return new Promise(function(d,c){var m=function(p){for(var I=[],O=0,v=p;O<v.length;O++){var C=v[O];C.kind==="video"&&I.push({id:C.id,label:C.label})}d(I)},w=MediaStreamTrack;w.getSources(m)})},u}(),Gt;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.NOT_STARTED=1]="NOT_STARTED",u[u.SCANNING=2]="SCANNING",u[u.PAUSED=3]="PAUSED"})(Gt||(Gt={}));var q2=function(){function u(){this.state=Gt.NOT_STARTED,this.onGoingTransactionNewState=Gt.UNKNOWN}return u.prototype.directTransition=function(d){this.failIfTransitionOngoing(),this.validateTransition(d),this.state=d},u.prototype.startTransition=function(d){return this.failIfTransitionOngoing(),this.validateTransition(d),this.onGoingTransactionNewState=d,this},u.prototype.execute=function(){if(this.onGoingTransactionNewState===Gt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var d=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Gt.UNKNOWN,this.directTransition(d)},u.prototype.cancel=function(){if(this.onGoingTransactionNewState===Gt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Gt.UNKNOWN},u.prototype.getState=function(){return this.state},u.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Gt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},u.prototype.validateTransition=function(d){switch(this.state){case Gt.UNKNOWN:throw"Transition from unknown is not allowed";case Gt.NOT_STARTED:this.failIfNewStateIs(d,[Gt.PAUSED]);break;case Gt.SCANNING:break;case Gt.PAUSED:break}},u.prototype.failIfNewStateIs=function(d,c){for(var m=0,w=c;m<w.length;m++){var p=w[m];if(d===p)throw"Cannot transition from ".concat(this.state," to ").concat(d)}},u}(),$2=function(){function u(d){this.stateManager=d}return u.prototype.startTransition=function(d){return this.stateManager.startTransition(d)},u.prototype.directTransition=function(d){this.stateManager.directTransition(d)},u.prototype.getState=function(){return this.stateManager.getState()},u.prototype.canScanFile=function(){return this.stateManager.getState()===Gt.NOT_STARTED},u.prototype.isScanning=function(){return this.stateManager.getState()!==Gt.NOT_STARTED},u.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Gt.SCANNING},u.prototype.isPaused=function(){return this.stateManager.getState()===Gt.PAUSED},u}(),J2=function(){function u(){}return u.create=function(){return new $2(new q2)},u}(),ep=function(){var u=function(d,c){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var p in w)Object.prototype.hasOwnProperty.call(w,p)&&(m[p]=w[p])},u(d,c)};return function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");u(d,c);function m(){this.constructor=d}d.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}}(),sr=function(u){ep(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.DEFAULT_WIDTH=300,d.DEFAULT_WIDTH_OFFSET=2,d.FILE_SCAN_MIN_HEIGHT=300,d.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,d.MIN_QR_BOX_SIZE=50,d.SHADED_LEFT=1,d.SHADED_RIGHT=2,d.SHADED_TOP=3,d.SHADED_BOTTOM=4,d.SHADED_REGION_ELEMENT_ID="qr-shaded-region",d.VERBOSE=!1,d.BORDER_SHADER_DEFAULT_COLOR="#ffffff",d.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",d}(_r),tp=function(){function u(d,c){this.logger=c,this.fps=sr.SCAN_DEFAULT_FPS,d?(d.fps&&(this.fps=d.fps),this.disableFlip=d.disableFlip===!0,this.qrbox=d.qrbox,this.aspectRatio=d.aspectRatio,this.videoConstraints=d.videoConstraints):this.disableFlip=sr.DEFAULT_DISABLE_FLIP}return u.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Lf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},u.prototype.isShadedBoxEnabled=function(){return!Hr(this.qrbox)},u.create=function(d,c){return new u(d,c)},u}(),Q0=function(){function u(d,c){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(d))throw"HTML Element with id=".concat(d," not found");this.elementId=d,this.verbose=!1;var m;typeof c=="boolean"?this.verbose=c===!0:c&&(m=c,this.verbose=m.verbose===!0,m.experimentalFeatures),this.logger=new kf(this.verbose),this.qrcode=new U2(this.getSupportedFormats(c),this.getUseBarCodeDetectorIfSupported(m),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=J2.create()}return u.prototype.start=function(d,c,m,w){var p=this;if(!d)throw"cameraIdOrConfig is required";if(!m||typeof m!="function")throw"qrCodeSuccessCallback is required and should be a function.";var I;w?I=w:I=this.verbose?this.logger.log:function(){};var O=tp.create(c,this.logger);this.clearElement();var v=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=v,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:sr.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var _=this,B=this.stateManagerProxy.startTransition(Gt.SCANNING);return new Promise(function(W,K){var X=C?O.videoConstraints:_.createVideoConstraints(d);if(!X){B.cancel(),K("videoConstraints should be defined");return}var Q={};(!C||O.aspectRatio)&&(Q.aspectRatio=O.aspectRatio);var ne={onRenderSurfaceReady:function(he,te){_.setupUi(he,te,O),_.isScanning=!0,_.foreverScan(O,m,I)}};X2.failIfNotSupported().then(function(he){he.create(X).then(function(te){return te.render(p.element,Q,ne).then(function(pe){_.renderedCamera=pe,B.execute(),W(null)}).catch(function(pe){B.cancel(),K(pe)})}).catch(function(te){B.cancel(),K($s.errorGettingUserMedia(te))})}).catch(function(he){B.cancel(),K($s.cameraStreamingNotSupported())})})},u.prototype.pause=function(d){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Gt.PAUSED),this.showPausedState(),(Hr(d)||d!==!0)&&(d=!1),d&&this.renderedCamera&&this.renderedCamera.pause()},u.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var d=this,c=function(){d.stateManagerProxy.directTransition(Gt.SCANNING),d.hidePausedState()};if(!this.renderedCamera.isPaused()){c();return}this.renderedCamera.resume(function(){c()})},u.prototype.getState=function(){return this.stateManagerProxy.getState()},u.prototype.stop=function(){var d=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var c=this.stateManagerProxy.startTransition(Gt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var m=function(){if(d.element){var p=document.getElementById(sr.SHADED_REGION_ELEMENT_ID);p&&d.element.removeChild(p)}},w=this;return this.renderedCamera.close().then(function(){return w.renderedCamera=null,w.element&&(w.element.removeChild(w.canvasElement),w.canvasElement=null),m(),w.qrRegion&&(w.qrRegion=null),w.context&&(w.context=null),c.execute(),w.hidePausedState(),w.isScanning=!1,Promise.resolve()})},u.prototype.scanFile=function(d,c){return this.scanFileV2(d,c).then(function(m){return m.decodedText})},u.prototype.scanFileV2=function(d,c){var m=this;if(!d||!(d instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hr(c)&&(c=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(w,p){m.possiblyCloseLastScanImageFile(),m.clearElement(),m.lastScanImageFile=URL.createObjectURL(d);var I=new Image;I.onload=function(){var O=I.width,v=I.height,C=document.getElementById(m.elementId),b=C.clientWidth?C.clientWidth:sr.DEFAULT_WIDTH,_=Math.max(C.clientHeight?C.clientHeight:v,sr.FILE_SCAN_MIN_HEIGHT),B=m.computeCanvasDrawConfig(O,v,b,_);if(c){var W=m.createCanvasElement(b,_,"qr-canvas-visible");W.style.display="inline-block",C.appendChild(W);var K=W.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=b,K.canvas.height=_,K.drawImage(I,0,0,O,v,B.x,B.y,B.width,B.height)}var X=sr.FILE_SCAN_HIDDEN_CANVAS_PADDING,Q=Math.max(I.width,B.width),ne=Math.max(I.height,B.height),he=Q+2*X,te=ne+2*X,pe=m.createCanvasElement(he,te);C.appendChild(pe);var ze=pe.getContext("2d");if(!ze)throw"Unable to get 2d context from canvas";ze.canvas.width=he,ze.canvas.height=te,ze.drawImage(I,0,0,O,v,X,X,Q,ne);try{m.qrcode.decodeRobustlyAsync(pe).then(function(De){w(j0.createFromQrcodeResult(De))}).catch(p)}catch(De){p("QR code parse error, error = ".concat(De))}},I.onerror=p,I.onabort=p,I.onstalled=p,I.onsuspend=p,I.src=URL.createObjectURL(d)})},u.prototype.clear=function(){this.clearElement()},u.getCameras=function(){return K2.retrieve()},u.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},u.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},u.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},u.prototype.applyVideoConstraints=function(d){if(d){if(!Lf.isMediaStreamConstraintsValid(d,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(d)},u.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},u.prototype.getSupportedFormats=function(d){var c=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!d||typeof d=="boolean"||!d.formatsToSupport)return c;if(!Array.isArray(d.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(d.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var m=[],w=0,p=d.formatsToSupport;w<p.length;w++){var I=p[w];O2(I)?m.push(I):this.logger.warn("Invalid format: ".concat(I," passed in config, ignoring."))}if(m.length===0)throw"None of formatsToSupport match supported values.";return m},u.prototype.getUseBarCodeDetectorIfSupported=function(d){if(Hr(d))return!0;if(!Hr(d.useBarCodeDetectorIfSupported))return d.useBarCodeDetectorIfSupported!==!1;if(Hr(d.experimentalFeatures))return!0;var c=d.experimentalFeatures;return Hr(c.useBarCodeDetectorIfSupported)?!0:c.useBarCodeDetectorIfSupported!==!1},u.prototype.validateQrboxSize=function(d,c,m){var w=this,p=m.qrbox;this.validateQrboxConfig(p);var I=this.toQrdimensions(d,c,p),O=function(C){if(C<sr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sr.MIN_QR_BOX_SIZE,"px.")},v=function(C){return C>d&&(w.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=d),C};O(I.width),O(I.height),I.width=v(I.width)},u.prototype.validateQrboxConfig=function(d){if(typeof d!="number"&&typeof d!="function"&&(d.width===void 0||d.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},u.prototype.toQrdimensions=function(d,c,m){if(typeof m=="number")return{width:m,height:m};if(typeof m=="function")try{return m(d,c)}catch(w){throw new Error("qrbox config was passed as a function but it failed with unknown error"+w)}return m},u.prototype.setupUi=function(d,c,m){m.isShadedBoxEnabled()&&this.validateQrboxSize(d,c,m);var w=Hr(m.qrbox)?{width:d,height:c}:m.qrbox;this.validateQrboxConfig(w);var p=this.toQrdimensions(d,c,w);p.height>c&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var I=m.isShadedBoxEnabled()&&p.height<=c,O={x:0,y:0,width:d,height:c},v=I?this.getShadedRegionBounds(d,c,p):O,C=this.createCanvasElement(v.width,v.height),b={willReadFrequently:!0},_=C.getContext("2d",b);_.canvas.width=v.width,_.canvas.height=v.height,this.element.append(C),I&&this.possiblyInsertShadingElement(this.element,d,c,p),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=_,this.canvasElement=C},u.prototype.createScannerPausedUiElement=function(d){var c=document.createElement("div");c.innerText=$s.scannerPaused(),c.style.display="none",c.style.position="absolute",c.style.top="0px",c.style.zIndex="1",c.style.background="rgba(9, 9, 9, 0.46)",c.style.color="#FFECEC",c.style.textAlign="center",c.style.width="100%",d.appendChild(c),this.scannerPausedUiElement=c},u.prototype.scanContext=function(d,c){var m=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(w){return d(w.text,j0.createFromQrcodeResult(w)),m.possiblyUpdateShaders(!0),!0}).catch(function(w){m.possiblyUpdateShaders(!1);var p=$s.codeParseError(w);return c(p,Df.createFrom(p)),!1})},u.prototype.foreverScan=function(d,c,m){var w=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),I=p.videoWidth/p.clientWidth,O=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*I,C=this.qrRegion.height*O,b=this.qrRegion.x*I,_=this.qrRegion.y*O;this.context.drawImage(p,b,_,v,C,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){w.foreverScanTimeout=setTimeout(function(){w.foreverScan(d,c,m)},w.getTimeoutFps(d.fps))};this.scanContext(c,m).then(function(W){!W&&d.disableFlip!==!0?(w.context.translate(w.context.canvas.width,0),w.context.scale(-1,1),w.scanContext(c,m).finally(function(){B()})):B()}).catch(function(W){w.logger.logError("Error happend while scanning context",W),B()})}},u.prototype.createVideoConstraints=function(d){if(typeof d=="string")return{deviceId:{exact:d}};if(typeof d=="object"){var c="facingMode",m="deviceId",w={user:!0,environment:!0},p="exact",I=function(K){if(K in w)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(K,"'")},O=Object.keys(d);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var v=Object.keys(d)[0];if(v!==c&&v!==m)throw"Only '".concat(c,"' and '").concat(m,"' ")+" are supported for 'cameraIdOrConfig'";if(v===c){var C=d.facingMode;if(typeof C=="string"){if(I(C))return{facingMode:C}}else if(typeof C=="object")if(p in C){if(I(C["".concat(p)]))return{facingMode:{exact:C["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var b=typeof C;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var _=d.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(p in _)return{deviceId:{exact:_["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var B=typeof _;throw"Invalid type of 'deviceId' = ".concat(B)}}}var W=typeof d;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},u.prototype.computeCanvasDrawConfig=function(d,c,m,w){if(d<=m&&c<=w){var p=(m-d)/2,I=(w-c)/2;return{x:p,y:I,width:d,height:c}}else{var O=d,v=c;return d>m&&(c=m/d*c,d=m),c>w&&(d=w/c*d,c=w),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(v)+" to ".concat(d,"X").concat(c,".")),this.computeCanvasDrawConfig(d,c,m,w)}},u.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var d=document.getElementById(this.elementId);d&&(d.innerHTML="")},u.prototype.possiblyUpdateShaders=function(d){this.qrMatch!==d&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(c){c.style.backgroundColor=d?sr.BORDER_SHADER_MATCH_COLOR:sr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=d)},u.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},u.prototype.createCanvasElement=function(d,c,m){var w=d,p=c,I=document.createElement("canvas");return I.style.width="".concat(w,"px"),I.style.height="".concat(p,"px"),I.style.display="none",I.id=Hr(m)?"qr-canvas":m,I},u.prototype.getShadedRegionBounds=function(d,c,m){if(m.width>d||m.height>c)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(d-m.width)/2,y:(c-m.height)/2,width:m.width,height:m.height}},u.prototype.possiblyInsertShadingElement=function(d,c,m,w){if(!(c-w.width<1||m-w.height<1)){var p=document.createElement("div");p.style.position="absolute";var I=(c-w.width)/2,O=(m-w.height)/2;if(p.style.borderLeft="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(sr.SHADED_REGION_ELEMENT_ID),c-w.width<11||m-w.height<11)this.hasBorderShaders=!1;else{var v=5,C=40;this.insertShaderBorders(p,C,v,-v,null,0,!0),this.insertShaderBorders(p,C,v,-v,null,0,!1),this.insertShaderBorders(p,C,v,null,-v,0,!0),this.insertShaderBorders(p,C,v,null,-v,0,!1),this.insertShaderBorders(p,v,C+v,-v,null,-v,!0),this.insertShaderBorders(p,v,C+v,null,-v,-v,!0),this.insertShaderBorders(p,v,C+v,-v,null,-v,!1),this.insertShaderBorders(p,v,C+v,null,-v,-v,!1),this.hasBorderShaders=!0}d.append(p)}},u.prototype.insertShaderBorders=function(d,c,m,w,p,I,O){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=sr.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(c,"px"),v.style.height="".concat(m,"px"),w!==null&&(v.style.top="".concat(w,"px")),p!==null&&(v.style.bottom="".concat(p,"px")),O?v.style.left="".concat(I,"px"):v.style.right="".concat(I,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),d.appendChild(v)},u.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},u.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},u.prototype.getTimeoutFps=function(d){return 1e3/d},u}(),Nc="data:image/svg+xml;base64,",np=Nc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",rp=Nc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Z0=Nc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ip="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",K0=function(){function u(){}return u.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},u}(),sp=function(){function u(){this.data=K0.createDefault();var d=localStorage.getItem(u.LOCAL_STORAGE_KEY);d?this.data=JSON.parse(d):this.reset()}return u.prototype.hasCameraPermissions=function(){return this.data.hasPermission},u.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},u.prototype.setHasPermission=function(d){this.data.hasPermission=d,this.flush()},u.prototype.setLastUsedCameraId=function(d){this.data.lastUsedCameraId=d,this.flush()},u.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},u.prototype.reset=function(){this.data=K0.createDefault(),this.flush()},u.prototype.flush=function(){localStorage.setItem(u.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},u.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",u}(),op=function(){function u(){this.infoDiv=document.createElement("div")}return u.prototype.renderInto=function(d){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=U0.poweredBy();var c=document.createElement("a");c.innerText="ScanApp",c.href="https://scanapp.org",c.target="new",c.style.color="white",this.infoDiv.appendChild(c);var m=document.createElement("br"),w=document.createElement("br");this.infoDiv.appendChild(m),this.infoDiv.appendChild(w);var p=document.createElement("a");p.innerText=U0.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),d.appendChild(this.infoDiv)},u.prototype.show=function(){this.infoDiv.style.display="block"},u.prototype.hide=function(){this.infoDiv.style.display="none"},u}(),ap=function(){function u(d,c){this.isShowingInfoIcon=!0,this.onTapIn=d,this.onTapOut=c,this.infoIcon=document.createElement("img")}return u.prototype.renderInto=function(d){var c=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Z0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(m){return c.onHoverIn()},this.infoIcon.onmouseout=function(m){return c.onHoverOut()},this.infoIcon.onclick=function(m){return c.onClick()},d.appendChild(this.infoIcon)},u.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},u.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},u.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ip,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Z0,this.infoIcon.style.opacity="0.6")},u}(),lp=function(){function u(){var d=this;this.infoDiv=new op,this.infoIcon=new ap(function(){d.infoDiv.show()},function(){d.infoDiv.hide()})}return u.prototype.renderInto=function(d){this.infoDiv.renderInto(d),this.infoIcon.renderInto(d)},u}(),up=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},cp=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},q0=function(){function u(){}return u.hasPermissions=function(){return up(this,void 0,void 0,function(){var d,c,m,w;return cp(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(d=p.sent(),c=0,m=d;c<m.length;c++)if(w=m[c],w.kind==="videoinput"&&w.label)return[2,!0];return[2,!1]}})})},u}(),zi=function(){function u(d){this.supportedScanTypes=this.validateAndReturnScanTypes(d)}return u.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},u.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},u.prototype.isCameraScanRequired=function(){for(var d=0,c=this.supportedScanTypes;d<c.length;d++){var m=c[d];if(u.isCameraScanType(m))return!0}return!1},u.isCameraScanType=function(d){return d===Vi.SCAN_TYPE_CAMERA},u.isFileScanType=function(d){return d===Vi.SCAN_TYPE_FILE},u.prototype.validateAndReturnScanTypes=function(d){if(!d||d.length===0)return _r.DEFAULT_SUPPORTED_SCAN_TYPE;var c=_r.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(d.length>c)throw"Max ".concat(c," values expected for ")+"supportedScanTypes";for(var m=0,w=d;m<w.length;m++){var p=w[m];if(!_r.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return d},u}(),ar=function(){function u(){}return u.ALL_ELEMENT_CLASS="html5-qrcode-element",u.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",u.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",u.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",u.TORCH_BUTTON_ID="html5-qrcode-button-torch",u.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",u.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",u.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",u.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",u.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",u.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",u}(),ai=function(){function u(){}return u.createElement=function(d,c){var m=document.createElement(d);return m.id=c,m.classList.add(ar.ALL_ELEMENT_CLASS),d==="button"&&m.setAttribute("type","button"),m},u}(),Pf=function(u,d,c,m){function w(p){return p instanceof c?p:new c(function(I){I(p)})}return new(c||(c=Promise))(function(p,I){function O(b){try{C(m.next(b))}catch(_){I(_)}}function v(b){try{C(m.throw(b))}catch(_){I(_)}}function C(b){b.done?p(b.value):w(b.value).then(O,v)}C((m=m.apply(u,d||[])).next())})},Ff=function(u,d){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,w,p,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(C){return function(b){return v([C,b])}}function v(C){if(m)throw new TypeError("Generator is already executing.");for(;I&&(I=0,C[0]&&(c=0)),c;)try{if(m=1,w&&(p=C[0]&2?w.return:C[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,C[1])).done)return p;switch(w=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,w=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){c.label=C[1];break}if(C[0]===6&&c.label<p[1]){c.label=p[1],p=C;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(C);break}p[2]&&c.ops.pop(),c.trys.pop();continue}C=d.call(u,c)}catch(b){C=[6,b],w=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},$0=function(){function u(d,c,m){this.isTorchOn=!1,this.torchCapability=d,this.buttonController=c,this.onTorchActionFailureCallback=m}return u.prototype.isTorchEnabled=function(){return this.isTorchOn},u.prototype.flipState=function(){return Pf(this,void 0,void 0,function(){var d,c;return Ff(this,function(m){switch(m.label){case 0:this.buttonController.disable(),d=!this.isTorchOn,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.torchCapability.apply(d)];case 2:return m.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),d),[3,4];case 3:return c=m.sent(),this.propagateFailure(d,c),this.buttonController.enable(),[3,4];case 4:return[2]}})})},u.prototype.updateUiBasedOnLatestSettings=function(d,c){d===c?(this.buttonController.setText(c?At.torchOffButton():At.torchOnButton()),this.isTorchOn=c):this.propagateFailure(c),this.buttonController.enable()},u.prototype.propagateFailure=function(d,c){var m=d?At.torchOnFailedMessage():At.torchOffFailedMessage();c&&(m+="; Error = "+c),this.onTorchActionFailureCallback(m)},u.prototype.reset=function(){this.isTorchOn=!1},u}(),fp=function(){function u(d,c){this.onTorchActionFailureCallback=c,this.torchButton=ai.createElement("button",ar.TORCH_BUTTON_ID),this.torchController=new $0(d,this,c)}return u.prototype.render=function(d,c){var m=this;this.torchButton.innerText=At.torchOnButton(),this.torchButton.style.display=c.display,this.torchButton.style.marginLeft=c.marginLeft;var w=this;this.torchButton.addEventListener("click",function(p){return Pf(m,void 0,void 0,function(){return Ff(this,function(I){switch(I.label){case 0:return[4,w.torchController.flipState()];case 1:return I.sent(),w.torchController.isTorchEnabled()?(w.torchButton.classList.remove(ar.TORCH_BUTTON_CLASS_TORCH_OFF),w.torchButton.classList.add(ar.TORCH_BUTTON_CLASS_TORCH_ON)):(w.torchButton.classList.remove(ar.TORCH_BUTTON_CLASS_TORCH_ON),w.torchButton.classList.add(ar.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),d.appendChild(this.torchButton)},u.prototype.updateTorchCapability=function(d){this.torchController=new $0(d,this,this.onTorchActionFailureCallback)},u.prototype.getTorchButton=function(){return this.torchButton},u.prototype.hide=function(){this.torchButton.style.display="none"},u.prototype.show=function(){this.torchButton.style.display="inline-block"},u.prototype.disable=function(){this.torchButton.disabled=!0},u.prototype.enable=function(){this.torchButton.disabled=!1},u.prototype.setText=function(d){this.torchButton.innerText=d},u.prototype.reset=function(){this.torchButton.innerText=At.torchOnButton(),this.torchController.reset()},u.create=function(d,c,m,w){var p=new u(c,w);return p.render(d,m),p},u}(),dp=function(){function u(d,c,m){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=c?"block":"none",d.appendChild(this.fileBasedScanRegion);var w=document.createElement("label");w.setAttribute("for",this.getFileScanInputId()),w.style.display="inline-block",this.fileBasedScanRegion.appendChild(w),this.fileSelectionButton=ai.createElement("button",ar.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(O){w.click()}),w.append(this.fileSelectionButton),this.fileScanInput=ai.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",w.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(O){if(!(O==null||O.target==null)){var v=O.target;if(!(v.files&&v.files.length===0)){var C=v.files,b=C[0],_=b.name;p.setImageNameToButton(_),m(b)}}});var I=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(I),this.fileBasedScanRegion.addEventListener("dragenter",function(O){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),O.stopPropagation(),O.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(O){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),O.stopPropagation(),O.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(O){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),O.stopPropagation(),O.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(O){O.stopPropagation(),O.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var v=O.dataTransfer;if(v){var C=v.files;if(!C||C.length===0)return;for(var b=!1,_=0;_<C.length;++_){var B=C.item(_);if(B){var W=/image.*/;if(B.type.match(W)){b=!0;var K=B.name;p.setImageNameToButton(K),m(B),I.innerText=At.dragAndDropMessage();break}}}b||(I.innerText=At.dragAndDropMessageOnlyImages())}})}return u.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},u.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},u.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},u.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},u.prototype.createFileBasedScanRegion=function(){var d=document.createElement("div");return d.style.textAlign="center",d.style.margin="auto",d.style.width="80%",d.style.maxWidth="600px",d.style.border=this.fileBasedScanRegionDefaultBorder(),d.style.padding="10px",d.style.marginBottom="10px",d},u.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},u.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},u.prototype.createDragAndDropMessage=function(){var d=document.createElement("div");return d.innerText=At.dragAndDropMessage(),d.style.fontWeight="400",d},u.prototype.setImageNameToButton=function(d){var c=20;if(d.length>c){var m=d.substring(0,8),w=d.length,p=d.substring(w-8,w);d="".concat(m,"....").concat(p)}var I=At.fileSelectionChooseAnother()+" - "+d;this.fileSelectionButton.innerText=I},u.prototype.setInitialValueToButton=function(){var d=At.fileSelectionChooseImage()+" - "+At.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=d},u.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},u.create=function(d,c,m){var w=new u(d,c,m);return w},u}(),hp=function(){function u(d){this.selectElement=ai.createElement("select",ar.CAMERA_SELECTION_SELECT_ID),this.cameras=d,this.options=[]}return u.prototype.render=function(d){var c=document.createElement("span");c.style.marginRight="10px";var m=this.cameras.length;if(m===0)throw new Error("No cameras found");if(m===1)c.style.display="none";else{var w=At.selectCamera();c.innerText="".concat(w," (").concat(this.cameras.length,")  ")}for(var p=1,I=0,O=this.cameras;I<O.length;I++){var v=O[I],C=v.id,b=v.label==null?C:v.label;(!b||b==="")&&(b=[At.anonymousCameraPrefix(),p++].join(" "));var _=document.createElement("option");_.value=C,_.innerText=b,this.options.push(_),this.selectElement.appendChild(_)}c.appendChild(this.selectElement),d.appendChild(c)},u.prototype.disable=function(){this.selectElement.disabled=!0},u.prototype.isDisabled=function(){return this.selectElement.disabled===!0},u.prototype.enable=function(){this.selectElement.disabled=!1},u.prototype.getValue=function(){return this.selectElement.value},u.prototype.hasValue=function(d){for(var c=0,m=this.options;c<m.length;c++){var w=m[c];if(w.value===d)return!0}return!1},u.prototype.setValue=function(d){if(!this.hasValue(d))throw new Error("".concat(d," is not present in the camera list."));this.selectElement.value=d},u.prototype.hasSingleItem=function(){return this.cameras.length===1},u.prototype.numCameras=function(){return this.cameras.length},u.create=function(d,c){var m=new u(c);return m.render(d),m},u}(),gp=function(){function u(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ai.createElement("input",ar.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return u.prototype.render=function(d,c){this.zoomElementContainer.style.display=c?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",d.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var m=At.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(m),this.rangeText.style.marginRight="10px";var w=this;this.rangeInput.addEventListener("input",function(){return w.onValueChange()}),this.rangeInput.addEventListener("change",function(){return w.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},u.prototype.onValueChange=function(){var d=At.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(d),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},u.prototype.setValues=function(d,c,m,w){this.rangeInput.min=d.toString(),this.rangeInput.max=c.toString(),this.rangeInput.step=w.toString(),this.rangeInput.value=m.toString(),this.onValueChange()},u.prototype.show=function(){this.zoomElementContainer.style.display="block"},u.prototype.hide=function(){this.zoomElementContainer.style.display="none"},u.prototype.setOnCameraZoomValueChangeCallback=function(d){this.onChangeCallback=d},u.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},u.create=function(d,c){var m=new u;return m.render(d,c),m},u}(),or;(function(u){u[u.STATUS_DEFAULT=0]="STATUS_DEFAULT",u[u.STATUS_SUCCESS=1]="STATUS_SUCCESS",u[u.STATUS_WARNING=2]="STATUS_WARNING",u[u.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(or||(or={}));function pp(u){return{fps:u.fps,qrbox:u.qrbox,aspectRatio:u.aspectRatio,disableFlip:u.disableFlip,videoConstraints:u.videoConstraints}}function xp(u,d){return{formatsToSupport:u.formatsToSupport,useBarCodeDetectorIfSupported:u.useBarCodeDetectorIfSupported,experimentalFeatures:u.experimentalFeatures,verbose:d}}var mp=function(){function u(d,c,m){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=d,this.config=this.createConfig(c),this.verbose=m===!0,!document.getElementById(d))throw"HTML Element with id=".concat(d," not found");this.scanTypeSelector=new zi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new kf(this.verbose),this.persistedDataManager=new sp,c.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return u.prototype.render=function(d,c){var m=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,I){if(d)d(p,I);else{if(m.lastMatchFound===p)return;m.lastMatchFound=p,m.setHeaderMessage(At.lastMatch(p),or.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,I){c&&c(p,I)};var w=document.getElementById(this.elementId);if(!w)throw"HTML Element with id=".concat(this.elementId," not found");w.innerHTML="",this.createBasicLayout(w),this.html5Qrcode=new Q0(this.getScanRegionId(),xp(this.config,this.verbose))},u.prototype.pause=function(d){(Hr(d)||d!==!0)&&(d=!1),this.getHtml5QrcodeOrFail().pause(d)},u.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},u.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},u.prototype.clear=function(){var d=this,c=function(){var m=document.getElementById(d.elementId);m&&(m.innerHTML="",d.resetBasicLayout(m))};return this.html5Qrcode?new Promise(function(m,w){if(!d.html5Qrcode){m();return}d.html5Qrcode.isScanning?d.html5Qrcode.stop().then(function(p){if(!d.html5Qrcode){m();return}d.html5Qrcode.clear(),c(),m()}).catch(function(p){d.verbose&&d.logger.logError("Unable to stop qrcode scanner",p),w(p)}):(d.html5Qrcode.clear(),c(),m())}):Promise.resolve()},u.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},u.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},u.prototype.applyVideoConstraints=function(d){return this.getHtml5QrcodeOrFail().applyVideoConstraints(d)},u.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},u.prototype.createConfig=function(d){return d?(d.fps||(d.fps=_r.SCAN_DEFAULT_FPS),d.rememberLastUsedCamera!==!_r.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(d.rememberLastUsedCamera=_r.DEFAULT_REMEMBER_LAST_CAMERA_USED),d.supportedScanTypes||(d.supportedScanTypes=_r.DEFAULT_SUPPORTED_SCAN_TYPE),d):{fps:_r.SCAN_DEFAULT_FPS,rememberLastUsedCamera:_r.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:_r.DEFAULT_SUPPORTED_SCAN_TYPE}},u.prototype.createBasicLayout=function(d){d.style.position="relative",d.style.padding="0px",d.style.border="1px solid silver",this.createHeader(d);var c=document.createElement("div"),m=this.getScanRegionId();c.id=m,c.style.width="100%",c.style.minHeight="100px",c.style.textAlign="center",d.appendChild(c),zi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var w=document.createElement("div"),p=this.getDashboardId();w.id=p,w.style.width="100%",d.appendChild(w),this.setupInitialDashboard(w)},u.prototype.resetBasicLayout=function(d){d.style.border="none"},u.prototype.setupInitialDashboard=function(d){this.createSection(d),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},u.prototype.createHeader=function(d){var c=document.createElement("div");c.style.textAlign="left",c.style.margin="0px",d.appendChild(c);var m=new lp;m.renderInto(c);var w=document.createElement("div");w.id=this.getHeaderMessageContainerId(),w.style.display="none",w.style.textAlign="center",w.style.fontSize="14px",w.style.padding="2px 10px",w.style.margin="4px",w.style.borderTop="1px solid #f6f6f6",c.appendChild(w)},u.prototype.createSection=function(d){var c=document.createElement("div");c.id=this.getDashboardSectionId(),c.style.width="100%",c.style.padding="10px 0px 10px 0px",c.style.textAlign="left",d.appendChild(c)},u.prototype.createCameraListUi=function(d,c,m){var w=this;w.showHideScanTypeSwapLink(!1),w.setHeaderMessage(At.cameraPermissionRequesting());var p=function(){m||w.createPermissionButton(d,c)};Q0.getCameras().then(function(I){w.persistedDataManager.setHasPermission(!0),w.showHideScanTypeSwapLink(!0),w.resetHeaderMessage(),I&&I.length>0?(d.removeChild(c),w.renderCameraSelection(I)):(w.setHeaderMessage(At.noCameraFound(),or.STATUS_WARNING),p())}).catch(function(I){w.persistedDataManager.setHasPermission(!1),m?m.disabled=!1:p(),w.setHeaderMessage(I,or.STATUS_WARNING),w.showHideScanTypeSwapLink(!0)})},u.prototype.createPermissionButton=function(d,c){var m=this,w=ai.createElement("button",this.getCameraPermissionButtonId());w.innerText=At.cameraPermissionTitle(),w.addEventListener("click",function(){w.disabled=!0,m.createCameraListUi(d,c,w)}),c.appendChild(w)},u.prototype.createPermissionsUi=function(d,c){var m=this;if(zi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){q0.hasPermissions().then(function(w){w?m.createCameraListUi(d,c):(m.persistedDataManager.setHasPermission(!1),m.createPermissionButton(d,c))}).catch(function(w){m.persistedDataManager.setHasPermission(!1),m.createPermissionButton(d,c)});return}this.createPermissionButton(d,c)},u.prototype.createSectionControlPanel=function(){var d=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");d.appendChild(c);var m=document.createElement("div");m.id=this.getDashboardSectionCameraScanRegionId(),m.style.display=zi.isCameraScanType(this.currentScanType)?"block":"none",c.appendChild(m);var w=document.createElement("div");w.style.textAlign="center",m.appendChild(w),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(m,w),this.renderFileScanUi(c)},u.prototype.renderFileScanUi=function(d){var c=zi.isFileScanType(this.currentScanType),m=this,w=function(p){if(!m.html5Qrcode)throw"html5Qrcode not defined";zi.isFileScanType(m.currentScanType)&&(m.setHeaderMessage(At.loadingImage()),m.html5Qrcode.scanFileV2(p,!0).then(function(I){m.resetHeaderMessage(),m.qrCodeSuccessCallback(I.decodedText,I)}).catch(function(I){m.setHeaderMessage(I,or.STATUS_WARNING),m.qrCodeErrorCallback(I,Df.createFrom(I))}))};this.fileSelectionUi=dp.create(d,c,w)},u.prototype.renderCameraSelection=function(d){var c=this,m=this,w=document.getElementById(this.getDashboardSectionCameraScanRegionId());w.style.textAlign="center";var p=gp.create(w,!1),I=function(X){var Q=X.zoomFeature();if(Q.isSupported()){p.setOnCameraZoomValueChangeCallback(function(he){Q.apply(he)});var ne=1;c.config.defaultZoomValueIfSupported&&(ne=c.config.defaultZoomValueIfSupported),ne=D2(ne,Q.min(),Q.max()),p.setValues(Q.min(),Q.max(),ne,Q.step()),p.show()}},O=hp.create(w,d),v=document.createElement("span"),C=ai.createElement("button",ar.CAMERA_START_BUTTON_ID);C.innerText=At.scanButtonStartScanningText(),v.appendChild(C);var b=ai.createElement("button",ar.CAMERA_STOP_BUTTON_ID);b.innerText=At.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,v.appendChild(b);var _,B=function(X){if(!X.torchFeature().isSupported()){_&&_.hide();return}_?_.updateTorchCapability(X.torchFeature()):_=fp.create(v,X.torchFeature(),{display:"none",marginLeft:"5px"},function(Q){m.setHeaderMessage(Q,or.STATUS_WARNING)}),_.show()};w.appendChild(v);var W=function(X){X||(C.style.display="none"),C.innerText=At.scanButtonStartScanningText(),C.style.opacity="1",C.disabled=!1,X&&(C.style.display="inline-block")};if(C.addEventListener("click",function(X){C.innerText=At.scanButtonScanningStarting(),O.disable(),C.disabled=!0,C.style.opacity="0.5",c.scanTypeSelector.hasMoreThanOneScanType()&&m.showHideScanTypeSwapLink(!1),m.resetHeaderMessage();var Q=O.getValue();m.persistedDataManager.setLastUsedCameraId(Q),m.html5Qrcode.start(Q,pp(m.config),m.qrCodeSuccessCallback,m.qrCodeErrorCallback).then(function(ne){b.disabled=!1,b.style.display="inline-block",W(!1);var he=m.html5Qrcode.getRunningTrackCameraCapabilities();c.config.showTorchButtonIfSupported===!0&&B(he),c.config.showZoomSliderIfSupported===!0&&I(he)}).catch(function(ne){m.showHideScanTypeSwapLink(!0),O.enable(),W(!0),m.setHeaderMessage(ne,or.STATUS_WARNING)})}),O.hasSingleItem()&&C.click(),b.addEventListener("click",function(X){if(!m.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,m.html5Qrcode.stop().then(function(Q){c.scanTypeSelector.hasMoreThanOneScanType()&&m.showHideScanTypeSwapLink(!0),O.enable(),C.disabled=!1,b.style.display="none",C.style.display="inline-block",_&&(_.reset(),_.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),m.insertCameraScanImageToScanRegion()}).catch(function(Q){b.disabled=!1,m.setHeaderMessage(Q,or.STATUS_WARNING)})}),m.persistedDataManager.getLastUsedCameraId()){var K=m.persistedDataManager.getLastUsedCameraId();O.hasValue(K)?(O.setValue(K),C.click()):m.persistedDataManager.resetLastUsedCameraId()}},u.prototype.createSectionSwap=function(){var d=this,c=At.textIfCameraScanSelected(),m=At.textIfFileScanSelected(),w=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var I=ai.createElement("span",this.getDashboardSectionSwapLinkId());I.style.textDecoration="underline",I.style.cursor="pointer",I.innerText=zi.isCameraScanType(this.currentScanType)?c:m,I.addEventListener("click",function(){if(!d.sectionSwapAllowed){d.verbose&&d.logger.logError("Section swap called when not allowed");return}d.resetHeaderMessage(),d.fileSelectionUi.resetValue(),d.sectionSwapAllowed=!1,zi.isCameraScanType(d.currentScanType)?(d.clearScanRegion(),d.getCameraScanRegion().style.display="none",d.fileSelectionUi.show(),I.innerText=m,d.currentScanType=Vi.SCAN_TYPE_FILE,d.insertFileScanImageToScanRegion()):(d.clearScanRegion(),d.getCameraScanRegion().style.display="block",d.fileSelectionUi.hide(),I.innerText=c,d.currentScanType=Vi.SCAN_TYPE_CAMERA,d.insertCameraScanImageToScanRegion(),d.startCameraScanIfPermissionExistsOnSwap()),d.sectionSwapAllowed=!0}),p.appendChild(I),w.appendChild(p)},u.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var d=this,c=this;if(this.persistedDataManager.hasCameraPermissions()){q0.hasPermissions().then(function(m){if(m){var w=document.getElementById(c.getCameraPermissionButtonId());if(!w)throw d.logger.logError("Permission button not found, fail;"),"Permission button not found";w.click()}else c.persistedDataManager.setHasPermission(!1)}).catch(function(m){c.persistedDataManager.setHasPermission(!1)});return}},u.prototype.resetHeaderMessage=function(){var d=document.getElementById(this.getHeaderMessageContainerId());d.style.display="none"},u.prototype.setHeaderMessage=function(d,c){c||(c=or.STATUS_DEFAULT);var m=this.getHeaderMessageDiv();switch(m.innerText=d,m.style.display="block",c){case or.STATUS_SUCCESS:m.style.background="rgba(106, 175, 80, 0.26)",m.style.color="#477735";break;case or.STATUS_WARNING:m.style.background="rgba(203, 36, 49, 0.14)",m.style.color="#cb2431";break;case or.STATUS_DEFAULT:default:m.style.background="rgba(0, 0, 0, 0)",m.style.color="rgb(17, 17, 17)";break}},u.prototype.showHideScanTypeSwapLink=function(d){this.scanTypeSelector.hasMoreThanOneScanType()&&(d!==!0&&(d=!1),this.sectionSwapAllowed=d,this.getDashboardSectionSwapLink().style.display=d?"inline-block":"none")},u.prototype.insertCameraScanImageToScanRegion=function(){var d=this,c=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){c.innerHTML="<br>",c.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(m){c.innerHTML="<br>",c.appendChild(d.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=np,this.cameraScanImage.alt=At.cameraScanAltText()},u.prototype.insertFileScanImageToScanRegion=function(){var d=this,c=document.getElementById(this.getScanRegionId());if(this.fileScanImage){c.innerHTML="<br>",c.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(m){c.innerHTML="<br>",c.appendChild(d.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=rp,this.fileScanImage.alt=At.fileScanAltText()},u.prototype.clearScanRegion=function(){var d=document.getElementById(this.getScanRegionId());d.innerHTML=""},u.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},u.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},u.prototype.getDashboardSectionSwapLinkId=function(){return ar.SCAN_TYPE_CHANGE_ANCHOR_ID},u.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},u.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},u.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},u.prototype.getCameraPermissionButtonId=function(){return ar.CAMERA_PERMISSION_BUTTON_ID},u.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},u.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},u.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},u}();const fc=(u,d)=>d.some(c=>u instanceof c);let J0,ef;function yp(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wp(){return ef||(ef=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dc=new WeakMap,tc=new WeakMap,Sl=new WeakMap;function Cp(u){const d=new Promise((c,m)=>{const w=()=>{u.removeEventListener("success",p),u.removeEventListener("error",I)},p=()=>{c(ws(u.result)),w()},I=()=>{m(u.error),w()};u.addEventListener("success",p),u.addEventListener("error",I)});return Sl.set(d,u),d}function Ep(u){if(dc.has(u))return;const d=new Promise((c,m)=>{const w=()=>{u.removeEventListener("complete",p),u.removeEventListener("error",I),u.removeEventListener("abort",I)},p=()=>{c(),w()},I=()=>{m(u.error||new DOMException("AbortError","AbortError")),w()};u.addEventListener("complete",p),u.addEventListener("error",I),u.addEventListener("abort",I)});dc.set(u,d)}let hc={get(u,d,c){if(u instanceof IDBTransaction){if(d==="done")return dc.get(u);if(d==="store")return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return ws(u[d])},set(u,d,c){return u[d]=c,!0},has(u,d){return u instanceof IDBTransaction&&(d==="done"||d==="store")?!0:d in u}};function jf(u){hc=u(hc)}function Ap(u){return wp().includes(u)?function(...d){return u.apply(gc(this),d),ws(this.request)}:function(...d){return ws(u.apply(gc(this),d))}}function vp(u){return typeof u=="function"?Ap(u):(u instanceof IDBTransaction&&Ep(u),fc(u,yp())?new Proxy(u,hc):u)}function ws(u){if(u instanceof IDBRequest)return Cp(u);if(tc.has(u))return tc.get(u);const d=vp(u);return d!==u&&(tc.set(u,d),Sl.set(d,u)),d}const gc=u=>Sl.get(u);function Sp(u,d,{blocked:c,upgrade:m,blocking:w,terminated:p}={}){const I=indexedDB.open(u,d),O=ws(I);return m&&I.addEventListener("upgradeneeded",v=>{m(ws(I.result),v.oldVersion,v.newVersion,ws(I.transaction),v)}),c&&I.addEventListener("blocked",v=>c(v.oldVersion,v.newVersion,v)),O.then(v=>{p&&v.addEventListener("close",()=>p()),w&&v.addEventListener("versionchange",C=>w(C.oldVersion,C.newVersion,C))}).catch(()=>{}),O}const Ip=["get","getKey","getAll","getAllKeys","count"],Np=["put","add","delete","clear"],nc=new Map;function tf(u,d){if(!(u instanceof IDBDatabase&&!(d in u)&&typeof d=="string"))return;if(nc.get(d))return nc.get(d);const c=d.replace(/FromIndex$/,""),m=d!==c,w=Np.includes(c);if(!(c in(m?IDBIndex:IDBObjectStore).prototype)||!(w||Ip.includes(c)))return;const p=async function(I,...O){const v=this.transaction(I,w?"readwrite":"readonly");let C=v.store;return m&&(C=C.index(O.shift())),(await Promise.all([C[c](...O),w&&v.done]))[0]};return nc.set(d,p),p}jf(u=>({...u,get:(d,c,m)=>tf(d,c)||u.get(d,c,m),has:(d,c)=>!!tf(d,c)||u.has(d,c)}));const Tp=["continue","continuePrimaryKey","advance"],nf={},pc=new WeakMap,Uf=new WeakMap,bp={get(u,d){if(!Tp.includes(d))return u[d];let c=nf[d];return c||(c=nf[d]=function(...m){pc.set(this,Uf.get(this)[d](...m))}),c}};async function*Mp(...u){let d=this;if(d instanceof IDBCursor||(d=await d.openCursor(...u)),!d)return;d=d;const c=new Proxy(d,bp);for(Uf.set(c,d),Sl.set(c,gc(d));d;)yield c,d=await(pc.get(c)||d.continue()),pc.delete(c)}function rf(u,d){return d===Symbol.asyncIterator&&fc(u,[IDBIndex,IDBObjectStore,IDBCursor])||d==="iterate"&&fc(u,[IDBIndex,IDBObjectStore])}jf(u=>({...u,get(d,c,m){return rf(d,c)?Mp:u.get(d,c,m)},has(d,c){return rf(d,c)||u.has(d,c)}}));const _p="quillcache-db",Rp=2,lr="books";async function no(){return Sp(_p,Rp,{upgrade(u,d,c,m){if(u.objectStoreNames.contains(lr)){if(d<2){const w=m.objectStore(lr);w.indexNames.contains("borrowedBy")||(w.createIndex("borrowedBy","borrowedBy",{unique:!1,multiEntry:!1}),console.log("IndexedDB index 'borrowedBy' created."))}}else{const w=u.createObjectStore(lr,{keyPath:"id",autoIncrement:!0});w.createIndex("title","title",{unique:!1}),w.createIndex("author","author",{unique:!1}),w.createIndex("status","status",{unique:!1}),w.createIndex("borrowedBy","borrowedBy",{unique:!1,multiEntry:!1}),console.log("IndexedDB object store created:",lr)}}})}async function Op(u){const c=(await no()).transaction(lr,"readwrite"),w=await c.objectStore(lr).add(u);return await c.done,console.log("Book added with ID:",w,u),w}async function Dp(){const d=await(await no()).getAll(lr);return console.log("All books retrieved:",d),d}async function kp(u){const c=(await no()).transaction(lr,"readwrite");await c.objectStore(lr).put(u),await c.done,console.log("Book updated:",u)}async function Lp(u){const c=(await no()).transaction(lr,"readwrite");await c.objectStore(lr).delete(u),await c.done,console.log("Book deleted with ID:",u)}async function Bp(){const d=(await no()).transaction(lr,"readwrite");await d.objectStore(lr).clear(),await d.done,console.log("All books cleared from IndexedDB.")}function ta(){const[u,d]=z.useState([]),[c,m]=z.useState(!0),[w,p]=z.useState(null),I=z.useCallback(async()=>{m(!0),p(null);try{const _=await Dp();d(_)}catch(_){console.error("Failed to fetch books from IndexedDB:",_),p("Failed to load books."),vn.error("Failed to load books from your shelf.")}finally{m(!1)}},[]);z.useEffect(()=>{no().then(()=>{I()}).catch(_=>{console.error("Failed to initialize IndexedDB:",_),p("Failed to initialize database."),vn.error("Database initialization failed."),m(!1)})},[I]);const O=z.useCallback(async _=>{try{const B=await Op(_);return vn.success("Book added successfully!"),I(),B}catch(B){throw console.error("Failed to add book:",B),p("Failed to add book."),vn.error("Failed to add book."),B}},[I]),v=z.useCallback(async _=>{try{await kp(_),vn.success("Book updated successfully!"),I()}catch(B){throw console.error("Failed to update book:",B),p("Failed to update book."),vn.error("Failed to update book."),B}},[I]),C=z.useCallback(async _=>{try{await Lp(_),vn.success("Book deleted successfully!"),I()}catch(B){throw console.error("Failed to delete book:",B),p("Failed to delete book."),vn.error("Failed to delete book."),B}},[I]),b=z.useCallback(async()=>{try{await Bp(),vn.success("All books cleared!"),d([])}catch(_){throw console.error("Failed to clear all books:",_),p("Failed to clear all books."),vn.error("Failed to clear all books."),_}},[]);return{books:u,loading:c,error:w,addNewBook:O,updateExistingBook:v,deleteExistingBook:C,clearAllExistingBooks:b,refreshBooks:I}}function Pp(u){try{const d=u.map(({id:c,...m})=>m);return JSON.stringify(d)}catch(d){return console.error("Error encoding books for QR:",d),""}}function Fp(u){try{const d=JSON.parse(u);if(!Array.isArray(d))throw new Error("QR data is not a valid array of books.");return d.filter(m=>m.title&&m.author&&m.description&&(m.status==="available"||m.status==="borrowed"))}catch(d){return console.error("Error decoding QR data to books:",d),[]}}function jp({isOpen:u,onClose:d}){const{addNewBook:c,refreshBooks:m}=ta(),[w,p]=z.useState(!0),[I,O]=z.useState("");z.useRef(null);const v=z.useRef(null);z.useEffect(()=>{if(u&&w){v.current||(v.current=new mp("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1));const _=async(W,K)=>{console.log(`QR Code detected: ${W}`,K),vn.success("QR code scanned successfully!"),await C(W),v.current.clear(),d()},B=W=>{};v.current.render(_,B)}else v.current&&(v.current.clear().catch(_=>console.error("Failed to clear scanner:",_)),v.current=null);return()=>{v.current&&(v.current.clear().catch(_=>console.error("Failed to clear scanner on unmount:",_)),v.current=null)}},[u,w,d]);const C=async _=>{const B=Fp(_);if(B.length===0){vn.error("No valid book data found in QR/input.");return}let W=0;for(const K of B)try{await c(K),W++}catch(X){console.error("Failed to add imported book:",K.title,X)}W>0?(vn.success(`${W} book(s) imported successfully!`),m()):vn.error("No new books were imported."),d()},b=()=>{C(I)};return u?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:S.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full relative",children:[S.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:S.jsx(ea,{className:"w-6 h-6"})}),S.jsx("h2",{className:"text-2xl font-heading font-bold text-primary mb-4 text-center",children:"Import Shelf"}),S.jsxs("div",{className:"flex justify-center mb-4 space-x-2",children:[S.jsxs("button",{onClick:()=>p(!0),className:`flex items-center px-4 py-2 rounded-md transition-colors ${w?"bg-primary text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[S.jsx(I2,{className:"w-5 h-5 mr-2"})," Scan QR"]}),S.jsxs("button",{onClick:()=>p(!1),className:`flex items-center px-4 py-2 rounded-md transition-colors ${w?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-primary text-white shadow-md"}`,children:[S.jsx(y2,{className:"w-5 h-5 mr-2"})," Manual Input"]})]}),w?S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("p",{className:"text-gray-700 mb-4 text-center",children:"Position a QR code within the scanning area."}),S.jsx("div",{id:"qr-reader",className:"w-full max-w-[300px] h-[300px] border border-gray-300 rounded-lg overflow-hidden"}),S.jsx("p",{className:"text-sm text-gray-500 mt-4 text-center",children:"(Requires camera access. If scanning doesn't work, try manual input.)"})]}):S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("p",{className:"text-gray-700 mb-4 text-center",children:"Paste the JSON data of a book shelf below."}),S.jsx("textarea",{value:I,onChange:_=>O(_.target.value),rows:"8",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent resize-y",placeholder:'e.g., [{"title":"Book A", "author":"Author X", "status":"available", ...}]',"aria-label":"Manual JSON input for book shelf"}),S.jsx("button",{onClick:b,className:"mt-4 bg-primary text-white px-4 py-2 rounded-md hover:bg-violet-700 transition-colors shadow-md",children:"Import Books"})]})]})}):null}const Yn=({size:u=64,showText:d=!0,animated:c=!0,className:m="",variant:w="default",id:p="logo"})=>w==="text-only"?S.jsxs("div",{className:`flex items-center space-x-2 ${m}`,children:[S.jsx("span",{className:"text-xl font-bold text-gradient-primary",children:"Quill"}),S.jsx("span",{className:"text-xl font-bold text-purple-600",children:"Cache"})]}):w==="minimal"?S.jsx("div",{className:`flex items-center justify-center ${m}`,children:S.jsxs("svg",{width:u,height:u,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",className:`${c?"animate-pulse":""}`,children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:`quillGradient-${p}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#5B3C88",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#8B5CF6",stopOpacity:1}})]}),S.jsxs("linearGradient",{id:`bookGradient-${p}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#F59E0B",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#F97316",stopOpacity:1}})]})]}),S.jsx("circle",{cx:"16",cy:"16",r:"15",fill:`url(#quillGradient-${p})`,opacity:"0.1"}),S.jsx("rect",{x:"13",y:"8",width:"6",height:"16",fill:`url(#bookGradient-${p})`,rx:"1"}),S.jsx("rect",{x:"14",y:"9",width:"4",height:"14",fill:"white",rx:"0.5"}),S.jsx("g",{stroke:"#E5E7EB",strokeWidth:"0.5",opacity:"0.6",children:[11,12,13,14,15,16,17,18,19,20].map(I=>S.jsx("line",{x1:"15",y1:I,x2:"17",y2:I},I))}),S.jsx("path",{d:"M 19 12 Q 22 9 25 11 Q 23 14 20 16 L 19 12",fill:`url(#quillGradient-${p})`}),S.jsx("path",{d:"M 19 12 Q 17 11 16 12 Q 17 13 18 14 L 19 12",fill:"#E5E7EB",opacity:"0.8"}),S.jsx("path",{d:"M 20 16 L 21 17 L 20 18 L 19 17 Z",fill:"#1F2937"}),S.jsx("circle",{cx:"20",cy:"19",r:"1",fill:"#1F2937",opacity:"0.8"})]})}):S.jsx("div",{className:`flex flex-col items-center justify-center ${m}`,children:S.jsxs("svg",{width:u,height:u,viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",className:`${c?"animate-pulse":""}`,children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:`quillGradient-${p}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#5B3C88",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#8B5CF6",stopOpacity:1}})]}),S.jsxs("linearGradient",{id:`bookGradient-${p}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#F59E0B",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#F97316",stopOpacity:1}})]}),S.jsxs("linearGradient",{id:`inkGradient-${p}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#1F2937",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#374151",stopOpacity:1}})]}),S.jsxs("filter",{id:`glow-${p}`,children:[S.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),S.jsxs("feMerge",{children:[S.jsx("feMergeNode",{in:"coloredBlur"}),S.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),S.jsx("circle",{cx:"100",cy:"100",r:"90",fill:`url(#quillGradient-${p})`,opacity:"0.1",children:c&&S.jsx("animate",{attributeName:"r",values:"90;95;90",dur:"3s",repeatCount:"indefinite"})}),S.jsxs("g",{id:"book",children:[S.jsx("rect",{x:"85",y:"60",width:"30",height:"80",fill:`url(#bookGradient-${p})`,rx:"2",children:c&&S.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"2s",repeatCount:"indefinite"})}),S.jsx("rect",{x:"87",y:"62",width:"26",height:"76",fill:"white",rx:"1",children:c&&S.jsx("animate",{attributeName:"opacity",values:"0.9;1;0.9",dur:"2.5s",repeatCount:"indefinite"})}),S.jsx("g",{stroke:"#E5E7EB",strokeWidth:"1",opacity:"0.6",children:[70,75,80,85,90,95,100,105,110,115].map((I,O)=>S.jsx("line",{x1:"90",y1:I,x2:110-O*2,y2:I,children:c&&S.jsx("animate",{attributeName:"opacity",values:"0.3;0.8;0.3",dur:"1.5s",repeatCount:"indefinite",begin:`${O*.2}s`})},I))})]}),S.jsxs("g",{id:"quill",children:[S.jsx("path",{d:"M 120 80 Q 140 60 160 70 Q 150 90 130 100 L 120 80",fill:`url(#quillGradient-${p})`,filter:`url(#glow-${p})`,children:c&&S.jsx("animate",{attributeName:"opacity",values:"0.9;1;0.9",dur:"2s",repeatCount:"indefinite"})}),S.jsx("path",{d:"M 120 80 Q 110 70 100 75 Q 105 85 115 90 L 120 80",fill:"#E5E7EB",opacity:"0.8",children:c&&S.jsx("animate",{attributeName:"opacity",values:"0.6;0.9;0.6",dur:"2.5s",repeatCount:"indefinite"})}),S.jsx("path",{d:"M 130 100 L 135 105 L 130 110 L 125 105 Z",fill:`url(#inkGradient-${p})`,children:c&&S.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"1.5s",repeatCount:"indefinite"})})]}),S.jsxs("g",{id:"ink-drops",children:[S.jsx("circle",{cx:"125",cy:"115",r:"2",fill:`url(#inkGradient-${p})`,opacity:"0.8",children:c&&S.jsxs(S.Fragment,{children:[S.jsx("animate",{attributeName:"r",values:"2;3;2",dur:"2s",repeatCount:"indefinite"}),S.jsx("animate",{attributeName:"opacity",values:"0.8;0.4;0.8",dur:"2s",repeatCount:"indefinite"})]})}),S.jsx("circle",{cx:"128",cy:"118",r:"1.5",fill:`url(#inkGradient-${p})`,opacity:"0.6",children:c&&S.jsxs(S.Fragment,{children:[S.jsx("animate",{attributeName:"r",values:"1.5;2.5;1.5",dur:"2.5s",repeatCount:"indefinite"}),S.jsx("animate",{attributeName:"opacity",values:"0.6;0.2;0.6",dur:"2.5s",repeatCount:"indefinite"})]})})]}),S.jsx("g",{id:"particles",children:[{cx:60,cy:50,r:1,fill:"#8B5CF6",opacity:.6,dur:3},{cx:140,cy:40,r:.8,fill:"#F59E0B",opacity:.5,dur:2.5},{cx:50,cy:150,r:1.2,fill:"#5B3C88",opacity:.4,dur:3.5},{cx:150,cy:160,r:.9,fill:"#F97316",opacity:.5,dur:2.8}].map((I,O)=>S.jsx("circle",{cx:I.cx,cy:I.cy,r:I.r,fill:I.fill,opacity:I.opacity,children:c&&S.jsxs(S.Fragment,{children:[S.jsx("animate",{attributeName:"cy",values:`${I.cy};${I.cy-10};${I.cy}`,dur:`${I.dur}s`,repeatCount:"indefinite"}),S.jsx("animate",{attributeName:"opacity",values:`${I.opacity};${I.opacity*.2};${I.opacity}`,dur:`${I.dur}s`,repeatCount:"indefinite"})]})},O))}),d&&S.jsxs("text",{x:"100",y:"170",textAnchor:"middle",fontFamily:"Arial, sans-serif",fontSize:"12",fontWeight:"bold",fill:"#5B3C88",children:[S.jsx("tspan",{x:"100",dy:"0",children:"Quill"}),S.jsx("tspan",{fill:"#8B5CF6",children:"Cache"}),c&&S.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"2s",repeatCount:"indefinite"})]})]})}),pl=({size:u=64,className:d=""})=>S.jsx("div",{className:`flex items-center justify-center ${d}`,children:S.jsxs("svg",{width:u,height:u,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"simple-quill",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#5B3C88",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#8B5CF6",stopOpacity:1}})]}),S.jsxs("linearGradient",{id:"simple-book",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#F59E0B",stopOpacity:1}}),S.jsx("stop",{offset:"100%",style:{stopColor:"#F97316",stopOpacity:1}})]})]}),S.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"url(#simple-quill)",opacity:"0.1"}),S.jsx("rect",{x:"13",y:"8",width:"6",height:"16",fill:"url(#simple-book)",rx:"1"}),S.jsx("rect",{x:"14",y:"9",width:"4",height:"14",fill:"white",rx:"0.5"}),S.jsxs("g",{stroke:"#E5E7EB",strokeWidth:"0.5",opacity:"0.6",children:[S.jsx("line",{x1:"15",y1:"11",x2:"17",y2:"11"}),S.jsx("line",{x1:"15",y1:"12",x2:"17",y2:"12"}),S.jsx("line",{x1:"15",y1:"13",x2:"17",y2:"13"}),S.jsx("line",{x1:"15",y1:"14",x2:"17",y2:"14"}),S.jsx("line",{x1:"15",y1:"15",x2:"17",y2:"15"}),S.jsx("line",{x1:"15",y1:"16",x2:"17",y2:"16"}),S.jsx("line",{x1:"15",y1:"17",x2:"17",y2:"17"}),S.jsx("line",{x1:"15",y1:"18",x2:"17",y2:"18"}),S.jsx("line",{x1:"15",y1:"19",x2:"17",y2:"19"}),S.jsx("line",{x1:"15",y1:"20",x2:"17",y2:"20"})]}),S.jsx("path",{d:"M 19 12 Q 22 9 25 11 Q 23 14 20 16 L 19 12",fill:"url(#simple-quill)"}),S.jsx("path",{d:"M 19 12 Q 17 11 16 12 Q 17 13 18 14 L 19 12",fill:"#E5E7EB",opacity:"0.8"}),S.jsx("path",{d:"M 20 16 L 21 17 L 20 18 L 19 17 Z",fill:"#1F2937"}),S.jsx("circle",{cx:"20",cy:"19",r:"1",fill:"#1F2937",opacity:"0.8"})]})});function Up(){const[u,d]=z.useState(!1),[c,m]=z.useState(!1),w=Wi(),p=[{path:"/",label:"Home",icon:E2},{path:"/add-book",label:"Add Book",icon:Mf},{path:"/my-shelf",label:"My Shelf",icon:Vr}],I=O=>w.pathname===O;return S.jsxs("nav",{className:"glass sticky top-0 z-50 border-b border-white/20",children:[S.jsxs("div",{className:"container-wide",children:[S.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[S.jsxs(ui,{to:"/",className:"flex items-center space-x-2 group",children:[S.jsx("div",{className:"w-8 h-8 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:S.jsx(pl,{size:32})}),S.jsx("span",{className:"text-xl font-heading font-bold text-gradient-primary group-hover:scale-105 transition-transform duration-200",children:"QuillCache"})]}),S.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[p.map(O=>{const v=O.icon;return S.jsxs(ui,{to:O.path,className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-all duration-200 group ${I(O.path)?"bg-primary-100 text-primary-700 border border-primary-200 shadow-sm":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900"}`,children:[S.jsx(v,{className:`w-5 h-5 transition-transform duration-200 ${I(O.path)?"text-primary-600":"group-hover:scale-110"}`}),S.jsx("span",{children:O.label})]},O.path)}),S.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 rounded-xl font-medium text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-all duration-200 group","aria-label":"Import Shelf via QR",children:[S.jsx(ac,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),S.jsx("span",{children:"Import"})]})]}),S.jsx("button",{onClick:()=>m(!c),className:"lg:hidden p-2 rounded-xl text-neutral-700 hover:bg-neutral-100 transition-colors duration-200","aria-label":"Toggle mobile menu",children:c?S.jsx(ea,{className:"w-6 h-6"}):S.jsx(S2,{className:"w-6 h-6"})})]}),c&&S.jsx("div",{className:"lg:hidden border-t border-white/20 bg-white/95",children:S.jsxs("div",{className:"px-4 py-4 space-y-2",children:[p.map(O=>{const v=O.icon;return S.jsxs(ui,{to:O.path,onClick:()=>m(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${I(O.path)?"bg-primary-100 text-primary-700 border border-primary-200":"text-neutral-700 hover:bg-neutral-100"}`,children:[S.jsx(v,{className:"w-5 h-5"}),S.jsx("span",{children:O.label})]},O.path)}),S.jsxs("button",{onClick:()=>{d(!0),m(!1)},className:"flex items-center space-x-3 px-4 py-3 rounded-xl font-medium text-neutral-700 hover:bg-neutral-100 transition-colors duration-200 w-full",children:[S.jsx(ac,{className:"w-5 h-5"}),S.jsx("span",{children:"Import Shelf"})]})]})})]}),S.jsx(jp,{isOpen:u,onClose:()=>d(!1)})]})}function zp(){return S.jsxs("div",{className:"min-h-[calc(100vh-80px)] relative overflow-hidden",children:[S.jsxs("div",{className:"absolute inset-0 -z-10",children:[S.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-primary-200/30 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-accent-200/30 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),S.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-secondary-200/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsx("div",{className:"absolute top-1/3 right-1/4 w-24 h-24 bg-primary-300/20 rounded-full blur-2xl animate-float",style:{animationDelay:"0.5s"}})]}),S.jsx("div",{className:"container-narrow",children:S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-80px)] text-center space-y-8 lg:space-y-12 px-4",children:[S.jsxs("div",{className:"space-y-6 lg:space-y-8 fade-in",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex flex-col items-center justify-center mb-8 lg:mb-12",children:[S.jsx("div",{className:"mb-6 lg:mb-8",children:S.jsx(Yn,{size:120,showText:!0,animated:!0,id:"hero-logo"})}),S.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-heading font-bold text-gradient-primary",children:"QuillCache"})]}),S.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4 lg:mb-6",children:[S.jsx(lc,{className:"w-5 h-5 lg:w-6 lg:h-6 text-secondary-500"}),S.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-neutral-700 font-medium",children:"Your personal, offline-first community book exchange tracker"}),S.jsx(lc,{className:"w-5 h-5 lg:w-6 lg:h-6 text-secondary-500"})]}),S.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-neutral-600 max-w-3xl mx-auto leading-relaxed px-4",children:"Manage your books, share your shelf, and discover new reads with our beautiful, intuitive interface designed for book lovers. Experience the future of personal library management."})]}),S.jsxs("div",{className:"flex flex-wrap justify-center gap-3 lg:gap-4 text-sm lg:text-base",children:[S.jsxs("div",{className:"flex items-center space-x-2 bg-success-100 text-success-700 px-3 py-1 rounded-full border border-success-200",children:[S.jsx(ec,{className:"w-4 h-4"}),S.jsx("span",{className:"font-medium",children:"Offline First"})]}),S.jsxs("div",{className:"flex items-center space-x-2 bg-accent-100 text-accent-700 px-3 py-1 rounded-full border border-accent-200",children:[S.jsx(ec,{className:"w-4 h-4"}),S.jsx("span",{className:"font-medium",children:"PWA Ready"})]}),S.jsxs("div",{className:"flex items-center space-x-2 bg-primary-100 text-primary-700 px-3 py-1 rounded-full border border-primary-200",children:[S.jsx(ec,{className:"w-4 h-4"}),S.jsx("span",{className:"font-medium",children:"QR Sharing"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 w-full max-w-6xl slide-up",style:{animationDelay:"0.2s"},children:[S.jsx(ui,{to:"/add-book",className:"card card-hover group bounce-in",style:{animationDelay:"0.3s"},children:S.jsxs("div",{className:"flex flex-col items-center text-center h-full space-y-4 lg:space-y-6 p-6 lg:p-8",children:[S.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-br from-accent-500 to-accent-600 rounded-3xl flex items-center justify-center shadow-glow-accent group-hover:scale-110 transition-transform duration-300",children:S.jsx(Mf,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsx("h2",{className:"text-xl lg:text-2xl font-heading font-semibold text-neutral-800",children:"Add a New Book"}),S.jsx("p",{className:"text-neutral-600 leading-relaxed text-sm lg:text-base",children:"Log books with detailed information and track their status in your personal library."})]}),S.jsxs("div",{className:"flex items-center space-x-2 text-accent-600 font-medium group-hover:translate-x-1 transition-transform duration-200",children:[S.jsx("span",{children:"Get Started"}),S.jsx(Ju,{className:"w-4 h-4"})]})]})}),S.jsx(ui,{to:"/my-shelf",className:"card card-hover group bounce-in",style:{animationDelay:"0.4s"},children:S.jsxs("div",{className:"flex flex-col items-center text-center h-full space-y-4 lg:space-y-6 p-6 lg:p-8",children:[S.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-3xl flex items-center justify-center shadow-glow-primary group-hover:scale-110 transition-transform duration-300",children:S.jsx(Vr,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsx("h2",{className:"text-xl lg:text-2xl font-heading font-semibold text-neutral-800",children:"View My Shelf"}),S.jsx("p",{className:"text-neutral-600 leading-relaxed text-sm lg:text-base",children:"Browse and manage your complete book collection with beautiful cards and easy controls."})]}),S.jsxs("div",{className:"flex items-center space-x-2 text-primary-600 font-medium group-hover:translate-x-1 transition-transform duration-200",children:[S.jsx("span",{children:"Explore"}),S.jsx(Ju,{className:"w-4 h-4"})]})]})}),S.jsx(ui,{to:"/my-shelf",className:"card card-hover group bounce-in md:col-span-2 lg:col-span-1",style:{animationDelay:"0.5s"},children:S.jsxs("div",{className:"flex flex-col items-center text-center h-full space-y-4 lg:space-y-6 p-6 lg:p-8",children:[S.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-3xl flex items-center justify-center shadow-glow-secondary group-hover:scale-110 transition-transform duration-300",children:S.jsx(T2,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsx("h2",{className:"text-xl lg:text-2xl font-heading font-semibold text-neutral-800",children:"Share Shelf"}),S.jsx("p",{className:"text-neutral-600 leading-relaxed text-sm lg:text-base",children:"Generate QR codes to easily share your book collection with friends and family."})]}),S.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600 font-medium group-hover:translate-x-1 transition-transform duration-200",children:[S.jsx("span",{children:"Share"}),S.jsx(Ju,{className:"w-4 h-4"})]})]})})]}),S.jsxs("div",{className:"glass rounded-2xl lg:rounded-3xl p-6 lg:p-8 max-w-2xl mx-auto slide-up",style:{animationDelay:"0.6s"},children:[S.jsxs("div",{className:"flex items-center justify-center space-x-2 lg:space-x-3 mb-3 lg:mb-4",children:[S.jsx("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-success-500 rounded-full animate-pulse"}),S.jsx("h3",{className:"text-base lg:text-lg font-heading font-semibold text-neutral-800",children:"Progressive Web App"})]}),S.jsx("p",{className:"text-neutral-600 leading-relaxed text-sm lg:text-base",children:"This app can be installed on your device for offline use and provides a native app experience! Enjoy seamless access to your library anywhere, anytime."})]})]})})]})}function Hp(){const[u,d]=z.useState(""),[c,m]=z.useState(""),[w,p]=z.useState(""),[I,O]=z.useState(""),[v,C]=z.useState(""),[b,_]=z.useState("available"),[B,W]=z.useState(""),{addNewBook:K}=ta(),X=pf(),Q=async ne=>{if(ne.preventDefault(),!u||!c){vn.error("Title and Author are required!");return}const he={title:u,author:c,description:w,genre:I,publishedYear:v,status:b,borrowedBy:b==="borrowed"?B:""};try{await K(he),d(""),m(""),p(""),O(""),C(""),_("available"),W(""),X("/my-shelf")}catch(te){console.error("Error adding book:",te)}};return S.jsx("div",{className:"container-narrow px-4",children:S.jsxs("div",{className:"glass rounded-2xl lg:rounded-3xl p-6 lg:p-8 slide-up",children:[S.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 lg:mb-8 space-y-4 lg:space-y-0",children:[S.jsx("div",{className:"space-y-2",children:S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl flex items-center justify-center shadow-glow-primary",children:S.jsx(Vr,{className:"w-6 h-6 lg:w-7 lg:h-7 text-white"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl lg:text-3xl font-heading font-bold text-gradient-primary",children:"Add New Book"}),S.jsx("p",{className:"text-neutral-600 text-sm lg:text-base",children:"Fill in the details to add a book to your shelf"})]})]})}),S.jsxs("div",{className:"hidden lg:flex items-center space-x-2 text-sm",children:[S.jsx(lc,{className:"w-4 h-4 text-secondary-500"}),S.jsx("span",{className:"text-neutral-500",children:"Create your library"})]})]}),S.jsxs("form",{onSubmit:Q,className:"space-y-6 lg:space-y-8",children:[S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsxs("label",{htmlFor:"title",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(Vr,{className:"w-4 h-4 mr-2 text-primary-600"}),"Title ",S.jsx("span",{className:"text-error-600 ml-1",children:"*"})]}),S.jsx("input",{type:"text",id:"title",value:u,onChange:ne=>d(ne.target.value),className:"input",placeholder:"Enter book title",required:!0})]}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsxs("label",{htmlFor:"author",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(uc,{className:"w-4 h-4 mr-2 text-accent-600"}),"Author ",S.jsx("span",{className:"text-error-600 ml-1",children:"*"})]}),S.jsx("input",{type:"text",id:"author",value:c,onChange:ne=>m(ne.target.value),className:"input",placeholder:"Enter author name",required:!0})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsxs("label",{htmlFor:"genre",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(B0,{className:"w-4 h-4 mr-2 text-secondary-600"}),"Genre"]}),S.jsx("input",{type:"text",id:"genre",value:I,onChange:ne=>O(ne.target.value),className:"input",placeholder:"e.g., Fiction, Science, History"})]}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsxs("label",{htmlFor:"publishedYear",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(bf,{className:"w-4 h-4 mr-2 text-neutral-500"}),"Published Year"]}),S.jsx("input",{type:"number",id:"publishedYear",value:v,onChange:ne=>C(ne.target.value),className:"input",placeholder:"e.g., 2023",min:"1800",max:new Date().getFullYear()+1})]})]}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsxs("label",{htmlFor:"description",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(B0,{className:"w-4 h-4 mr-2 text-accent-600"}),"Description"]}),S.jsx("textarea",{id:"description",value:w,onChange:ne=>p(ne.target.value),rows:"4",className:"input resize-none",placeholder:"Brief description of the book..."})]}),S.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[S.jsxs("label",{htmlFor:"status",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(Vr,{className:"w-4 h-4 mr-2 text-secondary-600"}),"Status"]}),S.jsxs("select",{id:"status",value:b,onChange:ne=>{_(ne.target.value),ne.target.value==="available"&&W("")},className:"input",children:[S.jsx("option",{value:"available",children:"Available"}),S.jsx("option",{value:"borrowed",children:"Borrowed"})]})]}),b==="borrowed"&&S.jsxs("div",{className:"space-y-2 lg:space-y-3 slide-up",children:[S.jsxs("label",{htmlFor:"borrowedBy",className:"flex items-center text-sm font-semibold text-neutral-700",children:[S.jsx(uc,{className:"w-4 h-4 mr-2 text-secondary-600"}),"Borrowed By"]}),S.jsx("input",{type:"text",id:"borrowedBy",value:B,onChange:ne=>W(ne.target.value),className:"input",placeholder:"Name of the person who borrowed the book"})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 lg:pt-6",children:[S.jsxs("button",{type:"button",onClick:()=>X("/my-shelf"),className:"btn-outline btn-md lg:btn-lg flex items-center justify-center",children:[S.jsx(x2,{className:"w-4 h-4 mr-2"}),"Cancel"]}),S.jsxs("button",{type:"submit",className:"btn-primary btn-md lg:btn-lg flex items-center justify-center flex-1",children:[S.jsx(_f,{className:"w-4 h-4 mr-2"}),"Add Book"]})]})]})]})})}function Vp(){return S.jsxs("div",{className:"flex flex-col items-center p-4",children:[S.jsx("h1",{className:"text-3xl font-heading font-bold text-primary mb-6",children:"Add New Book"}),S.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-md w-full max-w-md",children:S.jsx(Hp,{})})]})}function Wp({book:u,onOpenDetails:d,onUpdate:c,onDeleteRequest:m}){const w=()=>{const p=u.status==="available"?"borrowed":"available";c({...u,status:p,borrowedBy:p==="available"?"":u.borrowedBy})};return S.jsx("div",{className:"card card-hover group relative",children:S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsxs("div",{className:"mb-4 lg:mb-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[S.jsx("h3",{className:"text-lg lg:text-xl font-heading font-semibold text-neutral-800 group-hover:text-primary-700 transition-colors line-clamp-2 flex-1 pr-2",children:u.title}),S.jsx("div",{className:"flex items-center space-x-1",children:S.jsx("button",{onClick:()=>d(u),className:"p-1.5 lg:p-2 rounded-lg lg:rounded-xl bg-neutral-100 text-neutral-600 hover:bg-accent-100 hover:text-accent-700 transition-all duration-200 hover:scale-110","aria-label":"View/Edit book details",children:S.jsx(w2,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})})]}),S.jsxs("div",{className:"flex items-center text-neutral-700 mb-3 lg:mb-4",children:[S.jsx(uc,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 mr-2 text-accent-600 flex-shrink-0"}),S.jsx("span",{className:"font-medium text-sm lg:text-base",children:u.author})]})]}),S.jsx("div",{className:"flex-1 mb-4 lg:mb-6",children:S.jsxs("div",{className:"flex items-start",children:[S.jsx(A2,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 mr-2 text-accent-600 mt-1 flex-shrink-0"}),S.jsx("p",{className:"text-neutral-600 text-sm leading-relaxed line-clamp-3",children:u.description||"No description provided."})]})}),S.jsxs("div",{className:"space-y-2 lg:space-y-3 mb-4 lg:mb-6",children:[u.genre&&S.jsxs("div",{className:"flex items-center text-neutral-600 text-sm",children:[S.jsx(M2,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 mr-2 text-secondary-600 flex-shrink-0"}),S.jsx("span",{className:"badge-secondary text-xs",children:u.genre})]}),u.publishedYear&&S.jsxs("div",{className:"flex items-center text-neutral-600 text-sm",children:[S.jsx(bf,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 mr-2 text-neutral-500 flex-shrink-0"}),S.jsx("span",{className:"font-medium",children:u.publishedYear})]}),u.status==="borrowed"&&u.borrowedBy&&S.jsxs("div",{className:"flex items-center text-neutral-600 text-sm",children:[S.jsx(Vr,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 mr-2 text-secondary-600 flex-shrink-0"}),S.jsxs("span",{className:"font-medium",children:["Borrowed by: ",u.borrowedBy]})]})]}),S.jsxs("div",{className:"flex items-center justify-between pt-3 lg:pt-4 border-t border-neutral-200/50",children:[S.jsx("span",{className:`badge text-xs ${u.status==="available"?"status-available":"status-borrowed"}`,children:u.status==="available"?"Available":"Borrowed"}),S.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[S.jsx("button",{onClick:w,className:"p-1.5 lg:p-2 rounded-lg lg:rounded-xl bg-secondary-100 text-secondary-700 hover:bg-secondary-200 transition-all duration-200 hover:scale-110","aria-label":`Mark as ${u.status==="available"?"borrowed":"available"}`,children:S.jsx(Vr,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})}),S.jsx("button",{onClick:()=>d(u),className:"p-1.5 lg:p-2 rounded-lg lg:rounded-xl bg-accent-100 text-accent-700 hover:bg-accent-200 transition-all duration-200 hover:scale-110","aria-label":"Edit book details",children:S.jsx(b2,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})}),S.jsx("button",{onClick:()=>m(u),className:"p-1.5 lg:p-2 rounded-lg lg:rounded-xl bg-error-100 text-error-700 hover:bg-error-200 transition-all duration-200 hover:scale-110","aria-label":"Delete book",children:S.jsx(Rf,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})]})]}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-600/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl pointer-events-none"})]})})}var Gp=Object.defineProperty,Cl=Object.getOwnPropertySymbols,zf=Object.prototype.hasOwnProperty,Hf=Object.prototype.propertyIsEnumerable,sf=(u,d,c)=>d in u?Gp(u,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):u[d]=c,xc=(u,d)=>{for(var c in d||(d={}))zf.call(d,c)&&sf(u,c,d[c]);if(Cl)for(var c of Cl(d))Hf.call(d,c)&&sf(u,c,d[c]);return u},mc=(u,d)=>{var c={};for(var m in u)zf.call(u,m)&&d.indexOf(m)<0&&(c[m]=u[m]);if(u!=null&&Cl)for(var m of Cl(u))d.indexOf(m)<0&&Hf.call(u,m)&&(c[m]=u[m]);return c};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Cs;(u=>{const d=class it{constructor(v,C,b,_){if(this.version=v,this.errorCorrectionLevel=C,this.modules=[],this.isFunction=[],v<it.MIN_VERSION||v>it.MAX_VERSION)throw new RangeError("Version value out of range");if(_<-1||_>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let B=[];for(let K=0;K<this.size;K++)B.push(!1);for(let K=0;K<this.size;K++)this.modules.push(B.slice()),this.isFunction.push(B.slice());this.drawFunctionPatterns();const W=this.addEccAndInterleave(b);if(this.drawCodewords(W),_==-1){let K=1e9;for(let X=0;X<8;X++){this.applyMask(X),this.drawFormatBits(X);const Q=this.getPenaltyScore();Q<K&&(_=X,K=Q),this.applyMask(X)}}w(0<=_&&_<=7),this.mask=_,this.applyMask(_),this.drawFormatBits(_),this.isFunction=[]}static encodeText(v,C){const b=u.QrSegment.makeSegments(v);return it.encodeSegments(b,C)}static encodeBinary(v,C){const b=u.QrSegment.makeBytes(v);return it.encodeSegments([b],C)}static encodeSegments(v,C,b=1,_=40,B=-1,W=!0){if(!(it.MIN_VERSION<=b&&b<=_&&_<=it.MAX_VERSION)||B<-1||B>7)throw new RangeError("Invalid value");let K,X;for(K=b;;K++){const te=it.getNumDataCodewords(K,C)*8,pe=I.getTotalBits(v,K);if(pe<=te){X=pe;break}if(K>=_)throw new RangeError("Data too long")}for(const te of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])W&&X<=it.getNumDataCodewords(K,te)*8&&(C=te);let Q=[];for(const te of v){c(te.mode.modeBits,4,Q),c(te.numChars,te.mode.numCharCountBits(K),Q);for(const pe of te.getData())Q.push(pe)}w(Q.length==X);const ne=it.getNumDataCodewords(K,C)*8;w(Q.length<=ne),c(0,Math.min(4,ne-Q.length),Q),c(0,(8-Q.length%8)%8,Q),w(Q.length%8==0);for(let te=236;Q.length<ne;te^=253)c(te,8,Q);let he=[];for(;he.length*8<Q.length;)he.push(0);return Q.forEach((te,pe)=>he[pe>>>3]|=te<<7-(pe&7)),new it(K,C,he,B)}getModule(v,C){return 0<=v&&v<this.size&&0<=C&&C<this.size&&this.modules[C][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let b=0;b<this.size;b++)this.setFunctionModule(6,b,b%2==0),this.setFunctionModule(b,6,b%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),C=v.length;for(let b=0;b<C;b++)for(let _=0;_<C;_++)b==0&&_==0||b==0&&_==C-1||b==C-1&&_==0||this.drawAlignmentPattern(v[b],v[_]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const C=this.errorCorrectionLevel.formatBits<<3|v;let b=C;for(let B=0;B<10;B++)b=b<<1^(b>>>9)*1335;const _=(C<<10|b)^21522;w(_>>>15==0);for(let B=0;B<=5;B++)this.setFunctionModule(8,B,m(_,B));this.setFunctionModule(8,7,m(_,6)),this.setFunctionModule(8,8,m(_,7)),this.setFunctionModule(7,8,m(_,8));for(let B=9;B<15;B++)this.setFunctionModule(14-B,8,m(_,B));for(let B=0;B<8;B++)this.setFunctionModule(this.size-1-B,8,m(_,B));for(let B=8;B<15;B++)this.setFunctionModule(8,this.size-15+B,m(_,B));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let b=0;b<12;b++)v=v<<1^(v>>>11)*7973;const C=this.version<<12|v;w(C>>>18==0);for(let b=0;b<18;b++){const _=m(C,b),B=this.size-11+b%3,W=Math.floor(b/3);this.setFunctionModule(B,W,_),this.setFunctionModule(W,B,_)}}drawFinderPattern(v,C){for(let b=-4;b<=4;b++)for(let _=-4;_<=4;_++){const B=Math.max(Math.abs(_),Math.abs(b)),W=v+_,K=C+b;0<=W&&W<this.size&&0<=K&&K<this.size&&this.setFunctionModule(W,K,B!=2&&B!=4)}}drawAlignmentPattern(v,C){for(let b=-2;b<=2;b++)for(let _=-2;_<=2;_++)this.setFunctionModule(v+_,C+b,Math.max(Math.abs(_),Math.abs(b))!=1)}setFunctionModule(v,C,b){this.modules[C][v]=b,this.isFunction[C][v]=!0}addEccAndInterleave(v){const C=this.version,b=this.errorCorrectionLevel;if(v.length!=it.getNumDataCodewords(C,b))throw new RangeError("Invalid argument");const _=it.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][C],B=it.ECC_CODEWORDS_PER_BLOCK[b.ordinal][C],W=Math.floor(it.getNumRawDataModules(C)/8),K=_-W%_,X=Math.floor(W/_);let Q=[];const ne=it.reedSolomonComputeDivisor(B);for(let te=0,pe=0;te<_;te++){let ze=v.slice(pe,pe+X-B+(te<K?0:1));pe+=ze.length;const De=it.reedSolomonComputeRemainder(ze,ne);te<K&&ze.push(0),Q.push(ze.concat(De))}let he=[];for(let te=0;te<Q[0].length;te++)Q.forEach((pe,ze)=>{(te!=X-B||ze>=K)&&he.push(pe[te])});return w(he.length==W),he}drawCodewords(v){if(v.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let C=0;for(let b=this.size-1;b>=1;b-=2){b==6&&(b=5);for(let _=0;_<this.size;_++)for(let B=0;B<2;B++){const W=b-B,X=(b+1&2)==0?this.size-1-_:_;!this.isFunction[X][W]&&C<v.length*8&&(this.modules[X][W]=m(v[C>>>3],7-(C&7)),C++)}}w(C==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let C=0;C<this.size;C++)for(let b=0;b<this.size;b++){let _;switch(v){case 0:_=(b+C)%2==0;break;case 1:_=C%2==0;break;case 2:_=b%3==0;break;case 3:_=(b+C)%3==0;break;case 4:_=(Math.floor(b/3)+Math.floor(C/2))%2==0;break;case 5:_=b*C%2+b*C%3==0;break;case 6:_=(b*C%2+b*C%3)%2==0;break;case 7:_=((b+C)%2+b*C%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[C][b]&&_&&(this.modules[C][b]=!this.modules[C][b])}}getPenaltyScore(){let v=0;for(let B=0;B<this.size;B++){let W=!1,K=0,X=[0,0,0,0,0,0,0];for(let Q=0;Q<this.size;Q++)this.modules[B][Q]==W?(K++,K==5?v+=it.PENALTY_N1:K>5&&v++):(this.finderPenaltyAddHistory(K,X),W||(v+=this.finderPenaltyCountPatterns(X)*it.PENALTY_N3),W=this.modules[B][Q],K=1);v+=this.finderPenaltyTerminateAndCount(W,K,X)*it.PENALTY_N3}for(let B=0;B<this.size;B++){let W=!1,K=0,X=[0,0,0,0,0,0,0];for(let Q=0;Q<this.size;Q++)this.modules[Q][B]==W?(K++,K==5?v+=it.PENALTY_N1:K>5&&v++):(this.finderPenaltyAddHistory(K,X),W||(v+=this.finderPenaltyCountPatterns(X)*it.PENALTY_N3),W=this.modules[Q][B],K=1);v+=this.finderPenaltyTerminateAndCount(W,K,X)*it.PENALTY_N3}for(let B=0;B<this.size-1;B++)for(let W=0;W<this.size-1;W++){const K=this.modules[B][W];K==this.modules[B][W+1]&&K==this.modules[B+1][W]&&K==this.modules[B+1][W+1]&&(v+=it.PENALTY_N2)}let C=0;for(const B of this.modules)C=B.reduce((W,K)=>W+(K?1:0),C);const b=this.size*this.size,_=Math.ceil(Math.abs(C*20-b*10)/b)-1;return w(0<=_&&_<=9),v+=_*it.PENALTY_N4,w(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,C=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let b=[6];for(let _=this.size-7;b.length<v;_-=C)b.splice(1,0,_);return b}}static getNumRawDataModules(v){if(v<it.MIN_VERSION||v>it.MAX_VERSION)throw new RangeError("Version number out of range");let C=(16*v+128)*v+64;if(v>=2){const b=Math.floor(v/7)+2;C-=(25*b-10)*b-55,v>=7&&(C-=36)}return w(208<=C&&C<=29648),C}static getNumDataCodewords(v,C){return Math.floor(it.getNumRawDataModules(v)/8)-it.ECC_CODEWORDS_PER_BLOCK[C.ordinal][v]*it.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let C=[];for(let _=0;_<v-1;_++)C.push(0);C.push(1);let b=1;for(let _=0;_<v;_++){for(let B=0;B<C.length;B++)C[B]=it.reedSolomonMultiply(C[B],b),B+1<C.length&&(C[B]^=C[B+1]);b=it.reedSolomonMultiply(b,2)}return C}static reedSolomonComputeRemainder(v,C){let b=C.map(_=>0);for(const _ of v){const B=_^b.shift();b.push(0),C.forEach((W,K)=>b[K]^=it.reedSolomonMultiply(W,B))}return b}static reedSolomonMultiply(v,C){if(v>>>8||C>>>8)throw new RangeError("Byte out of range");let b=0;for(let _=7;_>=0;_--)b=b<<1^(b>>>7)*285,b^=(C>>>_&1)*v;return w(b>>>8==0),b}finderPenaltyCountPatterns(v){const C=v[1];w(C<=this.size*3);const b=C>0&&v[2]==C&&v[3]==C*3&&v[4]==C&&v[5]==C;return(b&&v[0]>=C*4&&v[6]>=C?1:0)+(b&&v[6]>=C*4&&v[0]>=C?1:0)}finderPenaltyTerminateAndCount(v,C,b){return v&&(this.finderPenaltyAddHistory(C,b),C=0),C+=this.size,this.finderPenaltyAddHistory(C,b),this.finderPenaltyCountPatterns(b)}finderPenaltyAddHistory(v,C){C[0]==0&&(v+=this.size),C.pop(),C.unshift(v)}};d.MIN_VERSION=1,d.MAX_VERSION=40,d.PENALTY_N1=3,d.PENALTY_N2=3,d.PENALTY_N3=40,d.PENALTY_N4=10,d.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],d.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],u.QrCode=d;function c(O,v,C){if(v<0||v>31||O>>>v)throw new RangeError("Value out of range");for(let b=v-1;b>=0;b--)C.push(O>>>b&1)}function m(O,v){return(O>>>v&1)!=0}function w(O){if(!O)throw new Error("Assertion error")}const p=class Wt{constructor(v,C,b){if(this.mode=v,this.numChars=C,this.bitData=b,C<0)throw new RangeError("Invalid argument");this.bitData=b.slice()}static makeBytes(v){let C=[];for(const b of v)c(b,8,C);return new Wt(Wt.Mode.BYTE,v.length,C)}static makeNumeric(v){if(!Wt.isNumeric(v))throw new RangeError("String contains non-numeric characters");let C=[];for(let b=0;b<v.length;){const _=Math.min(v.length-b,3);c(parseInt(v.substring(b,b+_),10),_*3+1,C),b+=_}return new Wt(Wt.Mode.NUMERIC,v.length,C)}static makeAlphanumeric(v){if(!Wt.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let C=[],b;for(b=0;b+2<=v.length;b+=2){let _=Wt.ALPHANUMERIC_CHARSET.indexOf(v.charAt(b))*45;_+=Wt.ALPHANUMERIC_CHARSET.indexOf(v.charAt(b+1)),c(_,11,C)}return b<v.length&&c(Wt.ALPHANUMERIC_CHARSET.indexOf(v.charAt(b)),6,C),new Wt(Wt.Mode.ALPHANUMERIC,v.length,C)}static makeSegments(v){return v==""?[]:Wt.isNumeric(v)?[Wt.makeNumeric(v)]:Wt.isAlphanumeric(v)?[Wt.makeAlphanumeric(v)]:[Wt.makeBytes(Wt.toUtf8ByteArray(v))]}static makeEci(v){let C=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)c(v,8,C);else if(v<16384)c(2,2,C),c(v,14,C);else if(v<1e6)c(6,3,C),c(v,21,C);else throw new RangeError("ECI assignment value out of range");return new Wt(Wt.Mode.ECI,0,C)}static isNumeric(v){return Wt.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return Wt.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,C){let b=0;for(const _ of v){const B=_.mode.numCharCountBits(C);if(_.numChars>=1<<B)return 1/0;b+=4+B+_.bitData.length}return b}static toUtf8ByteArray(v){v=encodeURI(v);let C=[];for(let b=0;b<v.length;b++)v.charAt(b)!="%"?C.push(v.charCodeAt(b)):(C.push(parseInt(v.substring(b+1,b+3),16)),b+=2);return C}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let I=p;u.QrSegment=p})(Cs||(Cs={}));(u=>{(d=>{const c=class{constructor(w,p){this.ordinal=w,this.formatBits=p}};c.LOW=new c(0,1),c.MEDIUM=new c(1,0),c.QUARTILE=new c(2,3),c.HIGH=new c(3,2),d.Ecc=c})(u.QrCode||(u.QrCode={}))})(Cs||(Cs={}));(u=>{(d=>{const c=class{constructor(w,p){this.modeBits=w,this.numBitsCharCount=p}numCharCountBits(w){return this.numBitsCharCount[Math.floor((w+7)/17)]}};c.NUMERIC=new c(1,[10,12,14]),c.ALPHANUMERIC=new c(2,[9,11,13]),c.BYTE=new c(4,[8,16,16]),c.KANJI=new c(8,[8,10,12]),c.ECI=new c(7,[0,0,0]),d.Mode=c})(u.QrSegment||(u.QrSegment={}))})(Cs||(Cs={}));var Js=Cs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Yp={L:Js.QrCode.Ecc.LOW,M:Js.QrCode.Ecc.MEDIUM,Q:Js.QrCode.Ecc.QUARTILE,H:Js.QrCode.Ecc.HIGH},Vf=128,Wf="L",Gf="#FFFFFF",Yf="#000000",Xf=!1,Qf=1,Xp=4,Qp=0,Zp=.1;function Zf(u,d=0){const c=[];return u.forEach(function(m,w){let p=null;m.forEach(function(I,O){if(!I&&p!==null){c.push(`M${p+d} ${w+d}h${O-p}v1H${p+d}z`),p=null;return}if(O===m.length-1){if(!I)return;p===null?c.push(`M${O+d},${w+d} h1v1H${O+d}z`):c.push(`M${p+d},${w+d} h${O+1-p}v1H${p+d}z`);return}I&&p===null&&(p=O)})}),c.join("")}function Kf(u,d){return u.slice().map((c,m)=>m<d.y||m>=d.y+d.h?c:c.map((w,p)=>p<d.x||p>=d.x+d.w?w:!1))}function Kp(u,d,c,m){if(m==null)return null;const w=u.length+c*2,p=Math.floor(d*Zp),I=w/d,O=(m.width||p)*I,v=(m.height||p)*I,C=m.x==null?u.length/2-O/2:m.x*I,b=m.y==null?u.length/2-v/2:m.y*I,_=m.opacity==null?1:m.opacity;let B=null;if(m.excavate){let K=Math.floor(C),X=Math.floor(b),Q=Math.ceil(O+C-K),ne=Math.ceil(v+b-X);B={x:K,y:X,w:Q,h:ne}}const W=m.crossOrigin;return{x:C,y:b,h:v,w:O,excavation:B,opacity:_,crossOrigin:W}}function qp(u,d){return d!=null?Math.max(Math.floor(d),0):u?Xp:Qp}function qf({value:u,level:d,minVersion:c,includeMargin:m,marginSize:w,imageSettings:p,size:I,boostLevel:O}){let v=en.useMemo(()=>{const K=(Array.isArray(u)?u:[u]).reduce((X,Q)=>(X.push(...Js.QrSegment.makeSegments(Q)),X),[]);return Js.QrCode.encodeSegments(K,Yp[d],c,void 0,void 0,O)},[u,d,c,O]);const{cells:C,margin:b,numCells:_,calculatedImageSettings:B}=en.useMemo(()=>{let W=v.getModules();const K=qp(m,w),X=W.length+K*2,Q=Kp(W,I,K,p);return{cells:W,margin:K,numCells:X,calculatedImageSettings:Q}},[v,I,p,m,w]);return{qrcode:v,margin:b,cells:C,numCells:_,calculatedImageSettings:B}}var $p=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Jp=en.forwardRef(function(d,c){const m=d,{value:w,size:p=Vf,level:I=Wf,bgColor:O=Gf,fgColor:v=Yf,includeMargin:C=Xf,minVersion:b=Qf,boostLevel:_,marginSize:B,imageSettings:W}=m,X=mc(m,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:Q}=X,ne=mc(X,["style"]),he=W?.src,te=en.useRef(null),pe=en.useRef(null),ze=en.useCallback(_e=>{te.current=_e,typeof c=="function"?c(_e):c&&(c.current=_e)},[c]),[De,oe]=en.useState(!1),{margin:Le,cells:ie,numCells:gt,calculatedImageSettings:$e}=qf({value:w,level:I,minVersion:b,boostLevel:_,includeMargin:C,marginSize:B,imageSettings:W,size:p});en.useEffect(()=>{if(te.current!=null){const _e=te.current,q=_e.getContext("2d");if(!q)return;let Ze=ie;const Ce=pe.current,xe=$e!=null&&Ce!==null&&Ce.complete&&Ce.naturalHeight!==0&&Ce.naturalWidth!==0;xe&&$e.excavation!=null&&(Ze=Kf(ie,$e.excavation));const Ne=window.devicePixelRatio||1;_e.height=_e.width=p*Ne;const we=p/gt*Ne;q.scale(we,we),q.fillStyle=O,q.fillRect(0,0,gt,gt),q.fillStyle=v,$p?q.fill(new Path2D(Zf(Ze,Le))):ie.forEach(function(V,re){V.forEach(function(He,Be){He&&q.fillRect(Be+Le,re+Le,1,1)})}),$e&&(q.globalAlpha=$e.opacity),xe&&q.drawImage(Ce,$e.x+Le,$e.y+Le,$e.w,$e.h)}}),en.useEffect(()=>{oe(!1)},[he]);const Me=xc({height:p,width:p},Q);let We=null;return he!=null&&(We=en.createElement("img",{src:he,key:he,style:{display:"none"},onLoad:()=>{oe(!0)},ref:pe,crossOrigin:$e?.crossOrigin})),en.createElement(en.Fragment,null,en.createElement("canvas",xc({style:Me,height:p,width:p,ref:ze,role:"img"},ne)),We)});Jp.displayName="QRCodeCanvas";var $f=en.forwardRef(function(d,c){const m=d,{value:w,size:p=Vf,level:I=Wf,bgColor:O=Gf,fgColor:v=Yf,includeMargin:C=Xf,minVersion:b=Qf,boostLevel:_,title:B,marginSize:W,imageSettings:K}=m,X=mc(m,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:Q,cells:ne,numCells:he,calculatedImageSettings:te}=qf({value:w,level:I,minVersion:b,boostLevel:_,includeMargin:C,marginSize:W,imageSettings:K,size:p});let pe=ne,ze=null;K!=null&&te!=null&&(te.excavation!=null&&(pe=Kf(ne,te.excavation)),ze=en.createElement("image",{href:K.src,height:te.h,width:te.w,x:te.x+Q,y:te.y+Q,preserveAspectRatio:"none",opacity:te.opacity,crossOrigin:te.crossOrigin}));const De=Zf(pe,Q);return en.createElement("svg",xc({height:p,width:p,viewBox:`0 0 ${he} ${he}`,ref:c,role:"img"},X),!!B&&en.createElement("title",null,B),en.createElement("path",{fill:O,d:`M0,0 h${he}v${he}H0z`,shapeRendering:"crispEdges"}),en.createElement("path",{fill:v,d:De,shapeRendering:"crispEdges"}),ze)});$f.displayName="QRCodeSVG";function ex({isOpen:u,onClose:d}){const{books:c}=ta(),m=Pp(c);if(!u)return null;const w=()=>{navigator.clipboard.writeText(m),vn.success("QR data copied to clipboard!")};return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:S.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full relative",children:[S.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:S.jsx(ea,{className:"w-6 h-6"})}),S.jsx("h2",{className:"text-2xl font-heading font-bold text-primary mb-4 text-center",children:"Share Your Shelf"}),m?S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("p",{className:"text-gray-700 mb-4 text-center",children:"Scan this QR code to share your book shelf data."}),S.jsx("div",{className:"p-2 border border-gray-200 rounded-lg",children:S.jsx($f,{value:m,size:256,level:"H"})}),S.jsx("button",{onClick:w,className:"mt-4 bg-accent text-white px-4 py-2 rounded-md hover:bg-cyan-600 transition-colors shadow-sm",children:"Copy QR Data"}),S.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"(Max data size for QR codes is limited. Large shelves might be truncated.)"})]}):S.jsx("p",{className:"text-center text-gray-600",children:"No books to generate QR code for, or data is too large."})]})})}function tx({isOpen:u,onClose:d,book:c,onUpdate:m,onDeleteRequest:w}){const[p,I]=z.useState(c.title),[O,v]=z.useState(c.author),[C,b]=z.useState(c.description),[_,B]=z.useState(c.status),[W,K]=z.useState(c.borrowedBy||"");if(z.useEffect(()=>{c&&(I(c.title),v(c.author),b(c.description),B(c.status),K(c.borrowedBy||""))},[c]),!u||!c)return null;const X=async()=>{if(!p||!O){vn.error("Title and Author cannot be empty!");return}const Q={...c,title:p,author:O,description:C,status:_,borrowedBy:_==="borrowed"?W:""};try{await m(Q),d()}catch(ne){console.error("Failed to save book details:",ne)}};return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:S.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full relative",children:[S.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:S.jsx(ea,{className:"w-6 h-6"})}),S.jsx("h2",{className:"text-2xl font-heading font-bold text-primary mb-4 text-center",children:"Book Details"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"detail-title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),S.jsx("input",{type:"text",id:"detail-title",value:p,onChange:Q=>I(Q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"detail-author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),S.jsx("input",{type:"text",id:"detail-author",value:O,onChange:Q=>v(Q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"detail-description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),S.jsx("textarea",{id:"detail-description",value:C,onChange:Q=>b(Q.target.value),rows:"4",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent resize-y"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"detail-status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),S.jsxs("select",{id:"detail-status",value:_,onChange:Q=>{B(Q.target.value),Q.target.value==="available"&&K("")},className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent",children:[S.jsx("option",{value:"available",children:"Available"}),S.jsx("option",{value:"borrowed",children:"Borrowed"})]})]}),_==="borrowed"&&S.jsxs("div",{children:[S.jsx("label",{htmlFor:"detail-borrowedBy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Borrowed By"}),S.jsx("input",{type:"text",id:"detail-borrowedBy",value:W,onChange:Q=>K(Q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent",placeholder:"Name of borrower"})]})]}),S.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[S.jsxs("button",{onClick:X,className:"flex items-center bg-primary text-white px-4 py-2 rounded-md hover:bg-violet-700 transition-colors font-semibold shadow-md",children:[S.jsx(m2,{className:"w-5 h-5 mr-2"})," Save Changes"]}),S.jsxs("button",{onClick:()=>w(c),className:"flex items-center bg-error text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors font-semibold shadow-md",children:[S.jsx(Rf,{className:"w-5 h-5 mr-2"})," Delete Book"]})]})]})})}function nx({isOpen:u,onClose:d,onConfirm:c,title:m,message:w}){return u?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:S.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-sm w-full relative text-center",children:[S.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:S.jsx(ea,{className:"w-6 h-6"})}),S.jsx(_2,{className:"w-16 h-16 text-error mx-auto mb-4"}),S.jsx("h2",{className:"text-2xl font-heading font-bold text-primary mb-2",children:m}),S.jsx("p",{className:"text-gray-700 mb-6",children:w}),S.jsxs("div",{className:"flex justify-center space-x-4",children:[S.jsx("button",{onClick:d,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),S.jsx("button",{onClick:c,className:"bg-error text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors font-semibold",children:"Confirm"})]})]})}):null}function rx(){const{books:u,loading:d,error:c,updateExistingBook:m,deleteExistingBook:w}=ta(),[p,I]=z.useState("all"),[O,v]=z.useState("title"),[C,b]=z.useState("asc"),[_,B]=z.useState(""),[W,K]=z.useState(!1),[X,Q]=z.useState(!1),[ne,he]=z.useState(null),[te,pe]=z.useState(!1),[ze,De]=z.useState(null),oe=z.useMemo(()=>{let _e=u;if(_){const Ze=_.toLowerCase();_e=_e.filter(Ce=>Ce.title.toLowerCase().includes(Ze)||Ce.author.toLowerCase().includes(Ze))}return p!=="all"&&(_e=_e.filter(Ze=>Ze.status===p)),[..._e].sort((Ze,Ce)=>{const xe=Ze[O].toLowerCase(),Ne=Ce[O].toLowerCase();return xe<Ne?C==="asc"?-1:1:xe>Ne?C==="asc"?1:-1:0})},[u,p,O,C,_]),Le=_e=>{he(_e),Q(!0)},ie=()=>{he(null),Q(!1)},gt=_e=>{De(_e),pe(!0)},$e=async()=>{ze&&(await w(ze.id),pe(!1),De(null),ie())},Me=u.filter(_e=>_e.status==="available").length,We=u.filter(_e=>_e.status==="borrowed").length;return d?S.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4",children:S.jsxs("div",{className:"glass rounded-2xl lg:rounded-3xl p-8 lg:p-12 text-center",children:[S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 lg:h-16 lg:w-16 border-b-2 border-primary-600 mx-auto mb-4 lg:mb-6"}),S.jsx("h3",{className:"text-lg lg:text-xl font-heading font-semibold text-neutral-800 mb-2",children:"Loading your shelf..."}),S.jsx("p",{className:"text-neutral-600 text-sm lg:text-base",children:"Please wait while we fetch your books"})]})}):c?S.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4",children:S.jsxs("div",{className:"glass rounded-2xl lg:rounded-3xl p-8 lg:p-12 text-center",children:[S.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-error-100 rounded-full flex items-center justify-center mx-auto mb-4 lg:mb-6",children:S.jsx(Vr,{className:"w-6 h-6 lg:w-8 lg:h-8 text-error-600"})}),S.jsx("h3",{className:"text-lg lg:text-xl font-heading font-semibold text-neutral-800 mb-2",children:"Error Loading Shelf"}),S.jsx("p",{className:"text-error-600 mb-4 text-sm lg:text-base",children:c}),S.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary btn-md",children:"Try Again"})]})}):S.jsxs("div",{className:"container-wide space-y-6 lg:space-y-8 px-4",children:[S.jsxs("div",{className:"text-center fade-in",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-gradient-primary mb-3 lg:mb-4",children:"My Book Shelf"}),S.jsx("p",{className:"text-base lg:text-lg text-neutral-600",children:"Manage and organize your personal library"})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 slide-up",children:[S.jsxs("div",{className:"glass rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[S.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl lg:rounded-2xl flex items-center justify-center mx-auto mb-3 lg:mb-4 shadow-glow-primary",children:S.jsx(v2,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),S.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-neutral-800 mb-1",children:u.length}),S.jsx("p",{className:"text-neutral-600 font-medium text-sm lg:text-base",children:"Total Books"})]}),S.jsxs("div",{className:"glass rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[S.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-success-500 to-success-600 rounded-xl lg:rounded-2xl flex items-center justify-center mx-auto mb-3 lg:mb-4 shadow-glow",children:S.jsx(Vr,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),S.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-neutral-800 mb-1",children:Me}),S.jsx("p",{className:"text-neutral-600 font-medium text-sm lg:text-base",children:"Available"})]}),S.jsxs("div",{className:"glass rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center sm:col-span-2 lg:col-span-1",children:[S.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-xl lg:rounded-2xl flex items-center justify-center mx-auto mb-3 lg:mb-4 shadow-glow-secondary",children:S.jsx(R2,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),S.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-neutral-800 mb-1",children:We}),S.jsx("p",{className:"text-neutral-600 font-medium text-sm lg:text-base",children:"Borrowed"})]})]}),S.jsx("div",{className:"glass rounded-xl lg:rounded-2xl p-4 lg:p-6 slide-up",style:{animationDelay:"0.1s"},children:S.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:gap-6 lg:items-center lg:justify-between",children:[S.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:gap-4 lg:flex-1",children:[S.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[S.jsx(N2,{className:"w-5 h-5 text-primary-600"}),S.jsx("input",{type:"text",placeholder:"Search by title or author...",value:_,onChange:_e=>B(_e.target.value),className:"input flex-1"})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(C2,{className:"w-5 h-5 text-primary-600"}),S.jsxs("select",{value:p,onChange:_e=>I(_e.target.value),className:"input min-w-[140px]",children:[S.jsx("option",{value:"all",children:"All Statuses"}),S.jsx("option",{value:"available",children:"Available"}),S.jsx("option",{value:"borrowed",children:"Borrowed"})]})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[C==="asc"?S.jsx(L0,{className:"w-5 h-5 text-primary-600"}):S.jsx(k0,{className:"w-5 h-5 text-primary-600"}),S.jsxs("select",{value:O,onChange:_e=>v(_e.target.value),className:"input min-w-[120px]",children:[S.jsx("option",{value:"title",children:"Title"}),S.jsx("option",{value:"author",children:"Author"})]}),S.jsx("button",{onClick:()=>b(C==="asc"?"desc":"asc"),className:"p-2 border border-neutral-200 rounded-lg lg:rounded-xl bg-white/50 hover:bg-white/80 transition-all duration-200",children:C==="asc"?S.jsx(L0,{className:"w-5 h-5"}):S.jsx(k0,{className:"w-5 h-5"})})]})]}),S.jsxs("button",{onClick:()=>K(!0),className:"btn-accent btn-md flex items-center space-x-2 w-full lg:w-auto justify-center",children:[S.jsx(ac,{className:"w-5 h-5"}),S.jsx("span",{children:"Share Shelf"})]})]})}),oe.length===0?S.jsxs("div",{className:"glass rounded-2xl lg:rounded-3xl p-8 lg:p-16 text-center slide-up",style:{animationDelay:"0.2s"},children:[S.jsx("div",{className:"w-16 h-16 lg:w-24 lg:h-24 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-6 lg:mb-8",children:S.jsx(Vr,{className:"w-8 h-8 lg:w-12 lg:h-12 text-neutral-400"})}),S.jsx("h3",{className:"text-2xl lg:text-3xl font-heading font-semibold text-neutral-800 mb-3 lg:mb-4",children:"Your shelf is empty!"}),S.jsx("p",{className:"text-neutral-600 mb-6 lg:mb-8 max-w-md mx-auto text-base lg:text-lg",children:"Start building your personal library by adding your first book to the collection."}),S.jsxs(ui,{to:"/add-book",className:"btn-primary btn-md lg:btn-lg inline-flex items-center space-x-2",children:[S.jsx(_f,{className:"w-5 h-5"}),S.jsx("span",{children:"Add Your First Book"})]})]}):S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:oe.map((_e,q)=>S.jsx("div",{style:{animationDelay:`${.1+q*.05}s`},children:S.jsx(Wp,{book:_e,onOpenDetails:Le,onUpdate:m,onDeleteRequest:gt})},_e.id))}),S.jsx(ex,{isOpen:W,onClose:()=>K(!1)}),ne&&S.jsx(tx,{isOpen:X,onClose:ie,book:ne,onUpdate:m,onDeleteRequest:gt}),ze&&S.jsx(nx,{isOpen:te,onClose:()=>pe(!1),onConfirm:$e,title:"Confirm Deletion",message:`Are you sure you want to delete "${ze.title}" by ${ze.author}? This action cannot be undone.`})]})}const ix=()=>S.jsxs("div",{className:"p-8 space-y-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"QuillCache Logo Showcase"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold",children:"Default Animated Logo"}),S.jsx("div",{className:"flex items-center justify-center",children:S.jsx(Yn,{size:200,showText:!0,animated:!0,id:"demo-default"})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold",children:"Minimal Logo (Various Sizes)"}),S.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[S.jsx(Yn,{size:32,variant:"minimal",animated:!0,id:"demo-minimal-32"}),S.jsx(Yn,{size:48,variant:"minimal",animated:!0,id:"demo-minimal-48"}),S.jsx(Yn,{size:64,variant:"minimal",animated:!0,id:"demo-minimal-64"}),S.jsx(Yn,{size:96,variant:"minimal",animated:!0,id:"demo-minimal-96"})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold",children:"Text Only Variant"}),S.jsx("div",{className:"flex items-center justify-center",children:S.jsx(Yn,{variant:"text-only"})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold",children:"Non-animated Versions"}),S.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[S.jsx(Yn,{size:64,variant:"minimal",animated:!1,id:"demo-static-minimal"}),S.jsx(Yn,{size:120,showText:!0,animated:!1,id:"demo-static-default"})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold",children:"Logo without Text"}),S.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[S.jsx(Yn,{size:80,showText:!1,animated:!0,id:"demo-no-text-80"}),S.jsx(Yn,{size:120,showText:!1,animated:!0,id:"demo-no-text-120"})]})]})]}),sx=()=>S.jsxs("div",{className:"p-8",children:[S.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Logo Test"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Simple Logo (32px)"}),S.jsx(pl,{size:32})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Simple Logo (64px)"}),S.jsx(pl,{size:64})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Simple Logo (128px)"}),S.jsx(pl,{size:128})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Minimal Logo (32px)"}),S.jsx(Yn,{size:32,variant:"minimal",animated:!0,id:"test-minimal"})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Default Logo (64px)"}),S.jsx(Yn,{size:64,showText:!0,animated:!0,id:"test-default"})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Text Only"}),S.jsx(Yn,{variant:"text-only",id:"test-text"})]})]})]});function ox(){return ta(),S.jsxs("div",{className:"min-h-screen flex flex-col",children:[S.jsx(Up,{}),S.jsx("main",{className:"flex-grow container mx-auto p-4 sm:p-6 lg:p-8",children:S.jsxs(Wh,{children:[S.jsx(qs,{path:"/",element:S.jsx(zp,{})}),S.jsx(qs,{path:"/add-book",element:S.jsx(Vp,{})}),S.jsx(qs,{path:"/my-shelf",element:S.jsx(rx,{})}),S.jsx(qs,{path:"/logo-demo",element:S.jsx(ix,{})}),S.jsx(qs,{path:"/logo-test",element:S.jsx(sx,{})})]})})]})}eh.createRoot(document.getElementById("root")).render(S.jsx(en.StrictMode,{children:S.jsxs(hg,{children:[S.jsx(ox,{}),S.jsx(d2,{position:"top-center"})," "]})}));
//# sourceMappingURL=index-C75U-w7z.js.map
